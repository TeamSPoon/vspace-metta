<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "examples/python/sandbox/sql_space/sql_space_test.metta")
<span class="ansi38-000068000">!(extend-py! sql_space)

</span>; Evaluation took 0.150 ms. (150.00 microseconds) 
<span class="ansi33">  (extend-py! sql_space)

</span>; database can be installed with use of   https://github.com/metabrainz/musicbrainz-docker#publish-ports-of-all-services
; the description https://musicbrainz.org/doc/MusicBrainz_Database
<span class="ansi38-000068000">!(bind! &sql_space (new-sql-space musicbrainz_db localhost musicbrainz musicbrainz 5432))

</span>; Evaluation took 0.472 ms. (472.40 microseconds) 
<span class="ansi33">  (new-sql-space musicbrainz_db localhost musicbrainz musicbrainz 5432)

</span>; save sql query results into given space
<span class="ansi38-000068000">!(sql.save-query-result &sql_space &self (and (musicbrainz.artist (id $Id) (name $Name)) (musicbrainz.artist (id $Id) (begin_date_year 1977)) (limit 3)))

</span>%~ catch_warn(apply(name,[_69400,_69406])) -->
%~   error(instantiation_error,context(system:name/2,Context_Kw)).
%~ catch_warn(apply(name,[_91218,_91224])) -->
%~   error(instantiation_error,context(system:name/2,Context_Kw)).
%~ catch_warn(apply(limit,[3,_114506])) -->
%~   error(instantiation_error,context(solution_sequences:limit/2,Context_Kw)).
%~ catch_warn(apply(limit,[3,_135096])) -->
%~   error(instantiation_error,context(solution_sequences:limit/2,Context_Kw)).
%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl:948 
%~ catch_warn(apply(name,[_159208,_159214])) -->
%~   error(instantiation_error,context(system:name/2,Context_Kw)).
%~ catch_warn(apply(name,[_180654,_180660])) -->
%~   error(instantiation_error,context(system:name/2,Context_Kw)).
%~ catch_warn(apply(limit,[3,_204558])) -->
%~   error(instantiation_error,context(solution_sequences:limit/2,Context_Kw)).
%~ catch_warn(apply(limit,[3,_225148])) -->
%~   error(instantiation_error,context(solution_sequences:limit/2,Context_Kw)).
; Evaluation took 257.39 ms.
<span class="ansi33">  (sql.save-query-result 
    (new-sql-space musicbrainz_db localhost musicbrainz musicbrainz 5432) &self True)

</span><span class="ansi38-000068000">!(get-atoms &self)

</span>; Evaluation took 0.070 ms. (69.70 microseconds) 
<span class="ansi33"> ()

</span>;result : [GroundingSpace, ((musicbrainz.artist (id "127482") (name "Kanye West"))), ((musicbrainz.artist (id "127482") (begin_date_year 1977))), ((musicbrainz.artist (id "23366") (name "The Dirty Dozen Brass Band"))), ((musicbrainz.artist (id "23366") (begin_date_year 1977))), ((musicbrainz.artist (id "35629") (name "Fabolous"))), ((musicbrainz.artist (id "35629") (begin_date_year 1977)))]
<span class="ansi38-000068000">!(match &sql_space (and (musicbrainz.artist (id $Id) (name $Name)) (musicbrainz.artist (id $Id) (begin_date_year 1983)) (limit 3)) $Name)

</span>;result ["NOFX", "Red Hot Chili Peppers", "Bon Jovi"]
<span class="ansi38-000068000">!(sql.insert &sql_space ((table musicbrainz.artist) (gid "uuid_generate_v4()") (name "some name3") (sort_name "name some3") (begin_date_year 1988) (begin_date_month 1) (begin_date_day 1) (type 1) (area 222) (gender 2)))

</span>; Evaluation took 11.17 ms.
<span class="ansi33">  (sql.insert 
    (new-sql-space musicbrainz_db localhost musicbrainz musicbrainz 5432) 
    (True 
      (gid "uuid_generate_v4()") 
      (115 111 109 101 32 110 97 109 101 51) 
      (sort_name "name some3") 
      (begin_date_year 1988) 
      (begin_date_month 1) 
      (begin_date_day 1) 
      (type 1) 
      (area 222) 
      (gender 2)))

</span><span class="ansi32">% 1,291,286 inferences, 0.332 CPU in 0.332 seconds (100% CPU, 3887655 Lips)
</span> (@ = "examples/python/sandbox/sql_space/sql_space_test.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "examples/python/sandbox/sql_space/sql_space_test.html" )

</pre>
</body>

</html>
