<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "examples/compat/common/formula/DeductionFormulaTest.metta")
<span class="ansi38-000068000">!(import! &self DeductionFormula.metta)

</span>;; Test
;;; Formula and other functions used for the deduction rule
;; Import modules
<span class="ansi38-000068000">!(import! &self "../truthvalue/TruthValue.metta")

</span>;;; Truth value type definition
;; Import modules
<span class="ansi38-000068000">!(import! &self "../Num.metta")

</span>;;;;;;;;;;
;; Type ;;
;;;;;;;;;;
;;; Collection of functions operating on numbers
;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[max,X,Y],[if,[>,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span>

;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,X,Y],[if,[<,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span>

;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[clamp,X,L,U],[max,L,[min,U,X]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span>

;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[abs,X],[if,[<,X,0],[*,-1,X],X])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span>

;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[<=,X,Y],[or,[<,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[>=,X,Y],[or,[>,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span>

;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span>

;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,'Z'],0)
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,['S',K]],[+,1,[fromNat,K]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

;; Define a generic less than operator, â©», for Nat.  < cannot be used
;; because it is a built-in, its type is hardwired and cannot be
;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',_,'Z'],'False')
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»','Z',['S',_]],'True')
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',['S',X],['S',Y]],['â©»',X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span>

;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',X,Y],[<,X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span>

;; Return the ceiling of a non negative number.  If the number is
;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[ceil,N],[fromNat,[fromNumber,N]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span>

;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['number->bool',X],[<,0,X])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span>

;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','False'],0)
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','True'],1)
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span>

;; Define a less than type.  Note that it is purposefully different
;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;; are proofs that x â©» y == True.  For now â is only axiomatized for
;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,True,True,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $True $True Type))
</span>

;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span>

;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span>

; Evaluation took 266.76 ms.
<span class="ansi33"> &self

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'TruthValue','Type'])
</span><span class="ansi38-255165000">  (: TruthValue Type)
</span>

;;;;;;;;;;;;;;;;;;
;; Constructors ;;
;;;;;;;;;;;;;;;;;;
;; Boolean TV constructor
;; TODO: alternatively we could have (: â¤ TruthValue) and (: â¥ TruthValue)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Bl',[->,'Bool','TruthValue']])
</span><span class="ansi38-255165000">  (: Bl 
    (-> Bool TruthValue))
</span>

;; First order probability TV constructor, i.e. mere probability.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Pr',[->,'Number','TruthValue']])
</span><span class="ansi38-255165000">  (: Pr 
    (-> Number TruthValue))
</span>

;; Second order probability TV constructor, i.e. probability and
;; count.  The second order probability is distributed according to a
;; beta distribution.  The first argument of the constructor
;; represents the mode of the second order distribution.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'PrCnt',[->,'Number','Number','TruthValue']])
</span><span class="ansi38-255165000">  (: PrCnt 
    (-> Number Number TruthValue))
</span>

;; Simple Truth Value.  A Second order probability TV constructor,
;; i.e. probability and confidence.  The probability is in fact the
;; mode of the corresponding beta distribution.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'STV',[->,'Number','Number','TruthValue']])
</span><span class="ansi38-255165000">  (: STV 
    (-> Number Number TruthValue))
</span>

;;;;;;;;;;;;;;;
;; Constants ;;
;;;;;;;;;;;;;;;
;; For now the underlying beta distributions have a Jeffreys prior,
;; i.e. the prior alpha and beta are 0.5.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,prior_alpha,[->,'Number']])
</span><span class="ansi38-255165000">  (: prior_alpha 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[prior_alpha],0.5)
</span><span class="ansi38-255165000">  (= 
    (prior_alpha) 0.5)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,prior_beta,[->,'Number']])
</span><span class="ansi38-255165000">  (: prior_beta 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[prior_beta],0.5)
</span><span class="ansi38-255165000">  (= 
    (prior_beta) 0.5)
</span>

;; Lookahead
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,lookahead,[->,'Number']])
</span><span class="ansi38-255165000">  (: lookahead 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[lookahead],1.0)
</span><span class="ansi38-255165000">  (= 
    (lookahead) 1.0)
</span>

;; Maximum supported count (till +inf is supported, possibly).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'max-count',[->,'Number']])
</span><span class="ansi38-255165000">  (: max-count 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['max-count'],1000000000.0)
</span><span class="ansi38-255165000">  (= 
    (max-count) 1000000000.0)
</span>

;;;;;;;;;;;;;
;; Methods ;;
;;;;;;;;;;;;;
;; Convert count to confidence using the formula
;;
;; confidence = count / (count + lookahead)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'count->confidence',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: count->confidence 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['count->confidence',Cnt],[/,Cnt,[+,Cnt,[lookahead]]])
</span><span class="ansi38-255165000">  (= 
    (count->confidence $Cnt) 
    (/ $Cnt 
      (+ $Cnt 
        (lookahead))))
</span>

;; Convert confidence to count using the formula
;;
;; count = (confidence * lookahead) / (1 - confidence)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'confidence->count',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: confidence->count 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['confidence->count',Conf],[if,[approxEq,1.0,Conf,1.0e-9],['max-count'],[/,[*,Conf,[lookahead]],[-,1.0,Conf]]])
</span><span class="ansi38-255165000">  (= 
    (confidence->count $Conf) 
    (if 
      (approxEq 1.0 $Conf 1.0e-9) 
      (max-count) 
      (/ 
        (* $Conf 
          (lookahead)) 
        (- 1.0 $Conf))))
</span>

;; Increment the given count by 1
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-count',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: inc-count 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['inc-count',Cnt],[+,1,Cnt])
</span><span class="ansi38-255165000">  (= 
    (inc-count $Cnt) 
    (+ 1 $Cnt))
</span>

;; Increment the corresponding count of the given confidence by 1 and
;; return the confidence of that corresponding incremented count.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-confidence',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: inc-confidence 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['inc-confidence',Conf],['count->confidence',['inc-count',['confidence->count',Conf]]])
</span><span class="ansi38-255165000">  (= 
    (inc-confidence $Conf) 
    (count->confidence 
      (inc-count 
        (confidence->count $Conf))))
</span>

;; Return the strength of a truth value, given that its count has been
;; incremented by one but its positive count has not.
;;
;; The formula is derived from new_s = s*cnt / (cnt + 1), where cnt is
;; the count of the original truth value, that is cnt = c*k / (1-c).
;; Thus
;;
;; new_s = (s*c*k / (1-c)) / (c*k / (1-c) + 1)
;;       = (s*c*k / (1-c)) / ((c*k + 1-c) / (1-c))
;;       = (s*c*k) / (c*k + 1-c)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-count-strength',[->,'Number','Number','Number']])
</span><span class="ansi38-255165000">  (: inc-count-strength 
    (-> Number Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['inc-count-strength',S,C],[/,[*,S,[*,C,[lookahead]]],[-,[+,[*,C,[lookahead]],1],C]])
</span><span class="ansi38-255165000">  (= 
    (inc-count-strength $S $C) 
    (/ 
      (* $S 
        (* $C 
          (lookahead))) 
      (- 
        (+ 
          (* $C 
            (lookahead)) 1) $C)))
</span>

;; Return the first order probability mode of the second order
;; distribution associated to a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mode,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mode 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Bl','True']],1.0)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl True)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Bl','False']],0.0)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl False)) 0.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Pr',Pr]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Pr $Pr)) $Pr)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['PrCnt',Pr,_]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (PrCnt $Pr $_)) $Pr)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['STV',Pr,_]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (STV $Pr $_)) $Pr)
</span>

;; Return the total count of a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the count
;; is assumed to be a very large number (cause +inf does not seem to
;; be supported at the moment).  For truth values capturing a notion
;; of confidence, such as PrCnt, the total count is the count
;; component of the truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,count,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['Bl',_]],['max-count'])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Bl $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['Pr',_]],['max-count'])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Pr $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['PrCnt',_,Cnt]],Cnt)
</span><span class="ansi38-255165000">  (= 
    (count 
      (PrCnt $_ $Cnt)) $Cnt)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['STV',_,Conf]],['confidence->count',Conf])
</span><span class="ansi38-255165000">  (= 
    (count 
      (STV $_ $Conf)) 
    (confidence->count $Conf))
</span>

;; Return the confidence of a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the
;; confidence is assumed to be 1.0.  For truth values capturing a
;; notion of confidence, such as PrCnt, the formula to convert a count
;; into confidence is as follows
;;
;; confidence = count / (count + lookahead)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,confidence,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: confidence 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['Bl',_]],1.0)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Bl $_)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['Pr',_]],1.0)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Pr $_)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['PrCnt',_,Cnt]],['count->confidence',Cnt])
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (PrCnt $_ $Cnt)) 
    (count->confidence $Cnt))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['STV',_,Conf]],Conf)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (STV $_ $Conf)) $Conf)
</span>

;; Return the positive count of a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,pos_count,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: pos_count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[pos_count,Tv],[*,[mode,Tv],[count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (pos_count $Tv) 
    (* 
      (mode $Tv) 
      (count $Tv)))
</span>

;; Return the negative count of a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,neg_count,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: neg_count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[neg_count,Tv],[*,[-,1,[mode,Tv]],[count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (neg_count $Tv) 
    (* 
      (- 1 
        (mode $Tv)) 
      (count $Tv)))
</span>

;; Return the posterior alpha of a truth value
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,post_alpha,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post_alpha 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[post_alpha,Tv],[+,[prior_alpha],[pos_count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (post_alpha $Tv) 
    (+ 
      (prior_alpha) 
      (pos_count $Tv)))
</span>

;; Return the posterior beta of a truth value
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,post_beta,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post_beta 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[post_beta,Tv],[+,[prior_beta],[neg_count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (post_beta $Tv) 
    (+ 
      (prior_beta) 
      (neg_count $Tv)))
</span>

;; Return the first order probability mean of the second order
;; distribution associated to a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the
;; confidence is assumed to be 1.0.  For truth values capturing a
;; notion of confidence, such as PrCnt, a beta distribution is
;; assumed.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mean,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mean 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Bl','True']],1.0)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl True)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Bl','False']],0.0)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl False)) 0.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Pr',Pr]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Pr $Pr)) $Pr)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['PrCnt',Pr,Cnt]],['let*',[[A,[post_alpha,['PrCnt',Pr,Cnt]]],[B,[post_beta,['PrCnt',Pr,Cnt]]]],[/,A,[+,A,B]]])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (PrCnt $Pr $Cnt)) 
    (let* 
      ( ($A 
          (post_alpha 
            (PrCnt $Pr $Cnt))) 
        ($B 
          (post_beta 
            (PrCnt $Pr $Cnt)))) 
      (/ $A 
        (+ $A $B))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['STV',Pr,Conf]],['let*',[[A,[post_alpha,['STV',Pr,Conf]]],[B,[post_beta,['STV',Pr,Conf]]]],[/,A,[+,A,B]]])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (STV $Pr $Conf)) 
    (let* 
      ( ($A 
          (post_alpha 
            (STV $Pr $Conf))) 
        ($B 
          (post_beta 
            (STV $Pr $Conf)))) 
      (/ $A 
        (+ $A $B))))
</span>

; Evaluation took 1110.47 ms.
<span class="ansi33"> &self

</span><span class="ansi38-000068000">!(import! &self "../Num.metta")

</span>; Consistency Conditions
;;; Collection of functions operating on numbers
;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[max,X,Y],[if,[>,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span>

;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,X,Y],[if,[<,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span>

;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[clamp,X,L,U],[max,L,[min,U,X]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span>

;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[abs,X],[if,[<,X,0],[*,-1,X],X])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span>

;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[<=,X,Y],[or,[<,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[>=,X,Y],[or,[>,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span>

;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span>

;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,'Z'],0)
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,['S',K]],[+,1,[fromNat,K]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

;; Define a generic less than operator, â©», for Nat.  < cannot be used
;; because it is a built-in, its type is hardwired and cannot be
;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',_,'Z'],'False')
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»','Z',['S',_]],'True')
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',['S',X],['S',Y]],['â©»',X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span>

;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',X,Y],[<,X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span>

;; Return the ceiling of a non negative number.  If the number is
;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[ceil,N],[fromNat,[fromNumber,N]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span>

;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['number->bool',X],[<,0,X])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span>

;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','False'],0)
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','True'],1)
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span>

;; Define a less than type.  Note that it is purposefully different
;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;; are proofs that x â©» y == True.  For now â is only axiomatized for
;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,True,True,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $True $True Type))
</span>

;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span>

;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span>

; Evaluation took 256.90 ms.
<span class="ansi33"> &self

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'smallest-intersection-probability',[->,'Number','Number','Number']])
</span><span class="ansi38-255165000">  (: smallest-intersection-probability 
    (-> Number Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['smallest-intersection-probability',As,Bs],[clamp,[/,[-,[+,As,Bs],1],As],0,1])
</span><span class="ansi38-255165000">  (= 
    (smallest-intersection-probability $As $Bs) 
    (clamp 
      (/ 
        (- 
          (+ $As $Bs) 1) $As) 0 1))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'largest-intersection-probability',[->,'Number','Number','Number']])
</span><span class="ansi38-255165000">  (: largest-intersection-probability 
    (-> Number Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['largest-intersection-probability',As,Bs],[clamp,[/,Bs,As],0,1])
</span><span class="ansi38-255165000">  (= 
    (largest-intersection-probability $As $Bs) 
    (clamp 
      (/ $Bs $As) 0 1))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'conditional-probability-consistency',[->,'Number','Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: conditional-probability-consistency 
    (-> Number Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['conditional-probability-consistency',As,Bs,ABs],'True')
</span><span class="ansi38-255165000">  (= 
    (conditional-probability-consistency $As $Bs $ABs) True)
</span>

;; (and (< 0 $As)
;;      (and (<= (smallest-intersection-probability $As $Bs) $ABs)
;;           (<= $ABs (largest-intersection-probability $As $Bs)))))
;; Main Formula
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'simple-deduction-strength-formula',[->,'Number','Number','Number','Number','Number','Number']])
</span><span class="ansi38-255165000">  (: simple-deduction-strength-formula 
    (-> Number Number Number Number Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['simple-deduction-strength-formula',As,Bs,Cs,ABs,BCs],[if,[and,['conditional-probability-consistency',As,Bs,ABs],['conditional-probability-consistency',Bs,Cs,BCs]],[if,[<,0.99,Bs],Cs,[+,[*,ABs,BCs],[/,[*,[-,1,ABs],[-,Cs,[*,Bs,BCs]]],[-,1,Bs]]]],0])
</span><span class="ansi38-255165000">  (= 
    (simple-deduction-strength-formula $As $Bs $Cs $ABs $BCs) 
    (if 
      (and 
        (conditional-probability-consistency $As $Bs $ABs) 
        (conditional-probability-consistency $Bs $Cs $BCs)) 
      (if 
        (< 0.99 $Bs) $Cs 
        (+ 
          (* $ABs $BCs) 
          (/ 
            (* 
              (- 1 $ABs) 
              (- $Cs 
                (* $Bs $BCs))) 
            (- 1 $Bs)))) 0))
</span>

;; Preconditions are met
;; sB tends to 1
;; otherwise
;; Preconditions are not met
;; Deduction formula
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[ded_formula,Ptv,Qtv,Rtv,Pqtv,Qrtv],['let*',[[Pc,[confidence,Ptv]],[Qc,[confidence,Qtv]],[Rc,[confidence,Rtv]],[PQc,[confidence,Pqtv]],[QRc,[confidence,Qrtv]],[PQs,[mode,Pqtv]],[QRs,[mode,Qrtv]],[Ps,[mode,Ptv]],[Qs,[mode,Qtv]],[Rs,[mode,Rtv]]],['let*',[[PRs,['simple-deduction-strength-formula',Ps,Qs,Rs,PQs,QRs]],[PRc,[min,Pc,[min,Qc,[min,Rc,[min,PQc,QRc]]]]]],[if,[==,PRs,0],['PrCnt',1,0],['PrCnt',PRs,PRs]]]])
</span><span class="ansi38-255165000">  (= 
    (ded_formula $Ptv $Qtv $Rtv $Pqtv $Qrtv) 
    (let* 
      ( ($Pc 
          (confidence $Ptv)) 
        ($Qc 
          (confidence $Qtv)) 
        ($Rc 
          (confidence $Rtv)) 
        ($PQc 
          (confidence $Pqtv)) 
        ($QRc 
          (confidence $Qrtv)) 
        ($PQs 
          (mode $Pqtv)) 
        ($QRs 
          (mode $Qrtv)) 
        ($Ps 
          (mode $Ptv)) 
        ($Qs 
          (mode $Qtv)) 
        ($Rs 
          (mode $Rtv))) 
      (let* 
        ( ($PRs 
            (simple-deduction-strength-formula $Ps $Qs $Rs $PQs $QRs)) 
          ($PRc 
            (min $Pc 
              (min $Qc 
                (min $Rc 
                  (min $PQc $QRc)))))) 
        (if 
          (== $PRs 0) 
          (PrCnt 1 0) 
          (PrCnt $PRs $PRs)))))
</span>

;; Alternate deduction formula hardwired for STV to make it faster.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['deduction-formula',['STV',Ps,Pc],['STV',Qs,Qc],['STV',Rs,Rc],['STV',PQs,PQc],['STV',QRs,QRc]],[if,[and,['conditional-probability-consistency',Ps,Qs,PQs],['conditional-probability-consistency',Qs,Rs,QRs]],['STV',[if,[<,0.9999,Qs],Rs,[+,[*,PQs,QRs],[/,[*,[-,1,PQs],[-,Rs,[*,Qs,QRs]]],[-,1,Qs]]]],[min,Pc,[min,Qc,[min,Rc,[min,PQc,QRc]]]]],['STV',1,0]])
</span><span class="ansi38-255165000">  (= 
    (deduction-formula 
      (STV $Ps $Pc) 
      (STV $Qs $Qc) 
      (STV $Rs $Rc) 
      (STV $PQs $PQc) 
      (STV $QRs $QRc)) 
    (if 
      (and 
        (conditional-probability-consistency $Ps $Qs $PQs) 
        (conditional-probability-consistency $Qs $Rs $QRs)) 
      (STV 
        (if 
          (< 0.9999 $Qs) $Rs 
          (+ 
            (* $PQs $QRs) 
            (/ 
              (* 
                (- 1 $PQs) 
                (- $Rs 
                  (* $Qs $QRs))) 
              (- 1 $Qs)))) 
        (min $Pc 
          (min $Qc 
            (min $Rc 
              (min $PQc $QRc))))) 
      (STV 1 0)))
</span>

; Evaluation took 1607.25 ms.
<span class="ansi33"> &self

</span>;; Preconditions are met
; avoid division by 0
;; Qs tends to 1
;; Otherwise
;; Preconditions are not met
<span class="ansi38-000068000">!(assertEqualToResult (max 3 4) (4))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.01">;; FORMULA.DEDUCTIONFORMULATEST.01</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (4) 
    (4)))
</span>        -->(0,'&self',[max,3,4],depth(2))
          -->(1,'&self',[if,[>,3,4],3,4],depth(3))
              -->(2,'&self',[>,3,4],depth(5))
              <--(2,retval('False'))
          <--(1,retval(4))
        <--(0,retval([if,[>,3,4],3,4]))
; Evaluation took 1.42 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (min 3 4) (3))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.02">;; FORMULA.DEDUCTIONFORMULATEST.02</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (3) 
    (3)))
</span>        -->(0,'&self',[min,3,4],depth(2))
          -->(1,'&self',[if,[<,3,4],3,4],depth(3))
              -->(2,'&self',[<,3,4],depth(5))
              <--(2,retval('True'))
          <--(1,retval(3))
        <--(0,retval([if,[<,3,4],3,4]))
; Evaluation took 1.37 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (and True True) (True))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.03">;; FORMULA.DEDUCTIONFORMULATEST.03</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (True) 
    (True)))
</span>        -->(0,'&self',[and,'True','True'],depth(2))
        <--(0,retval('True'))
; Evaluation took 1.05 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (or True False) (True))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.04">;; FORMULA.DEDUCTIONFORMULATEST.04</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (True) 
    (True)))
</span>        -->(0,'&self',[or,'True','False'],depth(2))
        <--(0,retval('True'))
; Evaluation took 1.06 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (<= 5 4) (False))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.05">;; FORMULA.DEDUCTIONFORMULATEST.05</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (False) 
    (False)))
</span>        -->(0,'&self',[<=,5,4],depth(2))
          -->(1,'&self',[or,[<,5,4],[==,5,4]],depth(3))
              -->(2,'&self',[<,5,4],depth(5))
              <--(2,retval('False'))
              -->(3,'&self',[or,'False',[==,5,4]],depth(5))
                  -->(4,'&self',[==,5,4],depth(7))
                  <--(4,retval('False'))
                  -->(5,'&self',[or,'False','False'],depth(7))
                  <--(5,retval('False'))
                  -->(6,'&self',[==,5,4],depth(7))
                  <--(6,retval('False'))
              <--(3,retval('False'))
              -->(7,'&self',[<,5,4],depth(5))
              <--(7,retval('False'))
              -->(8,'&self',[==,5,4],depth(5))
              <--(8,retval('False'))
          <--(1,retval('False'))
        <--(0,retval([or,[<,5,4],[==,5,4]]))
; Evaluation took 2.83 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (clamp 2 0 1) (1))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.06">;; FORMULA.DEDUCTIONFORMULATEST.06</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (1) 
    (1)))
</span>        -->(0,'&self',[clamp,2,0,1],depth(2))
          -->(1,'&self',[max,0,[min,1,2]],depth(3))
              -->(2,'&self',[min,1,2],depth(5))
                -->(3,'&self',[if,[<,1,2],1,2],depth(6))
                    -->(4,'&self',[<,1,2],depth(8))
                    <--(4,retval('True'))
                <--(3,retval(1))
              -->(5,'&self',[max,0,1],depth(5))
                -->(6,'&self',[if,[>,0,1],0,1],depth(6))
                    -->(7,'&self',[>,0,1],depth(8))
                    <--(7,retval('False'))
                <--(6,retval(1))
              <--(5,retval([if,[>,0,1],0,1]))
              <--(2,retval([if,[<,1,2],1,2]))
            -->(8,'&self',[if,[>,0,[min,1,2]],0,[min,1,2]],depth(4))
                -->(9,'&self',[>,0,[min,1,2]],depth(6))
                    -->(10,'&self',[min,1,2],depth(8))
                      -->(11,'&self',[if,[<,1,2],1,2],depth(9))
                          -->(12,'&self',[<,1,2],depth(11))
                          <--(12,retval('True'))
                      <--(11,retval(1))
                    -->(13,'&self',[>,0,1],depth(8))
                    <--(13,retval('False'))
                -->(14,'&self',[min,1,2],depth(6))
                  -->(15,'&self',[if,[<,1,2],1,2],depth(7))
                      -->(16,'&self',[<,1,2],depth(9))
                      <--(16,retval('True'))
                  <--(15,retval(1))
                <--(14,retval([if,[<,1,2],1,2]))
                    <--(10,retval([if,[<,1,2],1,2]))
                    -->(17,'&self',[min,1,2],depth(8))
                      -->(18,'&self',[if,[<,1,2],1,2],depth(9))
                          -->(19,'&self',[<,1,2],depth(11))
                          <--(19,retval('True'))
                      <--(18,retval(1))
                    <--(17,retval([if,[<,1,2],1,2]))
                <--(9,retval('False'))
            <--(8,retval(1))
          <--(1,retval([if,[>,0,[min,1,2]],0,[min,1,2]]))
        <--(0,retval([max,0,[min,1,2]]))
; Evaluation took 5.61 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (smallest-intersection-probability 0.9 0.6) (0.5555555555555556))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.07">;; FORMULA.DEDUCTIONFORMULATEST.07</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (0.5555555555555556) 
    (0.5555555555555556)))
</span>        -->(0,'&self',['smallest-intersection-probability',0.9,0.6],depth(2))
          -->(1,'&self',[clamp,[/,[-,[+,0.9,0.6],1],0.9],0,1],depth(3))
              -->(2,'&self',[+,0.9,0.6],depth(5))
              -->(3,'&self',[clamp,[/,[-,1.5,1],0.9],0,1],depth(5))
                  -->(4,'&self',[-,1.5,1],depth(7))
                  -->(5,'&self',[clamp,[/,0.5,0.9],0,1],depth(7))
                      -->(6,'&self',[/,0.5,0.9],depth(9))
                      <--(6,retval(0.5555555555555556))
                      -->(7,'&self',[clamp,0.5555555555555556,0,1],depth(9))
                        -->(8,'&self',[max,0,[min,1,0.5555555555555556]],depth(10))
                            -->(9,'&self',[min,1,0.5555555555555556],depth(12))
                              -->(10,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(13))
                                  -->(11,'&self',[<,1,0.5555555555555556],depth(15))
                                  <--(11,retval('False'))
                              <--(10,retval(0.5555555555555556))
                            -->(12,'&self',[max,0,0.5555555555555556],depth(12))
                              -->(13,'&self',[if,[>,0,0.5555555555555556],0,0.5555555555555556],depth(13))
                                  -->(14,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(14,retval('False'))
                              <--(13,retval(0.5555555555555556))
                            <--(12,retval([if,[>,0,0.5555555555555556],0,0.5555555555555556]))
                            <--(9,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                          -->(15,'&self',[if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]],depth(11))
                              -->(16,'&self',[>,0,[min,1,0.5555555555555556]],depth(13))
                                  -->(17,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(18,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(19,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(19,retval('False'))
                                    <--(18,retval(0.5555555555555556))
                                  -->(20,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(20,retval('False'))
                              -->(21,'&self',[min,1,0.5555555555555556],depth(13))
                                -->(22,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(14))
                                    -->(23,'&self',[<,1,0.5555555555555556],depth(16))
                                    <--(23,retval('False'))
                                <--(22,retval(0.5555555555555556))
                              <--(21,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  <--(17,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  -->(24,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(25,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(26,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(26,retval('False'))
                                    <--(25,retval(0.5555555555555556))
                                  <--(24,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                              <--(16,retval('False'))
                          <--(15,retval(0.5555555555555556))
                        <--(8,retval([if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]]))
                      <--(7,retval([max,0,[min,1,0.5555555555555556]]))
                    -->(27,'&self',[max,0,[min,1,[/,0.5,0.9]]],depth(8))
                        -->(28,'&self',[/,0.5,0.9],depth(10))
                        <--(28,retval(0.5555555555555556))
                        -->(29,'&self',[max,0,[min,1,0.5555555555555556]],depth(10))
                            -->(30,'&self',[min,1,0.5555555555555556],depth(12))
                              -->(31,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(13))
                                  -->(32,'&self',[<,1,0.5555555555555556],depth(15))
                                  <--(32,retval('False'))
                              <--(31,retval(0.5555555555555556))
                            -->(33,'&self',[max,0,0.5555555555555556],depth(12))
                              -->(34,'&self',[if,[>,0,0.5555555555555556],0,0.5555555555555556],depth(13))
                                  -->(35,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(35,retval('False'))
                              <--(34,retval(0.5555555555555556))
                            <--(33,retval([if,[>,0,0.5555555555555556],0,0.5555555555555556]))
                            <--(30,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                          -->(36,'&self',[if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]],depth(11))
                              -->(37,'&self',[>,0,[min,1,0.5555555555555556]],depth(13))
                                  -->(38,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(39,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(40,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(40,retval('False'))
                                    <--(39,retval(0.5555555555555556))
                                  -->(41,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(41,retval('False'))
                              -->(42,'&self',[min,1,0.5555555555555556],depth(13))
                                -->(43,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(14))
                                    -->(44,'&self',[<,1,0.5555555555555556],depth(16))
                                    <--(44,retval('False'))
                                <--(43,retval(0.5555555555555556))
                              <--(42,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  <--(38,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  -->(45,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(46,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(47,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(47,retval('False'))
                                    <--(46,retval(0.5555555555555556))
                                  <--(45,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                              <--(37,retval('False'))
                          <--(36,retval(0.5555555555555556))
                        <--(29,retval([if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]]))
                      -->(48,'&self',[if,[>,0,[min,1,[/,0.5,0.9]]],0,[min,1,[/,0.5,0.9]]],depth(9))
                          -->(49,'&self',[>,0,[min,1,[/,0.5,0.9]]],depth(11))
                              -->(50,'&self',[/,0.5,0.9],depth(13))
                              <--(50,retval(0.5555555555555556))
                              -->(51,'&self',[>,0,[min,1,0.5555555555555556]],depth(13))
                                  -->(52,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(53,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(54,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(54,retval('False'))
                                    <--(53,retval(0.5555555555555556))
                                  -->(55,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(55,retval('False'))
                          -->(56,'&self',[min,1,[/,0.5,0.9]],depth(11))
                              -->(57,'&self',[/,0.5,0.9],depth(13))
                              <--(57,retval(0.5555555555555556))
                              -->(58,'&self',[min,1,0.5555555555555556],depth(13))
                                -->(59,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(14))
                                    -->(60,'&self',[<,1,0.5555555555555556],depth(16))
                                    <--(60,retval('False'))
                                <--(59,retval(0.5555555555555556))
                              <--(58,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                            -->(61,'&self',[if,[<,1,[/,0.5,0.9]],1,[/,0.5,0.9]],depth(12))
                                -->(62,'&self',[<,1,[/,0.5,0.9]],depth(14))
                                    -->(63,'&self',[/,0.5,0.9],depth(16))
                                    <--(63,retval(0.5555555555555556))
                                    -->(64,'&self',[<,1,0.5555555555555556],depth(16))
                                    <--(64,retval('False'))
                                -->(65,'&self',[/,0.5,0.9],depth(14))
                                <--(65,retval(0.5555555555555556))
                                    -->(66,'&self',[/,0.5,0.9],depth(16))
                                    <--(66,retval(0.5555555555555556))
                                <--(62,retval('False'))
                            <--(61,retval(0.5555555555555556))
                          <--(56,retval([if,[<,1,[/,0.5,0.9]],1,[/,0.5,0.9]]))
                                  <--(52,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  -->(67,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(68,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(69,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(69,retval('False'))
                                    <--(68,retval(0.5555555555555556))
                                  <--(67,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                              <--(51,retval('False'))
                              -->(70,'&self',[min,1,[/,0.5,0.9]],depth(13))
                                  -->(71,'&self',[/,0.5,0.9],depth(15))
                                  <--(71,retval(0.5555555555555556))
                                  -->(72,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(73,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(74,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(74,retval('False'))
                                    <--(73,retval(0.5555555555555556))
                                  <--(72,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                              <--(70,retval(0.5555555555555556))
                          <--(49,retval('False'))
                      <--(48,retval(0.5555555555555556))
                    <--(27,retval([if,[>,0,[min,1,[/,0.5,0.9]]],0,[min,1,[/,0.5,0.9]]]))
                  <--(5,retval([max,0,[min,1,[/,0.5,0.9]]]))
                  <--(4,retval(0.5))
                -->(75,'&self',[max,0,[min,1,[/,[-,1.5,1],0.9]]],depth(6))
                    -->(76,'&self',[-,1.5,1],depth(8))
                    -->(77,'&self',[max,0,[min,1,[/,0.5,0.9]]],depth(8))
                        -->(78,'&self',[/,0.5,0.9],depth(10))
                        <--(78,retval(0.5555555555555556))
                        -->(79,'&self',[max,0,[min,1,0.5555555555555556]],depth(10))
                            -->(80,'&self',[min,1,0.5555555555555556],depth(12))
                              -->(81,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(13))
                                  -->(82,'&self',[<,1,0.5555555555555556],depth(15))
                                  <--(82,retval('False'))
                              <--(81,retval(0.5555555555555556))
                            -->(83,'&self',[max,0,0.5555555555555556],depth(12))
                              -->(84,'&self',[if,[>,0,0.5555555555555556],0,0.5555555555555556],depth(13))
                                  -->(85,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(85,retval('False'))
                              <--(84,retval(0.5555555555555556))
                            <--(83,retval([if,[>,0,0.5555555555555556],0,0.5555555555555556]))
                            <--(80,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                          -->(86,'&self',[if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]],depth(11))
                              -->(87,'&self',[>,0,[min,1,0.5555555555555556]],depth(13))
                                  -->(88,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(89,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(90,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(90,retval('False'))
                                    <--(89,retval(0.5555555555555556))
                                  -->(91,'&self',[>,0,0.5555555555555556],depth(15))
                                  <--(91,retval('False'))
                              -->(92,'&self',[min,1,0.5555555555555556],depth(13))
                                -->(93,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(14))
                                    -->(94,'&self',[<,1,0.5555555555555556],depth(16))
                                    <--(94,retval('False'))
                                <--(93,retval(0.5555555555555556))
                              <--(92,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  <--(88,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                                  -->(95,'&self',[min,1,0.5555555555555556],depth(15))
                                    -->(96,'&self',[if,[<,1,0.5555555555555556],1,0.5555555555555556],depth(16))
                                        -->(97,'&self',[<,1,0.5555555555555556],depth(18))
                                        <--(97,retval('False'))
                                    <--(96,retval(0.5555555555555556))
                                  <--(95,retval([if,[<,1,0.5555555555555556],1,0.5555555555555556]))
                              <--(87,retval('False'))
                          <--(86,retval(0.5555555555555556))
                        <--(79,retval([if,[>,0,[min,1,0.5555555555555556]],0,[min,1,0.5555555555555556]]))
                      -->(98,'&self',[if,[>,0,[min,1,[/,0.5,0.9]]],0,[min,1,[/,0.5,0.9]]],depth(9))
                          -->(99,'&self',[>,0,[min,1,[/,0.5,0.9]]],depth(11))
                              -->(100,'&self',[/,0.5,0.9],depth(13))
                              <--(100,retval(0.5555555555555556))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); Evaluation took 57.49 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (conditional-probability-consistency 0.9 0.6 0.5) (True))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.08">;; FORMULA.DEDUCTIONFORMULATEST.08</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (True) 
    (True)))
</span>        -->(0,'&self',['conditional-probability-consistency',0.9,0.6,0.5],depth(2))
        <--(0,retval('True'))
; Evaluation took 1.07 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (simple-deduction-strength-formula 0.9 0.6 0.5 0.3 0.4) (0.575))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.09">;; FORMULA.DEDUCTIONFORMULATEST.09</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (0.575) 
    (0.575)))
</span>        -->(0,'&self',['simple-deduction-strength-formula',0.9,0.6,0.5,0.3,0.4],depth(2))
          -->(1,'&self',[if,[and,['conditional-probability-consistency',0.9,0.6,0.3],['conditional-probability-consistency',0.6,0.5,0.4]],[if,[<,0.99,0.6],0.5,[+,[*,0.3,0.4],[/,[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],[-,1,0.6]]]],0],depth(3))
              -->(2,'&self',[and,['conditional-probability-consistency',0.9,0.6,0.3],['conditional-probability-consistency',0.6,0.5,0.4]],depth(5))
                  -->(3,'&self',['conditional-probability-consistency',0.9,0.6,0.3],depth(7))
                  -->(4,'&self',[and,'True',['conditional-probability-consistency',0.6,0.5,0.4]],depth(7))
                      -->(5,'&self',['conditional-probability-consistency',0.6,0.5,0.4],depth(9))
                      -->(6,'&self',[and,'True','True'],depth(9))
                      <--(6,retval('True'))
              -->(7,'&self',[if,[<,0.99,0.6],0.5,[+,[*,0.3,0.4],[/,[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],[-,1,0.6]]]],depth(5))
                  -->(8,'&self',[<,0.99,0.6],depth(7))
                  <--(8,retval('False'))
                  -->(9,'&self',[+,[*,0.3,0.4],[/,[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],[-,1,0.6]]],depth(7))
                      -->(10,'&self',[*,0.3,0.4],depth(9))
                      <--(10,retval(0.12))
                      -->(11,'&self',[+,0.12,[/,[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],[-,1,0.6]]],depth(9))
                          -->(12,'&self',[/,[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],[-,1,0.6]],depth(11))
                              -->(13,'&self',[-,1,0.3],depth(13))
                              -->(14,'&self',[/,[*,0.7,[-,0.5,[*,0.6,0.4]]],[-,1,0.6]],depth(13))
                                  -->(15,'&self',[*,0.6,0.4],depth(15))
                                  <--(15,retval(0.24))
                                  -->(16,'&self',[/,[*,0.7,[-,0.5,0.24]],[-,1,0.6]],depth(15))
                                      -->(17,'&self',[-,0.5,0.24],depth(17))
                                      -->(18,'&self',[/,[*,0.7,0.26],[-,1,0.6]],depth(17))
                                          -->(19,'&self',[*,0.7,0.26],depth(19))
                                          <--(19,retval(0.182))
                                          -->(20,'&self',[/,0.182,[-,1,0.6]],depth(19))
                                              -->(21,'&self',[-,1,0.6],depth(21))
                                              -->(22,'&self',[/,0.182,0.4],depth(21))
                                              <--(22,retval(0.45499999999999996))
                                              <--(21,retval(0.4))
                                              -->(23,'&self',[-,1,0.6],depth(21))
                                              <--(23,retval(0.4))
                                          <--(20,retval(0.45499999999999996))
                                          -->(24,'&self',[*,0.7,0.26],depth(19))
                                          <--(24,retval(0.182))
                                          -->(25,'&self',[-,1,0.6],depth(19))
                                          <--(25,retval(0.4))
                                      <--(18,retval(0.45499999999999996))
                                      <--(17,retval(0.26))
                                      -->(26,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(27,'&self',[-,0.5,0.24],depth(19))
                                          -->(28,'&self',[*,0.7,0.26],depth(19))
                                          <--(28,retval(0.182))
                                      -->(29,'&self',[-,1,0.6],depth(17))
                                      <--(29,retval(0.4))
                                          <--(27,retval(0.26))
                                      <--(26,retval(0.182))
                                  <--(16,retval(0.45499999999999996))
                                  -->(30,'&self',[*,0.7,[-,0.5,[*,0.6,0.4]]],depth(15))
                                      -->(31,'&self',[*,0.6,0.4],depth(17))
                                      <--(31,retval(0.24))
                                      -->(32,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(33,'&self',[-,0.5,0.24],depth(19))
                                          -->(34,'&self',[*,0.7,0.26],depth(19))
                                          <--(34,retval(0.182))
                                  -->(35,'&self',[-,1,0.6],depth(15))
                                  <--(35,retval(0.4))
                                          <--(33,retval(0.26))
                                      <--(32,retval(0.182))
                                  <--(30,retval(0.182))
                              <--(14,retval(0.45499999999999996))
                              <--(13,retval(0.7))
                              -->(36,'&self',[*,[-,1,0.3],[-,0.5,[*,0.6,0.4]]],depth(13))
                                  -->(37,'&self',[-,1,0.3],depth(15))
                                  -->(38,'&self',[*,0.7,[-,0.5,[*,0.6,0.4]]],depth(15))
                                      -->(39,'&self',[*,0.6,0.4],depth(17))
                                      <--(39,retval(0.24))
                                      -->(40,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(41,'&self',[-,0.5,0.24],depth(19))
                                          -->(42,'&self',[*,0.7,0.26],depth(19))
                                          <--(42,retval(0.182))
                              -->(43,'&self',[-,1,0.6],depth(13))
                              <--(43,retval(0.4))
                                          <--(41,retval(0.26))
                                      <--(40,retval(0.182))
                                  <--(38,retval(0.182))
                                  <--(37,retval(0.7))
                              <--(36,retval(0.182))
                          <--(12,retval(0.45499999999999996))
                          -->(44,'&self',[-,1,0.3],depth(11))
                          -->(45,'&self',[+,0.12,[/,[*,0.7,[-,0.5,[*,0.6,0.4]]],[-,1,0.6]]],depth(11))
                              -->(46,'&self',[/,[*,0.7,[-,0.5,[*,0.6,0.4]]],[-,1,0.6]],depth(13))
                                  -->(47,'&self',[*,0.6,0.4],depth(15))
                                  <--(47,retval(0.24))
                                  -->(48,'&self',[/,[*,0.7,[-,0.5,0.24]],[-,1,0.6]],depth(15))
                                      -->(49,'&self',[-,0.5,0.24],depth(17))
                                      -->(50,'&self',[/,[*,0.7,0.26],[-,1,0.6]],depth(17))
                                          -->(51,'&self',[*,0.7,0.26],depth(19))
                                          <--(51,retval(0.182))
                                          -->(52,'&self',[/,0.182,[-,1,0.6]],depth(19))
                                              -->(53,'&self',[-,1,0.6],depth(21))
                                              -->(54,'&self',[/,0.182,0.4],depth(21))
                                              <--(54,retval(0.45499999999999996))
                                              <--(53,retval(0.4))
                                              -->(55,'&self',[-,1,0.6],depth(21))
                                              <--(55,retval(0.4))
                                          <--(52,retval(0.45499999999999996))
                                          -->(56,'&self',[*,0.7,0.26],depth(19))
                                          <--(56,retval(0.182))
                                          -->(57,'&self',[-,1,0.6],depth(19))
                                          <--(57,retval(0.4))
                                      <--(50,retval(0.45499999999999996))
                                      <--(49,retval(0.26))
                                      -->(58,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(59,'&self',[-,0.5,0.24],depth(19))
                                          -->(60,'&self',[*,0.7,0.26],depth(19))
                                          <--(60,retval(0.182))
                                      -->(61,'&self',[-,1,0.6],depth(17))
                                      <--(61,retval(0.4))
                                          <--(59,retval(0.26))
                                      <--(58,retval(0.182))
                                  <--(48,retval(0.45499999999999996))
                                  -->(62,'&self',[*,0.7,[-,0.5,[*,0.6,0.4]]],depth(15))
                                      -->(63,'&self',[*,0.6,0.4],depth(17))
                                      <--(63,retval(0.24))
                                      -->(64,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(65,'&self',[-,0.5,0.24],depth(19))
                                          -->(66,'&self',[*,0.7,0.26],depth(19))
                                          <--(66,retval(0.182))
                                  -->(67,'&self',[-,1,0.6],depth(15))
                                  <--(67,retval(0.4))
                                          <--(65,retval(0.26))
                                      <--(64,retval(0.182))
                                  <--(62,retval(0.182))
                              <--(46,retval(0.45499999999999996))
                              -->(68,'&self',[*,0.6,0.4],depth(13))
                              <--(68,retval(0.24))
                              -->(69,'&self',[+,0.12,[/,[*,0.7,[-,0.5,0.24]],[-,1,0.6]]],depth(13))
                                  -->(70,'&self',[/,[*,0.7,[-,0.5,0.24]],[-,1,0.6]],depth(15))
                                      -->(71,'&self',[-,0.5,0.24],depth(17))
                                      -->(72,'&self',[/,[*,0.7,0.26],[-,1,0.6]],depth(17))
                                          -->(73,'&self',[*,0.7,0.26],depth(19))
                                          <--(73,retval(0.182))
                                          -->(74,'&self',[/,0.182,[-,1,0.6]],depth(19))
                                              -->(75,'&self',[-,1,0.6],depth(21))
                                              -->(76,'&self',[/,0.182,0.4],depth(21))
                                              <--(76,retval(0.45499999999999996))
                                              <--(75,retval(0.4))
                                              -->(77,'&self',[-,1,0.6],depth(21))
                                              <--(77,retval(0.4))
                                          <--(74,retval(0.45499999999999996))
                                          -->(78,'&self',[*,0.7,0.26],depth(19))
                                          <--(78,retval(0.182))
                                          -->(79,'&self',[-,1,0.6],depth(19))
                                          <--(79,retval(0.4))
                                      <--(72,retval(0.45499999999999996))
                                      <--(71,retval(0.26))
                                      -->(80,'&self',[*,0.7,[-,0.5,0.24]],depth(17))
                                          -->(81,'&self',[-,0.5,0.24],depth(19))
                                          -->(82,'&self',[*,0.7,0.26],depth(19))
                                          <--(82,retval(0.182))
                                      -->(83,'&self',[-,1,0.6],depth(17))
                                      <--(83,retval(0.4))
                                          <--(81,retval(0.26))
                                      <--(80,retval(0.182))
                                  <--(70,retval(0.45499999999999996))
                                  -->(84,'&self',[-,0.5,0.24],depth(15))
                                  -->(85,'&self',[+,0.12,[/,[*,0.7,0.26],[-,1,0.6]]],depth(15))
                                      -->(86,'&self',[/,[*,0.7,0.26],[-,1,0.6]],depth(17))
                                          -->(87,'&self',[*,0.7,0.26],depth(19))
                                          <--(87,retval(0.182))
                                          -->(88,'&self',[/,0.182,[-,1,0.6]],depth(19))
                                              -->(89,'&self',[-,1,0.6],depth(21))
                                              -->(90,'&self',[/,0.182,0.4],depth(21))
                                              <--(90,retval(0.45499999999999996))
                                              <--(89,retval(0.4))
                                              -->(91,'&self',[-,1,0.6],depth(21))
                                              <--(91,retval(0.4))
                                          <--(88,retval(0.45499999999999996))
                                          -->(92,'&self',[*,0.7,0.26],depth(19))
                                          <--(92,retval(0.182))
                                          -->(93,'&self',[-,1,0.6],depth(19))
                                          <--(93,retval(0.4))
                                      <--(86,retval(0.45499999999999996))
                                      -->(94,'&self',[*,0.7,0.26],depth(17))
                                      <--(94,retval(0.182))
                                      -->(95,'&self',[+,0.12,[/,0.182,[-,1,0.6]]],depth(17))
                                          -->(96,'&self',[/,0.182,[-,1,0.6]],depth(19))
                                              -->(97,'&self',[-,1,0.6],depth(21))
                                              -->(98,'&self',[/,0.182,0.4],depth(21))
                                              <--(98,retval(0.45499999999999996))
                                              <--(97,retval(0.4))
                                              -->(99,'&self',[-,1,0.6],depth(21))
                                              <--(99,retval(0.4))
                                          <--(96,retval(0.45499999999999996))
                                          -->(100,'&self',[-,1,0.6],depth(19))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); Evaluation took 40.16 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (ded_formula (PrCnt 1 10) (PrCnt 1 4) (PrCnt 1 2) (PrCnt 1 3) (PrCnt 1 5)) ((PrCnt 1 1)))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.10">;; FORMULA.DEDUCTIONFORMULATEST.10</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (PrCnt 1 1)) 
    ( (PrCnt 1 1))))
</span>        -->(0,'&self',[ded_formula,['PrCnt',1,10],['PrCnt',1,4],['PrCnt',1,2],['PrCnt',1,3],['PrCnt',1,5]],depth(2))
            -->(1,'&self',['PrCnt',1,10],depth(4))
          -->(2,'&self',['let*',[[_277218,[confidence,['PrCnt',1,10]]],[_277248,[confidence,['PrCnt',1,4]]],[_277278,[confidence,['PrCnt',1,2]]],[_277308,[confidence,['PrCnt',1,3]]],[_277338,[confidence,['PrCnt',1,5]]],[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,_277218,[min,_277248,[min,_277278,[min,_277308,_277338]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(3))
              -->(3,'&self',[confidence,['PrCnt',1,10]],depth(5))
                  -->(4,'&self',['PrCnt',1,10],depth(7))
                -->(5,'&self',['count->confidence',10],depth(6))
                  -->(6,'&self',[/,10,[+,10,[lookahead]]],depth(7))
                      -->(7,'&self',[lookahead],depth(9))
                      -->(8,'&self',[/,10,[+,10,1.0]],depth(9))
                          -->(9,'&self',[+,10,1.0],depth(11))
                          -->(10,'&self',[/,10,11.0],depth(11))
                          <--(10,retval(0.9090909090909091))
              -->(11,'&self',['let*',[[_277248,[confidence,['PrCnt',1,4]]],[_277278,[confidence,['PrCnt',1,2]]],[_277308,[confidence,['PrCnt',1,3]]],[_277338,[confidence,['PrCnt',1,5]]],[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,0.9090909090909091,[min,_277248,[min,_277278,[min,_277308,_277338]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(5))
                  -->(12,'&self',[confidence,['PrCnt',1,4]],depth(7))
                      -->(13,'&self',['PrCnt',1,4],depth(9))
                    -->(14,'&self',['count->confidence',4],depth(8))
                      -->(15,'&self',[/,4,[+,4,[lookahead]]],depth(9))
                          -->(16,'&self',[lookahead],depth(11))
                          -->(17,'&self',[/,4,[+,4,1.0]],depth(11))
                              -->(18,'&self',[+,4,1.0],depth(13))
                              -->(19,'&self',[/,4,5.0],depth(13))
                              <--(19,retval(0.8))
                  -->(20,'&self',['let*',[[_277278,[confidence,['PrCnt',1,2]]],[_277308,[confidence,['PrCnt',1,3]]],[_277338,[confidence,['PrCnt',1,5]]],[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,0.9090909090909091,[min,0.8,[min,_277278,[min,_277308,_277338]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(7))
                      -->(21,'&self',[confidence,['PrCnt',1,2]],depth(9))
                          -->(22,'&self',['PrCnt',1,2],depth(11))
                        -->(23,'&self',['count->confidence',2],depth(10))
                          -->(24,'&self',[/,2,[+,2,[lookahead]]],depth(11))
                              -->(25,'&self',[lookahead],depth(13))
                              -->(26,'&self',[/,2,[+,2,1.0]],depth(13))
                                  -->(27,'&self',[+,2,1.0],depth(15))
                                  -->(28,'&self',[/,2,3.0],depth(15))
                                  <--(28,retval(0.6666666666666666))
                      -->(29,'&self',['let*',[[_277308,[confidence,['PrCnt',1,3]]],[_277338,[confidence,['PrCnt',1,5]]],[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,_277308,_277338]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(9))
                          -->(30,'&self',[confidence,['PrCnt',1,3]],depth(11))
                              -->(31,'&self',['PrCnt',1,3],depth(13))
                            -->(32,'&self',['count->confidence',3],depth(12))
                              -->(33,'&self',[/,3,[+,3,[lookahead]]],depth(13))
                                  -->(34,'&self',[lookahead],depth(15))
                                  -->(35,'&self',[/,3,[+,3,1.0]],depth(15))
                                      -->(36,'&self',[+,3,1.0],depth(17))
                                      -->(37,'&self',[/,3,4.0],depth(17))
                                      <--(37,retval(0.75))
                          -->(38,'&self',['let*',[[_277338,[confidence,['PrCnt',1,5]]],[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,_277338]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(11))
                              -->(39,'&self',[confidence,['PrCnt',1,5]],depth(13))
                                  -->(40,'&self',['PrCnt',1,5],depth(15))
                                -->(41,'&self',['count->confidence',5],depth(14))
                                  -->(42,'&self',[/,5,[+,5,[lookahead]]],depth(15))
                                      -->(43,'&self',[lookahead],depth(17))
                                      -->(44,'&self',[/,5,[+,5,1.0]],depth(17))
                                          -->(45,'&self',[+,5,1.0],depth(19))
                                          -->(46,'&self',[/,5,6.0],depth(19))
                                          <--(46,retval(0.8333333333333334))
                              -->(47,'&self',['let*',[[_277368,[mode,['PrCnt',1,3]]],[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,_277368,_277398]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(13))
                                  -->(48,'&self',[mode,['PrCnt',1,3]],depth(15))
                                      -->(49,'&self',['PrCnt',1,3],depth(17))
                                  -->(50,'&self',['let*',[[_277398,[mode,['PrCnt',1,5]]],[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,1,_277398]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(15))
                                      -->(51,'&self',[mode,['PrCnt',1,5]],depth(17))
                                          -->(52,'&self',['PrCnt',1,5],depth(19))
                                      -->(53,'&self',['let*',[[_277428,[mode,['PrCnt',1,10]]],[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',_277428,_277458,_277488,1,1]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(17))
                                          -->(54,'&self',[mode,['PrCnt',1,10]],depth(19))
                                              -->(55,'&self',['PrCnt',1,10],depth(21))
                                          -->(56,'&self',['let*',[[_277458,[mode,['PrCnt',1,4]]],[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',1,_277458,_277488,1,1]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(19))
                                              -->(57,'&self',[mode,['PrCnt',1,4]],depth(21))
                                                  -->(58,'&self',['PrCnt',1,4],depth(23))
                                              -->(59,'&self',['let*',[[_277488,[mode,['PrCnt',1,2]]]],['let*',[[_277536,['simple-deduction-strength-formula',1,1,_277488,1,1]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(21))
                                                  -->(60,'&self',[mode,['PrCnt',1,2]],depth(23))
                                                      -->(61,'&self',['PrCnt',1,2],depth(25))
                                                  -->(62,'&self',['let*',[],['let*',[[_277536,['simple-deduction-strength-formula',1,1,1,1,1]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]]],depth(23))
                                                      -->(63,'&self',['let*',[[_277536,['simple-deduction-strength-formula',1,1,1,1,1]],[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,_277536,0],['PrCnt',1,0],['PrCnt',_277536,_277536]]],depth(25))
                                                          -->(64,'&self',['simple-deduction-strength-formula',1,1,1,1,1],depth(27))
                                                            -->(65,'&self',[if,[and,['conditional-probability-consistency',1,1,1],['conditional-probability-consistency',1,1,1]],[if,[<,0.99,1],1,[+,[*,1,1],[/,[*,[-,1,1],[-,1,[*,1,1]]],[-,1,1]]]],0],depth(28))
                                                                -->(66,'&self',[and,['conditional-probability-consistency',1,1,1],['conditional-probability-consistency',1,1,1]],depth(30))
                                                                    -->(67,'&self',['conditional-probability-consistency',1,1,1],depth(32))
                                                                    -->(68,'&self',[and,'True','True'],depth(32))
                                                                    <--(68,retval('True'))
                                                                -->(69,'&self',[if,[<,0.99,1],1,[+,[*,1,1],[/,[*,[-,1,1],[-,1,[*,1,1]]],[-,1,1]]]],depth(30))
                                                                    -->(70,'&self',[<,0.99,1],depth(32))
                                                                    <--(70,retval('True'))
                                                                <--(69,retval(1))
                                                          -->(71,'&self',['let*',[[_277590,[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]]]],[if,[==,1,0],['PrCnt',1,0],['PrCnt',1,1]]],depth(27))
                                                              -->(72,'&self',[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,[min,0.75,0.8333333333333334]]]],depth(29))
                                                                  -->(73,'&self',[min,0.75,0.8333333333333334],depth(31))
                                                                    -->(74,'&self',[if,[<,0.75,0.8333333333333334],0.75,0.8333333333333334],depth(32))
                                                                        -->(75,'&self',[<,0.75,0.8333333333333334],depth(34))
                                                                        <--(75,retval('True'))
                                                                    <--(74,retval(0.75))
                                                                  -->(76,'&self',[min,0.9090909090909091,[min,0.8,[min,0.6666666666666666,0.75]]],depth(31))
                                                                      -->(77,'&self',[min,0.6666666666666666,0.75],depth(33))
                                                                        -->(78,'&self',[if,[<,0.6666666666666666,0.75],0.6666666666666666,0.75],depth(34))
                                                                            -->(79,'&self',[<,0.6666666666666666,0.75],depth(36))
                                                                            <--(79,retval('True'))
                                                                        <--(78,retval(0.6666666666666666))
                                                                      -->(80,'&self',[min,0.9090909090909091,[min,0.8,0.6666666666666666]],depth(33))
                                                                          -->(81,'&self',[min,0.8,0.6666666666666666],depth(35))
                                                                            -->(82,'&self',[if,[<,0.8,0.6666666666666666],0.8,0.6666666666666666],depth(36))
                                                                                -->(83,'&self',[<,0.8,0.6666666666666666],depth(38))
                                                                                <--(83,retval('False'))
                                                                            <--(82,retval(0.6666666666666666))
                                                                          -->(84,'&self',[min,0.9090909090909091,0.6666666666666666],depth(35))
                                                                            -->(85,'&self',[if,[<,0.9090909090909091,0.6666666666666666],0.9090909090909091,0.6666666666666666],depth(36))
                                                                                -->(86,'&self',[<,0.9090909090909091,0.6666666666666666],depth(38))
                                                                                <--(86,retval('False'))
                                                                            <--(85,retval(0.6666666666666666))
                                                              -->(87,'&self',['let*',[],[if,[==,1,0],['PrCnt',1,0],['PrCnt',1,1]]],depth(29))
                                                                  -->(88,'&self',[if,[==,1,0],['PrCnt',1,0],['PrCnt',1,1]],depth(31))
                                                                      -->(89,'&self',[==,1,0],depth(33))
                                                                      <--(89,retval('False'))
                                                                      -->(90,'&self',['PrCnt',1,1],depth(33))
                                                                  <--(88,retval(['PrCnt',1,1]))
                                                                    -->(91,'&self',['PrCnt',1,1],depth(32))
                                                              <--(87,retval(['PrCnt',1,1]))
                                                                -->(92,'&self',['PrCnt',1,1],depth(30))
                                                            -->(93,'&self',['PrCnt',1,1],depth(28))
                                                        -->(94,'&self',['PrCnt',1,1],depth(26))
                                                    -->(95,'&self',['PrCnt',1,1],depth(24))
                                                -->(96,'&self',['PrCnt',1,1],depth(22))
                                            -->(97,'&self',['PrCnt',1,1],depth(20))
                                        -->(98,'&self',['PrCnt',1,1],depth(18))
                                    -->(99,'&self',['PrCnt',1,1],depth(16))
                                -->(100,'&self',['PrCnt',1,1],depth(14))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); Evaluation took 46.58 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (conditional-probability-consistency 0.2 0.3 1) (True))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.11">;; FORMULA.DEDUCTIONFORMULATEST.11</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (True) 
    (True)))
</span>        -->(0,'&self',['conditional-probability-consistency',0.2,0.3,1],depth(2))
        <--(0,retval('True'))
; Evaluation took 1.07 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (conditional-probability-consistency 0.3 0.4 0.9) (True))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.12">;; FORMULA.DEDUCTIONFORMULATEST.12</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    (True) 
    (True)))
</span>        -->(0,'&self',['conditional-probability-consistency',0.3,0.4,0.9],depth(2))
        <--(0,retval('True'))
; Evaluation took 1.08 ms.
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqualToResult (deduction-formula (STV 0.2 0.3) (STV 0.3 0.2) (STV 0.4 0.1) (STV 1 0.5) (STV 0.9 0.7)) ((STV 0.9 0.1)))

</span><h3 id="FORMULA.DEDUCTIONFORMULATEST.13">;; FORMULA.DEDUCTIONFORMULATEST.13</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (STV 0.9 0.1)) 
    ( (STV 0.9 0.1))))
</span>        -->(0,'&self',['deduction-formula',['STV',0.2,0.3],['STV',0.3,0.2],['STV',0.4,0.1],['STV',1,0.5],['STV',0.9,0.7]],depth(2))
            -->(1,'&self',['STV',0.2,0.3],depth(4))
          -->(2,'&self',[if,[and,['conditional-probability-consistency',0.2,0.3,1],['conditional-probability-consistency',0.3,0.4,0.9]],['STV',[if,[<,0.9999,0.3],0.4,[+,[*,1,0.9],[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]]]],[min,0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]]],['STV',1,0]],depth(3))
              -->(3,'&self',[and,['conditional-probability-consistency',0.2,0.3,1],['conditional-probability-consistency',0.3,0.4,0.9]],depth(5))
                  -->(4,'&self',['conditional-probability-consistency',0.2,0.3,1],depth(7))
                  -->(5,'&self',[and,'True',['conditional-probability-consistency',0.3,0.4,0.9]],depth(7))
                      -->(6,'&self',['conditional-probability-consistency',0.3,0.4,0.9],depth(9))
                      -->(7,'&self',[and,'True','True'],depth(9))
                      <--(7,retval('True'))
              -->(8,'&self',['STV',[if,[<,0.9999,0.3],0.4,[+,[*,1,0.9],[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]]]],[min,0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]]],depth(5))
                  -->(9,'&self',[if,[<,0.9999,0.3],0.4,[+,[*,1,0.9],[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]]]],depth(7))
                      -->(10,'&self',[<,0.9999,0.3],depth(9))
                      <--(10,retval('False'))
                      -->(11,'&self',[+,[*,1,0.9],[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]]],depth(9))
                          -->(12,'&self',[*,1,0.9],depth(11))
                          <--(12,retval(0.9))
                          -->(13,'&self',[+,0.9,[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]]],depth(11))
                              -->(14,'&self',[/,[*,[-,1,1],[-,0.4,[*,0.3,0.9]]],[-,1,0.3]],depth(13))
                                  -->(15,'&self',[-,1,1],depth(15))
                                  -->(16,'&self',[/,[*,0,[-,0.4,[*,0.3,0.9]]],[-,1,0.3]],depth(15))
                                      -->(17,'&self',[*,0.3,0.9],depth(17))
                                      <--(17,retval(0.27))
                                      -->(18,'&self',[/,[*,0,[-,0.4,0.27]],[-,1,0.3]],depth(17))
                                          -->(19,'&self',[-,0.4,0.27],depth(19))
                                          -->(20,'&self',[/,[*,0,0.13],[-,1,0.3]],depth(19))
                                              -->(21,'&self',[*,0,0.13],depth(21))
                                              <--(21,retval(0.0))
                                              -->(22,'&self',[/,0.0,[-,1,0.3]],depth(21))
                                                  -->(23,'&self',[-,1,0.3],depth(23))
                                                  -->(24,'&self',[/,0.0,0.7],depth(23))
                                                  <--(24,retval(0.0))
                  -->(25,'&self',[min,0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]],depth(7))
                      -->(26,'&self',[min,0.5,0.7],depth(9))
                        -->(27,'&self',[if,[<,0.5,0.7],0.5,0.7],depth(10))
                            -->(28,'&self',[<,0.5,0.7],depth(12))
                            <--(28,retval('True'))
                        <--(27,retval(0.5))
                      -->(29,'&self',[min,0.3,[min,0.2,[min,0.1,0.5]]],depth(9))
                          -->(30,'&self',[min,0.1,0.5],depth(11))
                            -->(31,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(12))
                                -->(32,'&self',[<,0.1,0.5],depth(14))
                                <--(32,retval('True'))
                            <--(31,retval(0.1))
                          -->(33,'&self',[min,0.3,[min,0.2,0.1]],depth(11))
                              -->(34,'&self',[min,0.2,0.1],depth(13))
                                -->(35,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(14))
                                    -->(36,'&self',[<,0.2,0.1],depth(16))
                                    <--(36,retval('False'))
                                <--(35,retval(0.1))
                              -->(37,'&self',[min,0.3,0.1],depth(13))
                                -->(38,'&self',[if,[<,0.3,0.1],0.3,0.1],depth(14))
                                    -->(39,'&self',[<,0.3,0.1],depth(16))
                                    <--(39,retval('False'))
                                <--(38,retval(0.1))
                -->(40,'&self',['STV',0.9,0.1],depth(6))
            -->(41,'&self',['STV',0.9,0.1],depth(4))
                              <--(37,retval([if,[<,0.3,0.1],0.3,0.1]))
                              <--(34,retval([if,[<,0.2,0.1],0.2,0.1]))
                            -->(42,'&self',[if,[<,0.3,[min,0.2,0.1]],0.3,[min,0.2,0.1]],depth(12))
                                -->(43,'&self',[<,0.3,[min,0.2,0.1]],depth(14))
                                    -->(44,'&self',[min,0.2,0.1],depth(16))
                                      -->(45,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(17))
                                          -->(46,'&self',[<,0.2,0.1],depth(19))
                                          <--(46,retval('False'))
                                      <--(45,retval(0.1))
                                    -->(47,'&self',[<,0.3,0.1],depth(16))
                                    <--(47,retval('False'))
                                -->(48,'&self',[min,0.2,0.1],depth(14))
                                  -->(49,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(15))
                                      -->(50,'&self',[<,0.2,0.1],depth(17))
                                      <--(50,retval('False'))
                                  <--(49,retval(0.1))
                                <--(48,retval([if,[<,0.2,0.1],0.2,0.1]))
                                    <--(44,retval([if,[<,0.2,0.1],0.2,0.1]))
                                    -->(51,'&self',[min,0.2,0.1],depth(16))
                                      -->(52,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(17))
                                          -->(53,'&self',[<,0.2,0.1],depth(19))
                                          <--(53,retval('False'))
                                      <--(52,retval(0.1))
                                    <--(51,retval([if,[<,0.2,0.1],0.2,0.1]))
                                <--(43,retval('False'))
                            <--(42,retval(0.1))
                          <--(33,retval([if,[<,0.3,[min,0.2,0.1]],0.3,[min,0.2,0.1]]))
                          <--(30,retval([if,[<,0.1,0.5],0.1,0.5]))
                        -->(54,'&self',[if,[<,0.3,[min,0.2,[min,0.1,0.5]]],0.3,[min,0.2,[min,0.1,0.5]]],depth(10))
                            -->(55,'&self',[<,0.3,[min,0.2,[min,0.1,0.5]]],depth(12))
                                -->(56,'&self',[min,0.1,0.5],depth(14))
                                  -->(57,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(15))
                                      -->(58,'&self',[<,0.1,0.5],depth(17))
                                      <--(58,retval('True'))
                                  <--(57,retval(0.1))
                                -->(59,'&self',[<,0.3,[min,0.2,0.1]],depth(14))
                                    -->(60,'&self',[min,0.2,0.1],depth(16))
                                      -->(61,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(17))
                                          -->(62,'&self',[<,0.2,0.1],depth(19))
                                          <--(62,retval('False'))
                                      <--(61,retval(0.1))
                                    -->(63,'&self',[<,0.3,0.1],depth(16))
                                    <--(63,retval('False'))
                            -->(64,'&self',[min,0.2,[min,0.1,0.5]],depth(12))
                                -->(65,'&self',[min,0.1,0.5],depth(14))
                                  -->(66,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(15))
                                      -->(67,'&self',[<,0.1,0.5],depth(17))
                                      <--(67,retval('True'))
                                  <--(66,retval(0.1))
                                -->(68,'&self',[min,0.2,0.1],depth(14))
                                  -->(69,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(15))
                                      -->(70,'&self',[<,0.2,0.1],depth(17))
                                      <--(70,retval('False'))
                                  <--(69,retval(0.1))
                                <--(68,retval([if,[<,0.2,0.1],0.2,0.1]))
                                <--(65,retval([if,[<,0.1,0.5],0.1,0.5]))
                              -->(71,'&self',[if,[<,0.2,[min,0.1,0.5]],0.2,[min,0.1,0.5]],depth(13))
                                  -->(72,'&self',[<,0.2,[min,0.1,0.5]],depth(15))
                                      -->(73,'&self',[min,0.1,0.5],depth(17))
                                        -->(74,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(18))
                                            -->(75,'&self',[<,0.1,0.5],depth(20))
                                            <--(75,retval('True'))
                                        <--(74,retval(0.1))
                                      -->(76,'&self',[<,0.2,0.1],depth(17))
                                      <--(76,retval('False'))
                                  -->(77,'&self',[min,0.1,0.5],depth(15))
                                    -->(78,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(16))
                                        -->(79,'&self',[<,0.1,0.5],depth(18))
                                        <--(79,retval('True'))
                                    <--(78,retval(0.1))
                                  <--(77,retval([if,[<,0.1,0.5],0.1,0.5]))
                                      <--(73,retval([if,[<,0.1,0.5],0.1,0.5]))
                                      -->(80,'&self',[min,0.1,0.5],depth(17))
                                        -->(81,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(18))
                                            -->(82,'&self',[<,0.1,0.5],depth(20))
                                            <--(82,retval('True'))
                                        <--(81,retval(0.1))
                                      <--(80,retval([if,[<,0.1,0.5],0.1,0.5]))
                                  <--(72,retval('False'))
                              <--(71,retval(0.1))
                            <--(64,retval([if,[<,0.2,[min,0.1,0.5]],0.2,[min,0.1,0.5]]))
                                    <--(60,retval([if,[<,0.2,0.1],0.2,0.1]))
                                    -->(83,'&self',[min,0.2,0.1],depth(16))
                                      -->(84,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(17))
                                          -->(85,'&self',[<,0.2,0.1],depth(19))
                                          <--(85,retval('False'))
                                      <--(84,retval(0.1))
                                    <--(83,retval([if,[<,0.2,0.1],0.2,0.1]))
                                <--(59,retval('False'))
                                <--(56,retval([if,[<,0.1,0.5],0.1,0.5]))
                                -->(86,'&self',[min,0.2,[min,0.1,0.5]],depth(14))
                                    -->(87,'&self',[min,0.1,0.5],depth(16))
                                      -->(88,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(17))
                                          -->(89,'&self',[<,0.1,0.5],depth(19))
                                          <--(89,retval('True'))
                                      <--(88,retval(0.1))
                                    -->(90,'&self',[min,0.2,0.1],depth(16))
                                      -->(91,'&self',[if,[<,0.2,0.1],0.2,0.1],depth(17))
                                          -->(92,'&self',[<,0.2,0.1],depth(19))
                                          <--(92,retval('False'))
                                      <--(91,retval(0.1))
                                    <--(90,retval([if,[<,0.2,0.1],0.2,0.1]))
                                    <--(87,retval([if,[<,0.1,0.5],0.1,0.5]))
                                <--(86,retval(0.1))
                            <--(55,retval('False'))
                        <--(54,retval(0.1))
                      <--(29,retval([if,[<,0.3,[min,0.2,[min,0.1,0.5]]],0.3,[min,0.2,[min,0.1,0.5]]]))
                      <--(26,retval([if,[<,0.5,0.7],0.5,0.7]))
                    -->(93,'&self',[if,[<,0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]],0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]],depth(8))
                        -->(94,'&self',[<,0.3,[min,0.2,[min,0.1,[min,0.5,0.7]]]],depth(10))
                            -->(95,'&self',[min,0.5,0.7],depth(12))
                              -->(96,'&self',[if,[<,0.5,0.7],0.5,0.7],depth(13))
                                  -->(97,'&self',[<,0.5,0.7],depth(15))
                                  <--(97,retval('True'))
                              <--(96,retval(0.5))
                            -->(98,'&self',[<,0.3,[min,0.2,[min,0.1,0.5]]],depth(12))
                                -->(99,'&self',[min,0.1,0.5],depth(14))
                                  -->(100,'&self',[if,[<,0.1,0.5],0.1,0.5],depth(15))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); Evaluation took 50.57 ms.
<span class="ansi33"> True

</span><span class="ansi32">% 1,986,041 inferences, 1.890 CPU in 1.890 seconds (100% CPU, 1050617 Lips)
</span> (@ = "examples/compat/common/formula/DeductionFormulaTest.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 13
</span><span class="ansi31">Failures: 0
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "examples/compat/common/formula/DeductionFormulaTest.html" )

</pre>
</body>

</html>
