<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "examples/compat/test_scripts/c3_pln_stv.metta")
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; The examples in this file is inspired by OpenCog Classic examples
;; from github.com/opencog/pln, in particular from
;; examples/pln/conjunction, extended with implication
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Some helpful definitions
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,A,B],[if,[<,A,B],A,B])
</span><span class="ansi38-255165000">  (= 
    (min $A $B) 
    (if 
      (< $A $B) $A $B))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['s-tv',[stv,S,C]],S)
</span><span class="ansi38-255165000">  (= 
    (s-tv 
      (stv $S $C)) $S)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['c-tv',[stv,S,C]],C)
</span><span class="ansi38-255165000">  (= 
    (c-tv 
      (stv $S $C)) $C)
</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; `TV` "metarule" based on `match` to run
; `.tv` is a custom symbol, which is used to connect
; PLN-like expressions with their truth values.
; Some `.tv` facts will be defined below
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',X,Stv],Stv])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv $X $Stv) $Stv))
</span>

; Definition of TV for a conjunction
; we could use `(.tv (And $a $b) (stv ...))` instead of this
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',['And',A,B]],[stv,[min,['s-tv',['TV',A]],['s-tv',['TV',B]]],[min,['c-tv',['TV',A]],['c-tv',['TV',B]]]])
</span><span class="ansi38-255165000">  (= 
    (TV 
      (And $A $B)) 
    (stv 
      (min 
        (s-tv 
          (TV $A)) 
        (s-tv 
          (TV $B))) 
      (min 
        (c-tv 
          (TV $A)) 
        (c-tv 
          (TV $B)))))
</span>

; Definition of TV for $x when it''s the consequent of an implication
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',['Implication',Y,X],[stv,S,C]],[stv,[*,S,['s-tv',['TV',Y]]],[*,C,['c-tv',['TV',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv 
        (Implication $Y $X) 
        (stv $S $C)) 
      (stv 
        (* $S 
          (s-tv 
            (TV $Y))) 
        (* $C 
          (c-tv 
            (TV $Y))))))
</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; First example
; .tv serves as a special type of equality when
; matched by the TV "metarules" above
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Some facts
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],[stv,0.5,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept A)) 
    (stv 0.5 0.8))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],[stv,0.3,0.9]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept B)) 
    (stv 0.3 0.9))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['Evaluation',['Predicate','P'],['Concept','A']],['Evaluation',['Predicate','False'],['Concept','A']]],[stv,0.8,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (Evaluation 
        (Predicate P) 
        (Concept A)) 
      (Evaluation 
        (Predicate False) 
        (Concept A))) 
    (stv 0.8 1.0))
</span>

; FIXME? `(PA)` and `(PB)` are used because otherwise
; substitution is not invoked (atm of test creation)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PA'],['Evaluation',['Predicate','P'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (PA) 
    (Evaluation 
      (Predicate P) 
      (Concept A)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PB'],['Evaluation',['Predicate','P'],['Concept','B']])
</span><span class="ansi38-255165000">  (= 
    (PB) 
    (Evaluation 
      (Predicate P) 
      (Concept B)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['FA'],['Evaluation',['Predicate','False'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (FA) 
    (Evaluation 
      (Predicate False) 
      (Concept A)))
</span>

; Tests
<span class="ansi38-000068000">!(assertEqual (TV (And (PA) (PB))) (stv 0.3 0.8))

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.01">;; TEST-SCRIPTS.C3-PLN-STV.01</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.3 0.8)) 
    ( (stv 0.3 0.8))))
</span>        -->(0,'&self',['TV',['And',['PA'],['PB']]],depth(2))
            -->(1,'&self',['PA'],depth(4))
              -->(2,'&self',['Evaluation',['Predicate','P'],['Concept','A']],depth(5))
                  -->(3,'&self',['Predicate','P'],depth(7))
                  -->(4,'&self',['Predicate','P'],depth(7))
                  -->(5,'&self',['Concept','A'],depth(7))
                  -->(6,'&self',['Predicate','P'],depth(7))
                  -->(7,'&self',['Concept','A'],depth(7))
            -->(8,'&self',['TV',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']]],depth(4))
                -->(9,'&self',['Predicate','P'],depth(6))
              -->(10,'&self',[match,'&self',['.tv',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']],_445142],_445142],depth(5))
              <--(10,retval(fail))
              -->(11,'&self',[stv,[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]]],depth(5))
                  -->(12,'&self',['Predicate','P'],depth(7))
                  -->(13,'&self',[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(7))
                      -->(14,'&self',['Predicate','P'],depth(9))
                    -->(15,'&self',[if,[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(8))
                        -->(16,'&self',[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(10))
                            -->(17,'&self',['Predicate','P'],depth(12))
                            -->(18,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(12))
                                -->(19,'&self',['Predicate','P'],depth(14))
                                -->(20,'&self',['Predicate','P'],depth(14))
                                -->(21,'&self',['Concept','A'],depth(14))
                                -->(22,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(14))
                                    -->(23,'&self',['Predicate','P'],depth(16))
                                  -->(24,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_454002],_454002],depth(15))
                                    -->(25,'&self',[stv,0.5,0.8],depth(16))
                              -->(26,'&self',['s-tv',[stv,0.5,0.8]],depth(13))
                                  -->(27,'&self',[stv,0.5,0.8],depth(15))
                            -->(28,'&self',['s-tv',['TV',['PB']]],depth(12))
                                -->(29,'&self',['PB'],depth(14))
                                  -->(30,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(15))
                                      -->(31,'&self',['Predicate','P'],depth(17))
                                      -->(32,'&self',['Predicate','P'],depth(17))
                                      -->(33,'&self',['Concept','B'],depth(17))
                                      -->(34,'&self',['Predicate','P'],depth(17))
                                      -->(35,'&self',['Concept','B'],depth(17))
                                -->(36,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(14))
                                    -->(37,'&self',['Predicate','P'],depth(16))
                                    -->(38,'&self',['Predicate','P'],depth(16))
                                    -->(39,'&self',['Concept','B'],depth(16))
                                    -->(40,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(16))
                                        -->(41,'&self',['Predicate','P'],depth(18))
                                      -->(42,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_466538],_466538],depth(17))
                                        -->(43,'&self',[stv,0.3,0.9],depth(18))
                                  -->(44,'&self',['s-tv',[stv,0.3,0.9]],depth(15))
                                      -->(45,'&self',[stv,0.3,0.9],depth(17))
                        -->(46,'&self',['s-tv',['TV',['PB']]],depth(10))
                            -->(47,'&self',['PB'],depth(12))
                              -->(48,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(13))
                                  -->(49,'&self',['Predicate','P'],depth(15))
                                  -->(50,'&self',['Predicate','P'],depth(15))
                                  -->(51,'&self',['Concept','B'],depth(15))
                                  -->(52,'&self',['Predicate','P'],depth(15))
                                  -->(53,'&self',['Concept','B'],depth(15))
                            -->(54,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(12))
                                -->(55,'&self',['Predicate','P'],depth(14))
                                -->(56,'&self',['Predicate','P'],depth(14))
                                -->(57,'&self',['Concept','B'],depth(14))
                                -->(58,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(14))
                                    -->(59,'&self',['Predicate','P'],depth(16))
                                  -->(60,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_479350],_479350],depth(15))
                                    -->(61,'&self',[stv,0.3,0.9],depth(16))
                              -->(62,'&self',['s-tv',[stv,0.3,0.9]],depth(13))
                                  -->(63,'&self',[stv,0.3,0.9],depth(15))
                  -->(64,'&self',[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(7))
                      -->(65,'&self',['Predicate','P'],depth(9))
                    -->(66,'&self',[if,[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(8))
                        -->(67,'&self',[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(10))
                            -->(68,'&self',['Predicate','P'],depth(12))
                            -->(69,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(12))
                                -->(70,'&self',['Predicate','P'],depth(14))
                                -->(71,'&self',['Predicate','P'],depth(14))
                                -->(72,'&self',['Concept','A'],depth(14))
                                -->(73,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(14))
                                    -->(74,'&self',['Predicate','P'],depth(16))
                                  -->(75,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_489460],_489460],depth(15))
                                    -->(76,'&self',[stv,0.5,0.8],depth(16))
                              -->(77,'&self',['c-tv',[stv,0.5,0.8]],depth(13))
                                  -->(78,'&self',[stv,0.5,0.8],depth(15))
                            -->(79,'&self',['c-tv',['TV',['PB']]],depth(12))
                                -->(80,'&self',['PB'],depth(14))
                                  -->(81,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(15))
                                      -->(82,'&self',['Predicate','P'],depth(17))
                                      -->(83,'&self',['Predicate','P'],depth(17))
                                      -->(84,'&self',['Concept','B'],depth(17))
                                      -->(85,'&self',['Predicate','P'],depth(17))
                                      -->(86,'&self',['Concept','B'],depth(17))
                                -->(87,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(14))
                                    -->(88,'&self',['Predicate','P'],depth(16))
                                    -->(89,'&self',['Predicate','P'],depth(16))
                                    -->(90,'&self',['Concept','B'],depth(16))
                                    -->(91,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(16))
                                        -->(92,'&self',['Predicate','P'],depth(18))
                                      -->(93,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_501996],_501996],depth(17))
                                        -->(94,'&self',[stv,0.3,0.9],depth(18))
                                  -->(95,'&self',['c-tv',[stv,0.3,0.9]],depth(15))
                                      -->(96,'&self',[stv,0.3,0.9],depth(17))
                        -->(97,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(98,'&self',['Predicate','P'],depth(12))
                            -->(99,'&self',['Predicate','P'],depth(12))
                            -->(100,'&self',['Concept','A'],depth(12))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi38-000068000">!(assertEqual (TV (FA)) (stv 0.4 0.8))

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.02">;; TEST-SCRIPTS.C3-PLN-STV.02</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.4 0.8)) 
    ( (stv 0.4 0.8))))
</span>        -->(0,'&self',['TV',['FA']],depth(2))
            -->(1,'&self',['FA'],depth(4))
              -->(2,'&self',['Evaluation',['Predicate','False'],['Concept','A']],depth(5))
                  -->(3,'&self',['Predicate','False'],depth(7))
                  -->(4,'&self',['Predicate','False'],depth(7))
                  -->(5,'&self',['Concept','A'],depth(7))
                  -->(6,'&self',['Predicate','False'],depth(7))
                  -->(7,'&self',['Concept','A'],depth(7))
            -->(8,'&self',['TV',['Evaluation',['Predicate','False'],['Concept','A']]],depth(4))
                -->(9,'&self',['Predicate','False'],depth(6))
              -->(10,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','False'],['Concept','A']],_376264],_376264],depth(5))
              <--(10,retval(fail))
              -->(11,'&self',[match,'&self',['.tv',['Implication',_376522,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_376546,_376552]],[stv,[*,_376546,['s-tv',['TV',_376522]]],[*,_376552,['c-tv',['TV',_376522]]]]],depth(5))
                -->(12,'&self',[stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]],depth(6))
                    -->(13,'&self',['Predicate','P'],depth(8))
                    -->(14,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(15,'&self',['Predicate','P'],depth(10))
                        -->(16,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(17,'&self',['Predicate','P'],depth(12))
                            -->(18,'&self',['Predicate','P'],depth(12))
                            -->(19,'&self',['Concept','A'],depth(12))
                            -->(20,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(21,'&self',['Predicate','P'],depth(14))
                              -->(22,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_384100],_384100],depth(13))
                                -->(23,'&self',[stv,0.5,0.8],depth(14))
                          -->(24,'&self',['s-tv',[stv,0.5,0.8]],depth(11))
                              -->(25,'&self',[stv,0.5,0.8],depth(13))
                    -->(26,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(27,'&self',['Predicate','P'],depth(10))
                        -->(28,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(29,'&self',['Predicate','P'],depth(12))
                            -->(30,'&self',['Predicate','P'],depth(12))
                            -->(31,'&self',['Concept','A'],depth(12))
                            -->(32,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(33,'&self',['Predicate','P'],depth(14))
                              -->(34,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_392668],_392668],depth(13))
                                -->(35,'&self',[stv,0.5,0.8],depth(14))
                          -->(36,'&self',['c-tv',[stv,0.5,0.8]],depth(11))
                              -->(37,'&self',[stv,0.5,0.8],depth(13))
                          <--(36,retval(0.8))
                              <--(34,retval([stv,0.5,0.8]))
                              -->(38,'&self',[match,'&self',['.tv',['Implication',_396088,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_396112,_396118]],[stv,[*,_396112,['s-tv',['TV',_396088]]],[*,_396118,['c-tv',['TV',_396088]]]]],depth(13))
                              <--(38,retval(fail))
                            <--(32,retval([match,'&self',['.tv',['Implication',_396622,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_396688,_396694]],[stv,[*,_396688,['s-tv',['TV',_396622]]],[*,_396694,['c-tv',['TV',_396622]]]]]))
                        <--(28,retval(['c-tv',[stv,0.5,0.8]]))
                    <--(26,retval(0.8))
                          <--(24,retval(0.5))
                              <--(22,retval([stv,0.5,0.8]))
                              -->(39,'&self',[match,'&self',['.tv',['Implication',_396844,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_396868,_396874]],[stv,[*,_396868,['s-tv',['TV',_396844]]],[*,_396874,['c-tv',['TV',_396844]]]]],depth(13))
                              <--(39,retval(fail))
                            <--(20,retval([match,'&self',['.tv',['Implication',_397378,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_397444,_397450]],[stv,[*,_397444,['s-tv',['TV',_397378]]],[*,_397450,['c-tv',['TV',_397378]]]]]))
                        <--(16,retval(['s-tv',[stv,0.5,0.8]]))
                    <--(14,retval(0.4))
                    -->(40,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(41,'&self',['Predicate','P'],depth(10))
                        -->(42,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(43,'&self',['Predicate','P'],depth(12))
                            -->(44,'&self',['Predicate','P'],depth(12))
                            -->(45,'&self',['Concept','A'],depth(12))
                            -->(46,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(47,'&self',['Predicate','P'],depth(14))
                              -->(48,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_402848],_402848],depth(13))
                                -->(49,'&self',[stv,0.5,0.8],depth(14))
                          -->(50,'&self',['s-tv',[stv,0.5,0.8]],depth(11))
                              -->(51,'&self',[stv,0.5,0.8],depth(13))
                    -->(52,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(53,'&self',['Predicate','P'],depth(10))
                        -->(54,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(55,'&self',['Predicate','P'],depth(12))
                            -->(56,'&self',['Predicate','P'],depth(12))
                            -->(57,'&self',['Concept','A'],depth(12))
                            -->(58,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(59,'&self',['Predicate','P'],depth(14))
                              -->(60,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_411416],_411416],depth(13))
                                -->(61,'&self',[stv,0.5,0.8],depth(14))
                          -->(62,'&self',['c-tv',[stv,0.5,0.8]],depth(11))
                              -->(63,'&self',[stv,0.5,0.8],depth(13))
                  -->(64,'&self',[stv,0.4,0.8],depth(7))
          -->(65,'&self',[stv,0.4,0.8],depth(3))
                          <--(62,retval(0.8))
                              <--(60,retval([stv,0.5,0.8]))
                              -->(66,'&self',[match,'&self',['.tv',['Implication',_416844,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_416868,_416874]],[stv,[*,_416868,['s-tv',['TV',_416844]]],[*,_416874,['c-tv',['TV',_416844]]]]],depth(13))
                              <--(66,retval(fail))
                            <--(58,retval([match,'&self',['.tv',['Implication',_417378,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_417444,_417450]],[stv,[*,_417444,['s-tv',['TV',_417378]]],[*,_417450,['c-tv',['TV',_417378]]]]]))
                        <--(54,retval(['c-tv',[stv,0.5,0.8]]))
                    <--(52,retval(0.8))
                          <--(50,retval(0.5))
                              <--(48,retval([stv,0.5,0.8]))
                              -->(67,'&self',[match,'&self',['.tv',['Implication',_417600,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_417624,_417630]],[stv,[*,_417624,['s-tv',['TV',_417600]]],[*,_417630,['c-tv',['TV',_417600]]]]],depth(13))
                              <--(67,retval(fail))
                            <--(46,retval([match,'&self',['.tv',['Implication',_418134,['Evaluation',['Predicate','P'],['Concept','A']]],[stv,_418200,_418206]],[stv,[*,_418200,['s-tv',['TV',_418134]]],[*,_418206,['c-tv',['TV',_418134]]]]]))
                        <--(42,retval(['s-tv',[stv,0.5,0.8]]))
                    <--(40,retval(0.4))
                <--(12,retval([stv,0.4,0.8]))
              <--(11,retval([stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]]))
            <--(8,retval([match,'&self',['.tv',['Implication',_377056,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_377122,_377128]],[stv,[*,_377122,['s-tv',['TV',_377056]]],[*,_377128,['c-tv',['TV',_377056]]]]]))
            <--(1,retval(['Evaluation',['Predicate','False'],['Concept','A']]))
          -->(68,'&self',[match,'&self',['.tv',['FA'],_418424],_418424],depth(3))
          <--(68,retval(fail))
          -->(69,'&self',[match,'&self',['.tv',['Implication',_418634,['FA']],[stv,_418658,_418664]],[stv,[*,_418658,['s-tv',['TV',_418634]]],[*,_418664,['c-tv',['TV',_418634]]]]],depth(3))
          <--(69,retval(fail))
        <--(0,retval([match,'&self',['.tv',['Implication',_419120,['FA']],[stv,_419150,_419156]],[stv,[*,_419150,['s-tv',['TV',_419120]]],[*,_419156,['c-tv',['TV',_419120]]]]]))
        -->(70,'&self',[stv,0.4,0.8],depth(2))
<span class="ansi33"> True

</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Second example
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Implication rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['And',[croaks,X],[eat_flies,X]],[frog,X]],[stv,0.9,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (And 
        (croaks $X) 
        (eat_flies $X)) 
      (frog $X)) 
    (stv 0.9 0.8))
</span>

; Some facts
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[croaks,'Fritz'],[stv,0.95,0.85]])
</span><span class="ansi38-255165000">  (.tv 
    (croaks Fritz) 
    (stv 0.95 0.85))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[eat_flies,'Fritz'],[stv,0.87,0.95]])
</span><span class="ansi38-255165000">  (.tv 
    (eat_flies Fritz) 
    (stv 0.87 0.95))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',[frog,X],[green,X]],[stv,0.9,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (frog $X) 
      (green $X)) 
    (stv 0.9 1.0))
</span>

; Tests
<span class="ansi38-000068000">!(assertEqual (TV (croaks Fritz)) (stv 0.95 0.85))

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.03">;; TEST-SCRIPTS.C3-PLN-STV.03</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.95 0.85)) 
    ( (stv 0.95 0.85))))
</span>        -->(0,'&self',['TV',[croaks,'Fritz']],depth(2))
            -->(1,'&self',[croaks,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_488918],_488918],depth(3))
            -->(3,'&self',[stv,0.95,0.85],depth(4))
          <--(2,retval([stv,0.95,0.85]))
          -->(4,'&self',[match,'&self',['.tv',['Implication',_490396,[croaks,'Fritz']],[stv,_490420,_490426]],[stv,[*,_490420,['s-tv',['TV',_490396]]],[*,_490426,['c-tv',['TV',_490396]]]]],depth(3))
          <--(4,retval(fail))
        <--(0,retval([match,'&self',['.tv',['Implication',_490870,[croaks,'Fritz']],[stv,_490906,_490912]],[stv,[*,_490906,['s-tv',['TV',_490870]]],[*,_490912,['c-tv',['TV',_490870]]]]]))
        -->(5,'&self',[stv,0.95,0.85],depth(2))
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqual (TV (frog Fritz)) (stv 0.783 0.68))

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.04">;; TEST-SCRIPTS.C3-PLN-STV.04</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.783 0.68)) 
    ( (stv 0.783 0.68))))
</span>        -->(0,'&self',['TV',[frog,'Fritz']],depth(2))
            -->(1,'&self',[frog,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[frog,'Fritz'],_198014],_198014],depth(3))
          <--(2,retval(fail))
          -->(3,'&self',[match,'&self',['.tv',['Implication',_198212,[frog,'Fritz']],[stv,_198236,_198242]],[stv,[*,_198236,['s-tv',['TV',_198212]]],[*,_198242,['c-tv',['TV',_198212]]]]],depth(3))
            -->(4,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(4))
                -->(5,'&self',[croaks,'Fritz'],depth(6))
                -->(6,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(6))
                    -->(7,'&self',[croaks,'Fritz'],depth(8))
                    -->(8,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(8))
                        -->(9,'&self',[croaks,'Fritz'],depth(10))
                        -->(10,'&self',[croaks,'Fritz'],depth(10))
                        -->(11,'&self',[eat_flies,'Fritz'],depth(10))
                        -->(12,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(10))
                            -->(13,'&self',[croaks,'Fritz'],depth(12))
                          -->(14,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_205700],_205700],depth(11))
                          <--(14,retval(fail))
                          -->(15,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(11))
                              -->(16,'&self',[croaks,'Fritz'],depth(13))
                              -->(17,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(18,'&self',[croaks,'Fritz'],depth(15))
                                -->(19,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(20,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(21,'&self',[croaks,'Fritz'],depth(18))
                                        -->(22,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(23,'&self',[croaks,'Fritz'],depth(20))
                                            -->(24,'&self',[croaks,'Fritz'],depth(20))
                                            -->(25,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(26,'&self',[croaks,'Fritz'],depth(22))
                                              -->(27,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_213604],_213604],depth(21))
                                                -->(28,'&self',[stv,0.95,0.85],depth(22))
                                          -->(29,'&self',['s-tv',[stv,0.95,0.85]],depth(19))
                                              -->(30,'&self',[stv,0.95,0.85],depth(21))
                                        -->(31,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(18))
                                            -->(32,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(33,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(34,'&self',['TV',[eat_flies,'Fritz']],depth(20))
                                                -->(35,'&self',[eat_flies,'Fritz'],depth(22))
                                              -->(36,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_219794],_219794],depth(21))
                                                -->(37,'&self',[stv,0.87,0.95],depth(22))
                                          -->(38,'&self',['s-tv',[stv,0.87,0.95]],depth(19))
                                              -->(39,'&self',[stv,0.87,0.95],depth(21))
                                    -->(40,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(16))
                                        -->(41,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(42,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(43,'&self',['TV',[eat_flies,'Fritz']],depth(18))
                                            -->(44,'&self',[eat_flies,'Fritz'],depth(20))
                                          -->(45,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_226148],_226148],depth(19))
                                            -->(46,'&self',[stv,0.87,0.95],depth(20))
                                      -->(47,'&self',['s-tv',[stv,0.87,0.95]],depth(17))
                                          -->(48,'&self',[stv,0.87,0.95],depth(19))
                              -->(49,'&self',[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(50,'&self',[croaks,'Fritz'],depth(15))
                                -->(51,'&self',[if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(52,'&self',[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(53,'&self',[croaks,'Fritz'],depth(18))
                                        -->(54,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(55,'&self',[croaks,'Fritz'],depth(20))
                                            -->(56,'&self',[croaks,'Fritz'],depth(20))
                                            -->(57,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(58,'&self',[croaks,'Fritz'],depth(22))
                                              -->(59,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_235252],_235252],depth(21))
                                                -->(60,'&self',[stv,0.95,0.85],depth(22))
                                          -->(61,'&self',['c-tv',[stv,0.95,0.85]],depth(19))
                                              -->(62,'&self',[stv,0.95,0.85],depth(21))
                                        -->(63,'&self',['c-tv',['TV',[eat_flies,'Fritz']]],depth(18))
                                            -->(64,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(65,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(66,'&self',['TV',[eat_flies,'Fritz']],depth(20))
                                                -->(67,'&self',[eat_flies,'Fritz'],depth(22))
                                              -->(68,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_241442],_241442],depth(21))
                                                -->(69,'&self',[stv,0.87,0.95],depth(22))
                                          -->(70,'&self',['c-tv',[stv,0.87,0.95]],depth(19))
                                              -->(71,'&self',[stv,0.87,0.95],depth(21))
                                    -->(72,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(16))
                                        -->(73,'&self',[croaks,'Fritz'],depth(18))
                                        -->(74,'&self',[croaks,'Fritz'],depth(18))
                                        -->(75,'&self',['TV',[croaks,'Fritz']],depth(18))
                                            -->(76,'&self',[croaks,'Fritz'],depth(20))
                                          -->(77,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_247796],_247796],depth(19))
                                            -->(78,'&self',[stv,0.95,0.85],depth(20))
                                      -->(79,'&self',['c-tv',[stv,0.95,0.85]],depth(17))
                                          -->(80,'&self',[stv,0.95,0.85],depth(19))
                                      <--(79,retval(0.85))
                                          <--(77,retval([stv,0.95,0.85]))
                                          -->(81,'&self',[match,'&self',['.tv',['Implication',_250926,[croaks,'Fritz']],[stv,_250950,_250956]],[stv,[*,_250950,['s-tv',['TV',_250926]]],[*,_250956,['c-tv',['TV',_250926]]]]],depth(19))
                                          <--(81,retval(fail))
                                        <--(75,retval([match,'&self',['.tv',['Implication',_251400,[croaks,'Fritz']],[stv,_251436,_251442]],[stv,[*,_251436,['s-tv',['TV',_251400]]],[*,_251442,['c-tv',['TV',_251400]]]]]))
                                    <--(72,retval(['c-tv',[stv,0.95,0.85]]))
                                          <--(70,retval(0.95))
                                              <--(68,retval([stv,0.87,0.95]))
                                              -->(82,'&self',[match,'&self',['.tv',['Implication',_251592,[eat_flies,'Fritz']],[stv,_251616,_251622]],[stv,[*,_251616,['s-tv',['TV',_251592]]],[*,_251622,['c-tv',['TV',_251592]]]]],depth(21))
                                              <--(82,retval(fail))
                                            <--(66,retval([match,'&self',['.tv',['Implication',_252066,[eat_flies,'Fritz']],[stv,_252102,_252108]],[stv,[*,_252102,['s-tv',['TV',_252066]]],[*,_252108,['c-tv',['TV',_252066]]]]]))
                                        <--(63,retval(['c-tv',[stv,0.87,0.95]]))
                                          <--(61,retval(0.85))
                                              <--(59,retval([stv,0.95,0.85]))
                                              -->(83,'&self',[match,'&self',['.tv',['Implication',_252258,[croaks,'Fritz']],[stv,_252282,_252288]],[stv,[*,_252282,['s-tv',['TV',_252258]]],[*,_252288,['c-tv',['TV',_252258]]]]],depth(21))
                                              <--(83,retval(fail))
                                            <--(57,retval([match,'&self',['.tv',['Implication',_252732,[croaks,'Fritz']],[stv,_252768,_252774]],[stv,[*,_252768,['s-tv',['TV',_252732]]],[*,_252774,['c-tv',['TV',_252732]]]]]))
                                        <--(54,retval(['c-tv',[stv,0.95,0.85]]))
                                    <--(52,retval('True'))
                                <--(51,retval(0.85))
                              <--(49,retval([if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]))
                                      <--(47,retval(0.87))
                                          <--(45,retval([stv,0.87,0.95]))
                                          -->(84,'&self',[match,'&self',['.tv',['Implication',_252924,[eat_flies,'Fritz']],[stv,_252948,_252954]],[stv,[*,_252948,['s-tv',['TV',_252924]]],[*,_252954,['c-tv',['TV',_252924]]]]],depth(19))
                                          <--(84,retval(fail))
                                        <--(43,retval([match,'&self',['.tv',['Implication',_253398,[eat_flies,'Fritz']],[stv,_253434,_253440]],[stv,[*,_253434,['s-tv',['TV',_253398]]],[*,_253440,['c-tv',['TV',_253398]]]]]))
                                    <--(40,retval(['s-tv',[stv,0.87,0.95]]))
                                          <--(38,retval(0.87))
                                              <--(36,retval([stv,0.87,0.95]))
                                              -->(85,'&self',[match,'&self',['.tv',['Implication',_253590,[eat_flies,'Fritz']],[stv,_253614,_253620]],[stv,[*,_253614,['s-tv',['TV',_253590]]],[*,_253620,['c-tv',['TV',_253590]]]]],depth(21))
                                              <--(85,retval(fail))
                                            <--(34,retval([match,'&self',['.tv',['Implication',_254064,[eat_flies,'Fritz']],[stv,_254100,_254106]],[stv,[*,_254100,['s-tv',['TV',_254064]]],[*,_254106,['c-tv',['TV',_254064]]]]]))
                                        <--(31,retval(['s-tv',[stv,0.87,0.95]]))
                                          <--(29,retval(0.95))
                                              <--(27,retval([stv,0.95,0.85]))
                                              -->(86,'&self',[match,'&self',['.tv',['Implication',_254256,[croaks,'Fritz']],[stv,_254280,_254286]],[stv,[*,_254280,['s-tv',['TV',_254256]]],[*,_254286,['c-tv',['TV',_254256]]]]],depth(21))
                                              <--(86,retval(fail))
                                            <--(25,retval([match,'&self',['.tv',['Implication',_254730,[croaks,'Fritz']],[stv,_254766,_254772]],[stv,[*,_254766,['s-tv',['TV',_254730]]],[*,_254772,['c-tv',['TV',_254730]]]]]))
                                        <--(22,retval(['s-tv',[stv,0.95,0.85]]))
                                    <--(20,retval('False'))
                                <--(19,retval(0.87))
                              <--(17,retval([if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]]))
                              -->(87,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(88,'&self',[croaks,'Fritz'],depth(15))
                                -->(89,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(90,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(91,'&self',[croaks,'Fritz'],depth(18))
                                        -->(92,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(93,'&self',[croaks,'Fritz'],depth(20))
                                            -->(94,'&self',[croaks,'Fritz'],depth(20))
                                            -->(95,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(96,'&self',[croaks,'Fritz'],depth(22))
                                              -->(97,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_260996],_260996],depth(21))
                                                -->(98,'&self',[stv,0.95,0.85],depth(22))
                                          -->(99,'&self',['s-tv',[stv,0.95,0.85]],depth(19))
                                              -->(100,'&self',[stv,0.95,0.85],depth(21))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi38-000068000">!(assertEqual (TV (green Fritz)) (stv 0.7047 0.68))

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.05">;; TEST-SCRIPTS.C3-PLN-STV.05</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.7047 0.68)) 
    ( (stv 0.7047 0.68))))
</span>        -->(0,'&self',['TV',[green,'Fritz']],depth(2))
            -->(1,'&self',[green,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[green,'Fritz'],_249942],_249942],depth(3))
          <--(2,retval(fail))
          -->(3,'&self',[match,'&self',['.tv',['Implication',_250140,[green,'Fritz']],[stv,_250164,_250170]],[stv,[*,_250164,['s-tv',['TV',_250140]]],[*,_250170,['c-tv',['TV',_250140]]]]],depth(3))
            -->(4,'&self',[stv,[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],[*,1.0,['c-tv',['TV',[frog,'Fritz']]]]],depth(4))
                -->(5,'&self',[frog,'Fritz'],depth(6))
                -->(6,'&self',[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],depth(6))
                    -->(7,'&self',[frog,'Fritz'],depth(8))
                    -->(8,'&self',['s-tv',['TV',[frog,'Fritz']]],depth(8))
                        -->(9,'&self',[frog,'Fritz'],depth(10))
                        -->(10,'&self',[frog,'Fritz'],depth(10))
                        -->(11,'&self',['TV',[frog,'Fritz']],depth(10))
                            -->(12,'&self',[frog,'Fritz'],depth(12))
                          -->(13,'&self',[match,'&self',['.tv',[frog,'Fritz'],_256752],_256752],depth(11))
                          <--(13,retval(fail))
                          -->(14,'&self',[match,'&self',['.tv',['Implication',_256950,[frog,'Fritz']],[stv,_256974,_256980]],[stv,[*,_256974,['s-tv',['TV',_256950]]],[*,_256980,['c-tv',['TV',_256950]]]]],depth(11))
                            -->(15,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(12))
                                -->(16,'&self',[croaks,'Fritz'],depth(14))
                                -->(17,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(14))
                                    -->(18,'&self',[croaks,'Fritz'],depth(16))
                                    -->(19,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(16))
                                        -->(20,'&self',[croaks,'Fritz'],depth(18))
                                        -->(21,'&self',[croaks,'Fritz'],depth(18))
                                        -->(22,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(23,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(18))
                                            -->(24,'&self',[croaks,'Fritz'],depth(20))
                                          -->(25,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_264438],_264438],depth(19))
                                          <--(25,retval(fail))
                                          -->(26,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(19))
                                              -->(27,'&self',[croaks,'Fritz'],depth(21))
                                              -->(28,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(29,'&self',[croaks,'Fritz'],depth(23))
                                                -->(30,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(31,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(24))
                                                        -->(32,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(33,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(26))
                                                            -->(34,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(35,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(36,'&self',['TV',[croaks,'Fritz']],depth(28))
                                                                -->(37,'&self',[croaks,'Fritz'],depth(30))
                                                              -->(38,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_272342],_272342],depth(29))
                                                                -->(39,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(40,'&self',['s-tv',[stv,0.95,0.85]],depth(27))
                                                              -->(41,'&self',[stv,0.95,0.85],depth(29))
                                                        -->(42,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(26))
                                                            -->(43,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(44,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(45,'&self',['TV',[eat_flies,'Fritz']],depth(28))
                                                                -->(46,'&self',[eat_flies,'Fritz'],depth(30))
                                                              -->(47,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_278532],_278532],depth(29))
                                                                -->(48,'&self',[stv,0.87,0.95],depth(30))
                                                          -->(49,'&self',['s-tv',[stv,0.87,0.95]],depth(27))
                                                              -->(50,'&self',[stv,0.87,0.95],depth(29))
                                                    -->(51,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(24))
                                                        -->(52,'&self',[eat_flies,'Fritz'],depth(26))
                                                        -->(53,'&self',[eat_flies,'Fritz'],depth(26))
                                                        -->(54,'&self',['TV',[eat_flies,'Fritz']],depth(26))
                                                            -->(55,'&self',[eat_flies,'Fritz'],depth(28))
                                                          -->(56,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_284886],_284886],depth(27))
                                                            -->(57,'&self',[stv,0.87,0.95],depth(28))
                                                      -->(58,'&self',['s-tv',[stv,0.87,0.95]],depth(25))
                                                          -->(59,'&self',[stv,0.87,0.95],depth(27))
                                              -->(60,'&self',[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(61,'&self',[croaks,'Fritz'],depth(23))
                                                -->(62,'&self',[if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(63,'&self',[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(24))
                                                        -->(64,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(65,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(26))
                                                            -->(66,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(67,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(68,'&self',['TV',[croaks,'Fritz']],depth(28))
                                                                -->(69,'&self',[croaks,'Fritz'],depth(30))
                                                              -->(70,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_293990],_293990],depth(29))
                                                                -->(71,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(72,'&self',['c-tv',[stv,0.95,0.85]],depth(27))
                                                              -->(73,'&self',[stv,0.95,0.85],depth(29))
                                                        -->(74,'&self',['c-tv',['TV',[eat_flies,'Fritz']]],depth(26))
                                                            -->(75,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(76,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(77,'&self',['TV',[eat_flies,'Fritz']],depth(28))
                                                                -->(78,'&self',[eat_flies,'Fritz'],depth(30))
                                                              -->(79,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_300180],_300180],depth(29))
                                                                -->(80,'&self',[stv,0.87,0.95],depth(30))
                                                          -->(81,'&self',['c-tv',[stv,0.87,0.95]],depth(27))
                                                              -->(82,'&self',[stv,0.87,0.95],depth(29))
                                                    -->(83,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(24))
                                                        -->(84,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(85,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(86,'&self',['TV',[croaks,'Fritz']],depth(26))
                                                            -->(87,'&self',[croaks,'Fritz'],depth(28))
                                                          -->(88,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_306534],_306534],depth(27))
                                                            -->(89,'&self',[stv,0.95,0.85],depth(28))
                                                      -->(90,'&self',['c-tv',[stv,0.95,0.85]],depth(25))
                                                          -->(91,'&self',[stv,0.95,0.85],depth(27))
                                                      <--(90,retval(0.85))
                                                          <--(88,retval([stv,0.95,0.85]))
                                                          -->(92,'&self',[match,'&self',['.tv',['Implication',_309664,[croaks,'Fritz']],[stv,_309688,_309694]],[stv,[*,_309688,['s-tv',['TV',_309664]]],[*,_309694,['c-tv',['TV',_309664]]]]],depth(27))
                                                          <--(92,retval(fail))
                                                        <--(86,retval([match,'&self',['.tv',['Implication',_310138,[croaks,'Fritz']],[stv,_310174,_310180]],[stv,[*,_310174,['s-tv',['TV',_310138]]],[*,_310180,['c-tv',['TV',_310138]]]]]))
                                                    <--(83,retval(['c-tv',[stv,0.95,0.85]]))
                                                          <--(81,retval(0.95))
                                                              <--(79,retval([stv,0.87,0.95]))
                                                              -->(93,'&self',[match,'&self',['.tv',['Implication',_310330,[eat_flies,'Fritz']],[stv,_310354,_310360]],[stv,[*,_310354,['s-tv',['TV',_310330]]],[*,_310360,['c-tv',['TV',_310330]]]]],depth(29))
                                                              <--(93,retval(fail))
                                                            <--(77,retval([match,'&self',['.tv',['Implication',_310804,[eat_flies,'Fritz']],[stv,_310840,_310846]],[stv,[*,_310840,['s-tv',['TV',_310804]]],[*,_310846,['c-tv',['TV',_310804]]]]]))
                                                        <--(74,retval(['c-tv',[stv,0.87,0.95]]))
                                                          <--(72,retval(0.85))
                                                              <--(70,retval([stv,0.95,0.85]))
                                                              -->(94,'&self',[match,'&self',['.tv',['Implication',_310996,[croaks,'Fritz']],[stv,_311020,_311026]],[stv,[*,_311020,['s-tv',['TV',_310996]]],[*,_311026,['c-tv',['TV',_310996]]]]],depth(29))
                                                              <--(94,retval(fail))
                                                            <--(68,retval([match,'&self',['.tv',['Implication',_311470,[croaks,'Fritz']],[stv,_311506,_311512]],[stv,[*,_311506,['s-tv',['TV',_311470]]],[*,_311512,['c-tv',['TV',_311470]]]]]))
                                                        <--(65,retval(['c-tv',[stv,0.95,0.85]]))
                                                    <--(63,retval('True'))
                                                <--(62,retval(0.85))
                                              <--(60,retval([if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]))
                                                      <--(58,retval(0.87))
                                                          <--(56,retval([stv,0.87,0.95]))
                                                          -->(95,'&self',[match,'&self',['.tv',['Implication',_311662,[eat_flies,'Fritz']],[stv,_311686,_311692]],[stv,[*,_311686,['s-tv',['TV',_311662]]],[*,_311692,['c-tv',['TV',_311662]]]]],depth(27))
                                                          <--(95,retval(fail))
                                                        <--(54,retval([match,'&self',['.tv',['Implication',_312136,[eat_flies,'Fritz']],[stv,_312172,_312178]],[stv,[*,_312172,['s-tv',['TV',_312136]]],[*,_312178,['c-tv',['TV',_312136]]]]]))
                                                    <--(51,retval(['s-tv',[stv,0.87,0.95]]))
                                                          <--(49,retval(0.87))
                                                              <--(47,retval([stv,0.87,0.95]))
                                                              -->(96,'&self',[match,'&self',['.tv',['Implication',_312328,[eat_flies,'Fritz']],[stv,_312352,_312358]],[stv,[*,_312352,['s-tv',['TV',_312328]]],[*,_312358,['c-tv',['TV',_312328]]]]],depth(29))
                                                              <--(96,retval(fail))
                                                            <--(45,retval([match,'&self',['.tv',['Implication',_312802,[eat_flies,'Fritz']],[stv,_312838,_312844]],[stv,[*,_312838,['s-tv',['TV',_312802]]],[*,_312844,['c-tv',['TV',_312802]]]]]))
                                                        <--(42,retval(['s-tv',[stv,0.87,0.95]]))
                                                          <--(40,retval(0.95))
                                                              <--(38,retval([stv,0.95,0.85]))
                                                              -->(97,'&self',[match,'&self',['.tv',['Implication',_312994,[croaks,'Fritz']],[stv,_313018,_313024]],[stv,[*,_313018,['s-tv',['TV',_312994]]],[*,_313024,['c-tv',['TV',_312994]]]]],depth(29))
                                                              <--(97,retval(fail))
                                                            <--(36,retval([match,'&self',['.tv',['Implication',_313468,[croaks,'Fritz']],[stv,_313504,_313510]],[stv,[*,_313504,['s-tv',['TV',_313468]]],[*,_313510,['c-tv',['TV',_313468]]]]]))
                                                        <--(33,retval(['s-tv',[stv,0.95,0.85]]))
                                                    <--(31,retval('False'))
                                                <--(30,retval(0.87))
                                              <--(28,retval([if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]]))
                                              -->(98,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(99,'&self',[croaks,'Fritz'],depth(23))
                                                -->(100,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi32">% 2,432,895 inferences, 0.452 CPU in 0.452 seconds (100% CPU, 5382537 Lips)
</span> (@ = "examples/compat/test_scripts/c3_pln_stv.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 5
</span><span class="ansi31">Failures: 0
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "examples/compat/test_scripts/c3_pln_stv.html" )

</pre>
</body>

</html>
