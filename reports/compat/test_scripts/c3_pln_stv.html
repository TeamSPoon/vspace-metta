<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "examples/compat/test_scripts/c3_pln_stv.metta")
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; The examples in this file is inspired by OpenCog Classic examples
;; from github.com/opencog/pln, in particular from
;; examples/pln/conjunction, extended with implication
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Some helpful definitions
%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl:733 
%~ [ ( convert  =
%~     min(A,B) =
%~     if(A<B,A,B)),
%~   join_into_body( min(A,B,Min_B),true,
%~     if(A<B,A,B,If_B),true,
%~     min(A,B,_427224),
%~     if(A<B,A,B,_427224))]
%~ [convert=(min(A,B)=if(A<B,A,B)),join_into_body((min(A,B,_427224),true),(if(A<B,A,B,_427224),true),min(A,B,_427224),if(A<B,A,B,_427224))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,A,B],[if,[<,A,B],A,B])
</span><span class="ansi38-255165000">  (= 
    (min $A $B) 
    (if 
      (< $A $B) $A $B))
</span><span class="ansi38-000082136"> Compiled(&self): min(A, B, HeadRes) :-
    if(A<B, A, B, HeadRes).

</span>

%~ [ convert=('s-tv'(stv(S,C))=S),
%~   join_into_body( stv(S,C,Stv_S_C),'s-tv'(Stv_S_C,S),true,
%~     true,
%~     stv(S,C,_27596),
%~     's-tv'(_27596,S))]
%~ [convert=('s-tv'(stv(S,C))=S),join_into_body((stv(S,C,_27596),'s-tv'(_27596,S),true),true,stv(S,C,_27596),'s-tv'(_27596,S))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['s-tv',[stv,S,C]],S)
</span><span class="ansi38-255165000">  (= 
    (s-tv 
      (stv $S $C)) $S)
</span><span class="ansi38-000082136"> Compiled(&self): stv(S, C, A) :-
    's-tv'(A, S).

</span>

%~ [ convert=('c-tv'(stv(S,C))=C),
%~   join_into_body( stv(S,C,Stv_C),'c-tv'(Stv_C,C),true,
%~     true,
%~     stv(S,C,_120048),
%~     'c-tv'(_120048,C))]
%~ [convert=('c-tv'(stv(S,C))=C),join_into_body((stv(S,C,_120048),'c-tv'(_120048,C),true),true,stv(S,C,_120048),'c-tv'(_120048,C))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['c-tv',[stv,S,C]],C)
</span><span class="ansi38-255165000">  (= 
    (c-tv 
      (stv $S $C)) $C)
</span><span class="ansi38-000082136"> Compiled(&self): stv(S, C, A) :-
    'c-tv'(A, C).

</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; `TV` "metarule" based on `match` to run
; `.tv` is a custom symbol, which is used to connect
; PLN-like expressions with their truth values.
; Some `.tv` facts will be defined below
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
%~ [ ( convert  =
%~     'TV'(X) =
%~     match('&self','.tv'(X,Stv),Stv)),
%~   join_into_body( 'TV'(X,TV_X),true,
%~     '.tv'(X,Stv,Self_Stv),match('&self',Self_Stv,Stv),
%~     'TV'(X,_209984),
%~     '.tv'(X,Stv,_212548),match('&self',_212548,Stv))]
%~ [convert=('TV'(X)=match('&self','.tv'(X,Stv),Stv)),join_into_body(('TV'(X,_209984),true),('.tv'(X,Stv,_212548),match('&self',_212548,Stv)),'TV'(X,_209984),('.tv'(X,Stv,_212548),match('&self',_212548,Stv)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',X,Stv],Stv])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv $X $Stv) $Stv))
</span><span class="ansi38-000082136"> Compiled(&self): 'TV'(X, HeadRes) :-
    '.tv'(X, Stv, A),
    match('&self', A, Stv).

</span>

; Definition of TV for a conjunction
; we could use `(.tv (And $a $b) (stv ...))` instead of this
%~ [ ( convert  =
%~     'TV'('And'(A,B)) =
%~     stv(
%~        min('s-tv'('TV'(A)),'s-tv'('TV'(B))),
%~        min('c-tv'('TV'(A)),'c-tv'('TV'(B))))),
%~   join_into_body( 'And'(A,B,And_B),'TV'(And_B,TV),true,
%~     ( 'TV'(B,TV_B)  ,
%~       'c-tv'(TV_B,C_tv_Min) ,
%~       'TV'(A,TV_A) ,
%~       'c-tv'(TV_A,C_tv_Min3) ,
%~       min(C_tv_Min3,C_tv_Min,Min_Stv) ,
%~       's-tv'(TV_B,S_tv_Min4) ,
%~       's-tv'(TV_A,S_tv_Min5) ,
%~       min(S_tv_Min5,S_tv_Min4,Min_Stv7) ,
%~       stv(Min_Stv7,Min_Stv,Stv16)),
%~     'And'(A,B,_317270),
%~     ( 'TV'(TV,TV1)  ,
%~       'TV'(B,_320318) ,
%~       'c-tv'(_320318,_321738) ,
%~       'TV'(A,_323106) ,
%~       'c-tv'(_323106,_324216) ,
%~       min(_324216,_321738,_325248) ,
%~       's-tv'(_320318,_326234) ,
%~       's-tv'(_323106,_327144) ,
%~       min(_327144,_326234,_327976) ,
%~       stv(_327976,_325248,_316992)))]
%~ [convert=('TV'('And'(A,B))=stv(min('s-tv'('TV'(A)),'s-tv'('TV'(B))),min('c-tv'('TV'(A)),'c-tv'('TV'(B))))),join_into_body(('And'(A,B,_317270),'TV'(_317270,_316992),true),('TV'(B,_320318),'c-tv'(_320318,_321738),'TV'(A,_323106),'c-tv'(_323106,_324216),min(_324216,_321738,_325248),'s-tv'(_320318,_326234),'s-tv'(_323106,_327144),min(_327144,_326234,_327976),stv(_327976,_325248,_316992),true),'And'(A,B,_317270),(('TV'(_317270,_316992),true),'TV'(B,_320318),'c-tv'(_320318,_321738),'TV'(A,_323106),'c-tv'(_323106,_324216),min(_324216,_321738,_325248),'s-tv'(_320318,_326234),'s-tv'(_323106,_327144),min(_327144,_326234,_327976),stv(_327976,_325248,_316992),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',['And',A,B]],[stv,[min,['s-tv',['TV',A]],['s-tv',['TV',B]]],[min,['c-tv',['TV',A]],['c-tv',['TV',B]]]])
</span><span class="ansi38-255165000">  (= 
    (TV 
      (And $A $B)) 
    (stv 
      (min 
        (s-tv 
          (TV $A)) 
        (s-tv 
          (TV $B))) 
      (min 
        (c-tv 
          (TV $A)) 
        (c-tv 
          (TV $B)))))
</span><span class="ansi38-000082136"> Compiled(&self): 'And'(A, B, A) :-
    'TV'(A, HeadRes),
    true,
    'TV'(B, B),
    'c-tv'(B, C),
    'TV'(A, D),
    'c-tv'(D, E),
    min(E, C, F),
    's-tv'(B, G),
    's-tv'(D, H),
    min(H, G, I),
    stv(I, F, HeadRes),
    true.

</span>

; Definition of TV for $x when it''s the consequent of an implication
%~ [ ( convert  =
%~     'TV'(X) =
%~     match( '&self',
%~       '.tv'('Implication'(Y,X),stv(S,C)),
%~       stv(S*'s-tv'('TV'(Y)),C*'c-tv'('TV'(Y))))),
%~   join_into_body( 'TV'(X,TV_X),true,
%~     ( 'TV'(Y,TV_Y)  ,
%~       'c-tv'(TV_Y,C) ,
%~       *(C,C,Stv) ,
%~       's-tv'(TV_Y,S) ,
%~       *(S,S,Stv4) ,
%~       stv(Stv4,Stv,Match_Stv9) ,
%~       stv(S,C,Stv_C5) ,
%~       'Implication'(Y,X,Implication_X) ,
%~       '.tv'(Implication_X,Stv_C5,Tv_Self) ,
%~       match('&self',Tv_Self,Match_Stv9)),
%~     'TV'(X,_2870),
%~     ( 'TV'(Y,TV_Y)  ,
%~       'c-tv'(_5452,_7212) ,
%~       *(C,_7212,_8902) ,
%~       's-tv'(_5452,_10476) ,
%~       *(S,_10476,_11958) ,
%~       stv(_11958,_8902,_13300) ,
%~       stv(S,C,_14582) ,
%~       'Implication'(Y,X,_15672) ,
%~       '.tv'(_15672,_14582,_16538) ,
%~       match('&self',_16538,_13300)))]
%~ [convert=('TV'(X)=match('&self','.tv'('Implication'(Y,X),stv(S,C)),stv(S*'s-tv'('TV'(Y)),C*'c-tv'('TV'(Y))))),join_into_body(('TV'(X,_2870),true),('TV'(Y,_5452),'c-tv'(_5452,_7212),*(C,_7212,_8902),'s-tv'(_5452,_10476),*(S,_10476,_11958),stv(_11958,_8902,_13300),stv(S,C,_14582),'Implication'(Y,X,_15672),'.tv'(_15672,_14582,_16538),match('&self',_16538,_13300)),'TV'(X,_2870),('TV'(Y,_5452),'c-tv'(_5452,_7212),*(C,_7212,_8902),'s-tv'(_5452,_10476),*(S,_10476,_11958),stv(_11958,_8902,_13300),stv(S,C,_14582),'Implication'(Y,X,_15672),'.tv'(_15672,_14582,_16538),match('&self',_16538,_13300)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['TV',X],[match,'&self',['.tv',['Implication',Y,X],[stv,S,C]],[stv,[*,S,['s-tv',['TV',Y]]],[*,C,['c-tv',['TV',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (TV $X) 
    (match &self 
      (.tv 
        (Implication $Y $X) 
        (stv $S $C)) 
      (stv 
        (* $S 
          (s-tv 
            (TV $Y))) 
        (* $C 
          (c-tv 
            (TV $Y))))))
</span><span class="ansi38-000082136"> Compiled(&self): 'TV'(X, HeadRes) :-
    'TV'(Y, A),
    'c-tv'(A, B),
    *(C, B, C),
    's-tv'(A, D),
    *(S, D, E),
    stv(E, C, F),
    stv(S, C, G),
    'Implication'(Y, X, H),
    '.tv'(H, G, I),
    match('&self', I, F).

</span>

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; First example
; .tv serves as a special type of equality when
; matched by the TV "metarules" above
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Some facts
%~ [ ( convert  =
%~     '.tv'('Evaluation'('Predicate'('P'),'Concept'('A')),stv(0.5,0.8)) =
%~     'True'),
%~   join_into_body( ( stv(0.5,0.8,Stv_True)  ,
%~                     'Concept'('A',Concept_A) ,
%~                     'Predicate'('P',P) ,
%~                     'Evaluation'(P,Concept_A,Evaluation_Tv) ,
%~                     '.tv'(Evaluation_Tv,Stv_True,'True')),
%~     true,
%~     stv(0.5,0.8,_199226),
%~     ( 'Concept'('A',Concept_A)  ,
%~       'Predicate'('P',_201138) ,
%~       'Evaluation'(_201138,_200220,_201978) ,
%~       '.tv'(_201978,_199226,'True')))]
%~ [convert=('.tv'('Evaluation'('Predicate'('P'),'Concept'('A')),stv(0.5,0.8))='True'),join_into_body((stv(0.5,0.8,_199226),'Concept'('A',_200220),'Predicate'('P',_201138),'Evaluation'(_201138,_200220,_201978),'.tv'(_201978,_199226,'True'),true),true,stv(0.5,0.8,_199226),('Concept'('A',_200220),'Predicate'('P',_201138),'Evaluation'(_201138,_200220,_201978),'.tv'(_201978,_199226,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],[stv,0.5,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept A)) 
    (stv 0.5 0.8))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.5, 0.8, A) :-
    'Concept'('A', B),
    'Predicate'('P', C),
    'Evaluation'(C, B, D),
    '.tv'(D, A, 'True'),
    true.

</span>

%~ [ ( convert  =
%~     '.tv'('Evaluation'('Predicate'('P'),'Concept'('B')),stv(0.3,0.9)) =
%~     'True'),
%~   join_into_body( ( stv(0.3,0.9,Stv_True)  ,
%~                     'Concept'('B',Concept_B) ,
%~                     'Predicate'('P',P) ,
%~                     'Evaluation'(P,Concept_B,Evaluation_Tv) ,
%~                     '.tv'(Evaluation_Tv,Stv_True,'True')),
%~     true,
%~     stv(0.3,0.9,_347674),
%~     ( 'Concept'('B',Concept_B)  ,
%~       'Predicate'('P',_349570) ,
%~       'Evaluation'(_349570,_348660,_350402) ,
%~       '.tv'(_350402,_347674,'True')))]
%~ [convert=('.tv'('Evaluation'('Predicate'('P'),'Concept'('B')),stv(0.3,0.9))='True'),join_into_body((stv(0.3,0.9,_347674),'Concept'('B',_348660),'Predicate'('P',_349570),'Evaluation'(_349570,_348660,_350402),'.tv'(_350402,_347674,'True'),true),true,stv(0.3,0.9,_347674),('Concept'('B',_348660),'Predicate'('P',_349570),'Evaluation'(_349570,_348660,_350402),'.tv'(_350402,_347674,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],[stv,0.3,0.9]])
</span><span class="ansi38-255165000">  (.tv 
    (Evaluation 
      (Predicate P) 
      (Concept B)) 
    (stv 0.3 0.9))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.3, 0.9, A) :-
    'Concept'('B', B),
    'Predicate'('P', C),
    'Evaluation'(C, B, D),
    '.tv'(D, A, 'True'),
    true.

</span>

%~ [ ( convert  =
%~     '.tv'(
%~        'Implication'('Evaluation'('Predicate'('P'),'Concept'('A')),'Evaluation'('Predicate'('False'),'Concept'('A'))),
%~        stv(0.8,1.0)) =
%~     'True'),
%~   join_into_body( ( stv(0.8,1.0,Stv_True)  ,
%~                     'Concept'('A',Concept_A) ,
%~                     'Predicate'('False',Predicate_False) ,
%~                     'Evaluation'(Predicate_False,Concept_A,Evaluation_Implication) ,
%~                     'Predicate'('P',P) ,
%~                     'Evaluation'(P,Concept_A,Evaluation_Implication4) ,
%~                     'Implication'(Evaluation_Implication4,Evaluation_Implication,Implication_Tv) ,
%~                     '.tv'(Implication_Tv,Stv_True,'True')),
%~     true,
%~     stv(0.8,1.0,_2436),
%~     ( 'Concept'('A',Concept_A)  ,
%~       'Predicate'('False',_2466) ,
%~       'Evaluation'(_2466,_2452,_2480) ,
%~       'Predicate'('P',_2496) ,
%~       'Evaluation'(_2496,_2452,_2510) ,
%~       'Implication'(_2510,_2480,_2526) ,
%~       '.tv'(_2526,_2436,'True')))]
%~ [convert=('.tv'('Implication'('Evaluation'('Predicate'('P'),'Concept'('A')),'Evaluation'('Predicate'('False'),'Concept'('A'))),stv(0.8,1.0))='True'),join_into_body((stv(0.8,1.0,_2436),'Concept'('A',_2452),'Predicate'('False',_2466),'Evaluation'(_2466,_2452,_2480),'Predicate'('P',_2496),'Evaluation'(_2496,_2452,_2510),'Implication'(_2510,_2480,_2526),'.tv'(_2526,_2436,'True'),true),true,stv(0.8,1.0,_2436),('Concept'('A',_2452),'Predicate'('False',_2466),'Evaluation'(_2466,_2452,_2480),'Predicate'('P',_2496),'Evaluation'(_2496,_2452,_2510),'Implication'(_2510,_2480,_2526),'.tv'(_2526,_2436,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['Evaluation',['Predicate','P'],['Concept','A']],['Evaluation',['Predicate','False'],['Concept','A']]],[stv,0.8,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (Evaluation 
        (Predicate P) 
        (Concept A)) 
      (Evaluation 
        (Predicate False) 
        (Concept A))) 
    (stv 0.8 1.0))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.8, 1.0, A) :-
    'Concept'('A', B),
    'Predicate'('False', C),
    'Evaluation'(C, B, D),
    'Predicate'('P', E),
    'Evaluation'(E, B, F),
    'Implication'(F, D, G),
    '.tv'(G, A, 'True'),
    true.

</span>

; FIXME? `(PA)` and `(PB)` are used because otherwise
; substitution is not invoked (atm of test creation)
%~ [ ( convert  =
%~     'PA' =
%~     'Evaluation'('Predicate'('P'),'Concept'('A'))),
%~   join_into_body( 'PA'(PA),
%~     ( 'Concept'('A',Concept_A)  ,
%~       'Predicate'('P',P) ,
%~       'Evaluation'(P,Concept_A,Evaluation)),
%~     'PA'(_186588),
%~     'Concept'('A',_187394),'Predicate'('P',_188212),'Evaluation'(_188212,_187394,_186588),true)]
%~ [convert=('PA'='Evaluation'('Predicate'('P'),'Concept'('A'))),join_into_body('PA'(_186588),('Concept'('A',_187394),'Predicate'('P',_188212),'Evaluation'(_188212,_187394,_186588),true),'PA'(_186588),('Concept'('A',_187394),'Predicate'('P',_188212),'Evaluation'(_188212,_187394,_186588),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PA'],['Evaluation',['Predicate','P'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (PA) 
    (Evaluation 
      (Predicate P) 
      (Concept A)))
</span><span class="ansi38-000082136"> Compiled(&self): 'PA'(HeadRes) :-
    'Concept'('A', A),
    'Predicate'('P', B),
    'Evaluation'(B, A, HeadRes),
    true.

</span>

%~ [ ( convert  =
%~     'PB' =
%~     'Evaluation'('Predicate'('P'),'Concept'('B'))),
%~   join_into_body( 'PB'(PB),
%~     ( 'Concept'('B',Concept_B)  ,
%~       'Predicate'('P',P) ,
%~       'Evaluation'(P,Concept_B,Evaluation)),
%~     'PB'(_299756),
%~     'Concept'('B',_300562),'Predicate'('P',_301380),'Evaluation'(_301380,_300562,_299756),true)]
%~ [convert=('PB'='Evaluation'('Predicate'('P'),'Concept'('B'))),join_into_body('PB'(_299756),('Concept'('B',_300562),'Predicate'('P',_301380),'Evaluation'(_301380,_300562,_299756),true),'PB'(_299756),('Concept'('B',_300562),'Predicate'('P',_301380),'Evaluation'(_301380,_300562,_299756),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['PB'],['Evaluation',['Predicate','P'],['Concept','B']])
</span><span class="ansi38-255165000">  (= 
    (PB) 
    (Evaluation 
      (Predicate P) 
      (Concept B)))
</span><span class="ansi38-000082136"> Compiled(&self): 'PB'(HeadRes) :-
    'Concept'('B', A),
    'Predicate'('P', B),
    'Evaluation'(B, A, HeadRes),
    true.

</span>

%~ [ ( convert  =
%~     'FA' =
%~     'Evaluation'('Predicate'('False'),'Concept'('A'))),
%~   join_into_body( 'FA'(FA),
%~     ( 'Concept'('A',Concept_A)  ,
%~       'Predicate'('False',Predicate_False) ,
%~       'Evaluation'(Predicate_False,Concept_A,Evaluation)),
%~     'FA'(_413142),
%~     'Concept'('A',_413948),'Predicate'('False',_414766),'Evaluation'(_414766,_413948,_413142),true)]
%~ [convert=('FA'='Evaluation'('Predicate'('False'),'Concept'('A'))),join_into_body('FA'(_413142),('Concept'('A',_413948),'Predicate'('False',_414766),'Evaluation'(_414766,_413948,_413142),true),'FA'(_413142),('Concept'('A',_413948),'Predicate'('False',_414766),'Evaluation'(_414766,_413948,_413142),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['FA'],['Evaluation',['Predicate','False'],['Concept','A']])
</span><span class="ansi38-255165000">  (= 
    (FA) 
    (Evaluation 
      (Predicate False) 
      (Concept A)))
</span><span class="ansi38-000082136"> Compiled(&self): 'FA'(HeadRes) :-
    'Concept'('A', A),
    'Predicate'('False', B),
    'Evaluation'(B, A, HeadRes),
    true.

</span>

; Tests
<span class="ansi38-000068000">!(assertEqual (TV (And (PA) (PB))) (stv 0.3 0.8))

</span><span class="ansi38-017068017">exec(A) :-
    stv(0.3, 0.8, B),
    'And'('PA', 'PB', C),
    'TV'(C, D),
    assertEqual(D, B, A),
    true.

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.01">;; TEST-SCRIPTS.C3-PLN-STV.01</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.3 0.8)) 
    ( (stv 0.3 0.8))))
</span>        -->(0,'&self',['TV',['And',['PA'],['PB']]],depth(2))
            -->(1,'&self',['PA'],depth(4))
              -->(2,'&self',['Evaluation',['Predicate','P'],['Concept','A']],depth(5))
                  -->(3,'&self',['Predicate','P'],depth(7))
                  -->(4,'&self',['Predicate','P'],depth(7))
                  -->(5,'&self',['Concept','A'],depth(7))
                  -->(6,'&self',['Predicate','P'],depth(7))
                  -->(7,'&self',['Concept','A'],depth(7))
            -->(8,'&self',['TV',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']]],depth(4))
                -->(9,'&self',['Predicate','P'],depth(6))
              -->(10,'&self',[match,'&self',['.tv',['And',['Evaluation',['Predicate','P'],['Concept','A']],['PB']],_236872],_236872],depth(5))
              <--(10,retval(fail))
              -->(11,'&self',[stv,[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]]],depth(5))
                  -->(12,'&self',['Predicate','P'],depth(7))
                  -->(13,'&self',[min,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(7))
                      -->(14,'&self',['Predicate','P'],depth(9))
                    -->(15,'&self',[if,[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(8))
                        -->(16,'&self',[<,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['s-tv',['TV',['PB']]]],depth(10))
                            -->(17,'&self',['Predicate','P'],depth(12))
                            -->(18,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(12))
                                -->(19,'&self',['Predicate','P'],depth(14))
                                -->(20,'&self',['Predicate','P'],depth(14))
                                -->(21,'&self',['Concept','A'],depth(14))
                                -->(22,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(14))
                                    -->(23,'&self',['Predicate','P'],depth(16))
                                  -->(24,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_245732],_245732],depth(15))
                                    -->(25,'&self',[stv,0.5,0.8],depth(16))
                              -->(26,'&self',['s-tv',[stv,0.5,0.8]],depth(13))
                                  -->(27,'&self',[stv,0.5,0.8],depth(15))
                            -->(28,'&self',['s-tv',['TV',['PB']]],depth(12))
                                -->(29,'&self',['PB'],depth(14))
                                  -->(30,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(15))
                                      -->(31,'&self',['Predicate','P'],depth(17))
                                      -->(32,'&self',['Predicate','P'],depth(17))
                                      -->(33,'&self',['Concept','B'],depth(17))
                                      -->(34,'&self',['Predicate','P'],depth(17))
                                      -->(35,'&self',['Concept','B'],depth(17))
                                -->(36,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(14))
                                    -->(37,'&self',['Predicate','P'],depth(16))
                                    -->(38,'&self',['Predicate','P'],depth(16))
                                    -->(39,'&self',['Concept','B'],depth(16))
                                    -->(40,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(16))
                                        -->(41,'&self',['Predicate','P'],depth(18))
                                      -->(42,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_258268],_258268],depth(17))
                                        -->(43,'&self',[stv,0.3,0.9],depth(18))
                                  -->(44,'&self',['s-tv',[stv,0.3,0.9]],depth(15))
                                      -->(45,'&self',[stv,0.3,0.9],depth(17))
                                  <--(44,retval(0.3))
                                      <--(42,retval([stv,0.3,0.9]))
                                    <--(40,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_258478],_258478]))
                                <--(36,retval(['s-tv',[stv,0.3,0.9]]))
                                <--(29,retval(['Evaluation',['Predicate','P'],['Concept','B']]))
                            <--(28,retval(0.3))
                              <--(26,retval(0.5))
                                  <--(24,retval([stv,0.5,0.8]))
                                <--(22,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_245942],_245942]))
                            <--(18,retval(['s-tv',[stv,0.5,0.8]]))
                        <--(16,retval('False'))
                        -->(46,'&self',['s-tv',['TV',['PB']]],depth(10))
                            -->(47,'&self',['PB'],depth(12))
                              -->(48,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(13))
                                  -->(49,'&self',['Predicate','P'],depth(15))
                                  -->(50,'&self',['Predicate','P'],depth(15))
                                  -->(51,'&self',['Concept','B'],depth(15))
                                  -->(52,'&self',['Predicate','P'],depth(15))
                                  -->(53,'&self',['Concept','B'],depth(15))
                            -->(54,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(12))
                                -->(55,'&self',['Predicate','P'],depth(14))
                                -->(56,'&self',['Predicate','P'],depth(14))
                                -->(57,'&self',['Concept','B'],depth(14))
                                -->(58,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(14))
                                    -->(59,'&self',['Predicate','P'],depth(16))
                                  -->(60,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_271604],_271604],depth(15))
                                    -->(61,'&self',[stv,0.3,0.9],depth(16))
                              -->(62,'&self',['s-tv',[stv,0.3,0.9]],depth(13))
                                  -->(63,'&self',[stv,0.3,0.9],depth(15))
                  -->(64,'&self',[min,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(7))
                      -->(65,'&self',['Predicate','P'],depth(9))
                    -->(66,'&self',[if,[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(8))
                        -->(67,'&self',[<,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],['c-tv',['TV',['PB']]]],depth(10))
                            -->(68,'&self',['Predicate','P'],depth(12))
                            -->(69,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(12))
                                -->(70,'&self',['Predicate','P'],depth(14))
                                -->(71,'&self',['Predicate','P'],depth(14))
                                -->(72,'&self',['Concept','A'],depth(14))
                                -->(73,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(14))
                                    -->(74,'&self',['Predicate','P'],depth(16))
                                  -->(75,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_281714],_281714],depth(15))
                                    -->(76,'&self',[stv,0.5,0.8],depth(16))
                              -->(77,'&self',['c-tv',[stv,0.5,0.8]],depth(13))
                                  -->(78,'&self',[stv,0.5,0.8],depth(15))
                            -->(79,'&self',['c-tv',['TV',['PB']]],depth(12))
                                -->(80,'&self',['PB'],depth(14))
                                  -->(81,'&self',['Evaluation',['Predicate','P'],['Concept','B']],depth(15))
                                      -->(82,'&self',['Predicate','P'],depth(17))
                                      -->(83,'&self',['Predicate','P'],depth(17))
                                      -->(84,'&self',['Concept','B'],depth(17))
                                      -->(85,'&self',['Predicate','P'],depth(17))
                                      -->(86,'&self',['Concept','B'],depth(17))
                                -->(87,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','B']]]],depth(14))
                                    -->(88,'&self',['Predicate','P'],depth(16))
                                    -->(89,'&self',['Predicate','P'],depth(16))
                                    -->(90,'&self',['Concept','B'],depth(16))
                                    -->(91,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','B']]],depth(16))
                                        -->(92,'&self',['Predicate','P'],depth(18))
                                      -->(93,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_294250],_294250],depth(17))
                                        -->(94,'&self',[stv,0.3,0.9],depth(18))
                                  -->(95,'&self',['c-tv',[stv,0.3,0.9]],depth(15))
                                      -->(96,'&self',[stv,0.3,0.9],depth(17))
                                  <--(95,retval(0.9))
                                      <--(93,retval([stv,0.3,0.9]))
                                    <--(91,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','B']],_294460],_294460]))
                                <--(87,retval(['c-tv',[stv,0.3,0.9]]))
                                <--(80,retval(['Evaluation',['Predicate','P'],['Concept','B']]))
                            <--(79,retval(0.9))
                              <--(77,retval(0.8))
                                  <--(75,retval([stv,0.5,0.8]))
                                <--(73,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_281924],_281924]))
                            <--(69,retval(['c-tv',[stv,0.5,0.8]]))
                        <--(67,retval('True'))
                        -->(97,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(98,'&self',['Predicate','P'],depth(12))
                            -->(99,'&self',['Predicate','P'],depth(12))
                            -->(100,'&self',['Concept','A'],depth(12))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi38-000068000">!(assertEqual (TV (FA)) (stv 0.4 0.8))

</span><span class="ansi38-017068017">exec(A) :-
    stv(0.4, 0.8, B),
    'TV'('FA', C),
    assertEqual(C, B, A),
    true.

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.02">;; TEST-SCRIPTS.C3-PLN-STV.02</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.4 0.8)) 
    ( (stv 0.4 0.8))))
</span>        -->(0,'&self',['TV',['FA']],depth(2))
            -->(1,'&self',['FA'],depth(4))
              -->(2,'&self',['Evaluation',['Predicate','False'],['Concept','A']],depth(5))
                  -->(3,'&self',['Predicate','False'],depth(7))
                  -->(4,'&self',['Predicate','False'],depth(7))
                  -->(5,'&self',['Concept','A'],depth(7))
                  -->(6,'&self',['Predicate','False'],depth(7))
                  -->(7,'&self',['Concept','A'],depth(7))
            -->(8,'&self',['TV',['Evaluation',['Predicate','False'],['Concept','A']]],depth(4))
                -->(9,'&self',['Predicate','False'],depth(6))
              -->(10,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','False'],['Concept','A']],_19108],_19108],depth(5))
              <--(10,retval(fail))
              -->(11,'&self',[match,'&self',['.tv',['Implication',_19366,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_19390,_19396]],[stv,[*,_19390,['s-tv',['TV',_19366]]],[*,_19396,['c-tv',['TV',_19366]]]]],depth(5))
                -->(12,'&self',[stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]],depth(6))
                    -->(13,'&self',['Predicate','P'],depth(8))
                    -->(14,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(15,'&self',['Predicate','P'],depth(10))
                        -->(16,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(17,'&self',['Predicate','P'],depth(12))
                            -->(18,'&self',['Predicate','P'],depth(12))
                            -->(19,'&self',['Concept','A'],depth(12))
                            -->(20,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(21,'&self',['Predicate','P'],depth(14))
                              -->(22,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_26944],_26944],depth(13))
                                -->(23,'&self',[stv,0.5,0.8],depth(14))
                          -->(24,'&self',['s-tv',[stv,0.5,0.8]],depth(11))
                              -->(25,'&self',[stv,0.5,0.8],depth(13))
                          <--(24,retval(0.5))
                              <--(22,retval([stv,0.5,0.8]))
                            <--(20,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_27154],_27154]))
                        <--(16,retval(['s-tv',[stv,0.5,0.8]]))
                    <--(14,retval(0.4))
                    -->(26,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(27,'&self',['Predicate','P'],depth(10))
                        -->(28,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(29,'&self',['Predicate','P'],depth(12))
                            -->(30,'&self',['Predicate','P'],depth(12))
                            -->(31,'&self',['Concept','A'],depth(12))
                            -->(32,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(33,'&self',['Predicate','P'],depth(14))
                              -->(34,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_35754],_35754],depth(13))
                                -->(35,'&self',[stv,0.5,0.8],depth(14))
                          -->(36,'&self',['c-tv',[stv,0.5,0.8]],depth(11))
                              -->(37,'&self',[stv,0.5,0.8],depth(13))
                          <--(36,retval(0.8))
                              <--(34,retval([stv,0.5,0.8]))
                            <--(32,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_35964],_35964]))
                        <--(28,retval(['c-tv',[stv,0.5,0.8]]))
                    <--(26,retval(0.8))
                    -->(38,'&self',[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(39,'&self',['Predicate','P'],depth(10))
                        -->(40,'&self',['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(41,'&self',['Predicate','P'],depth(12))
                            -->(42,'&self',['Predicate','P'],depth(12))
                            -->(43,'&self',['Concept','A'],depth(12))
                            -->(44,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(45,'&self',['Predicate','P'],depth(14))
                              -->(46,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_44664],_44664],depth(13))
                                -->(47,'&self',[stv,0.5,0.8],depth(14))
                          -->(48,'&self',['s-tv',[stv,0.5,0.8]],depth(11))
                              -->(49,'&self',[stv,0.5,0.8],depth(13))
                          <--(48,retval(0.5))
                              <--(46,retval([stv,0.5,0.8]))
                            <--(44,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_44874],_44874]))
                        <--(40,retval(['s-tv',[stv,0.5,0.8]]))
                    <--(38,retval(0.4))
                    -->(50,'&self',[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],depth(8))
                        -->(51,'&self',['Predicate','P'],depth(10))
                        -->(52,'&self',['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]],depth(10))
                            -->(53,'&self',['Predicate','P'],depth(12))
                            -->(54,'&self',['Predicate','P'],depth(12))
                            -->(55,'&self',['Concept','A'],depth(12))
                            -->(56,'&self',['TV',['Evaluation',['Predicate','P'],['Concept','A']]],depth(12))
                                -->(57,'&self',['Predicate','P'],depth(14))
                              -->(58,'&self',[match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_53474],_53474],depth(13))
                                -->(59,'&self',[stv,0.5,0.8],depth(14))
                          -->(60,'&self',['c-tv',[stv,0.5,0.8]],depth(11))
                              -->(61,'&self',[stv,0.5,0.8],depth(13))
                          <--(60,retval(0.8))
                              <--(58,retval([stv,0.5,0.8]))
                            <--(56,retval([match,'&self',['.tv',['Evaluation',['Predicate','P'],['Concept','A']],_53684],_53684]))
                        <--(52,retval(['c-tv',[stv,0.5,0.8]]))
                    <--(50,retval(0.8))
                <--(12,retval([stv,0.4,0.8]))
                  -->(62,'&self',[stv,0.4,0.8],depth(7))
          -->(63,'&self',[stv,0.4,0.8],depth(3))
              <--(11,retval([stv,[*,0.8,['s-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]],[*,1.0,['c-tv',['TV',['Evaluation',['Predicate','P'],['Concept','A']]]]]]))
            <--(8,retval([match,'&self',['.tv',['Implication',_19900,['Evaluation',['Predicate','False'],['Concept','A']]],[stv,_19966,_19972]],[stv,[*,_19966,['s-tv',['TV',_19900]]],[*,_19972,['c-tv',['TV',_19900]]]]]))
            <--(1,retval(['Evaluation',['Predicate','False'],['Concept','A']]))
          -->(64,'&self',[match,'&self',['.tv',['FA'],_59258],_59258],depth(3))
          <--(64,retval(fail))
          -->(65,'&self',[match,'&self',['.tv',['Implication',_59468,['FA']],[stv,_59492,_59498]],[stv,[*,_59492,['s-tv',['TV',_59468]]],[*,_59498,['c-tv',['TV',_59468]]]]],depth(3))
          <--(65,retval(fail))
        <--(0,retval([match,'&self',['.tv',['Implication',_59954,['FA']],[stv,_59984,_59990]],[stv,[*,_59984,['s-tv',['TV',_59954]]],[*,_59990,['c-tv',['TV',_59954]]]]]))
        -->(66,'&self',[stv,0.4,0.8],depth(2))
<span class="ansi33"> True

</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Second example
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Implication rule
%~ [ ( convert  =
%~     '.tv'('Implication'('And'(croaks(X),eat_flies(X)),frog(X)),stv(0.9,0.8)) =
%~     'True'),
%~   join_into_body( ( stv(0.9,0.8,Stv_True)  ,
%~                     frog(X,Frog_X) ,
%~                     eat_flies(X,Flies_X1) ,
%~                     croaks(X,Croaks_X2) ,
%~                     'And'(Croaks_X2,Flies_X1,And_Implication) ,
%~                     'Implication'(And_Implication,Frog_X,Implication_Tv) ,
%~                     '.tv'(Implication_Tv,Stv_True,'True')),
%~     true,
%~     stv(0.9,0.8,_80508),
%~     ( frog(X,Frog_X)  ,
%~       eat_flies(X,_83022) ,
%~       croaks(X,_84094) ,
%~       'And'(_84094,_83022,_85018) ,
%~       'Implication'(_85018,_81826,_85864) ,
%~       '.tv'(_85864,_80508,'True')))]
%~ [convert=('.tv'('Implication'('And'(croaks(X),eat_flies(X)),frog(X)),stv(0.9,0.8))='True'),join_into_body((stv(0.9,0.8,_80508),frog(X,_81826),eat_flies(X,_83022),croaks(X,_84094),'And'(_84094,_83022,_85018),'Implication'(_85018,_81826,_85864),'.tv'(_85864,_80508,'True'),true),true,stv(0.9,0.8,_80508),(frog(X,_81826),eat_flies(X,_83022),croaks(X,_84094),'And'(_84094,_83022,_85018),'Implication'(_85018,_81826,_85864),'.tv'(_85864,_80508,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',['And',[croaks,X],[eat_flies,X]],[frog,X]],[stv,0.9,0.8]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (And 
        (croaks $X) 
        (eat_flies $X)) 
      (frog $X)) 
    (stv 0.9 0.8))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.9, 0.8, A) :-
    frog(X, B),
    eat_flies(X, C),
    croaks(X, D),
    'And'(D, C, E),
    'Implication'(E, B, F),
    '.tv'(F, A, 'True'),
    true.

</span>

; Some facts
%~ [ ( convert  =
%~     '.tv'(croaks('Fritz'),stv(0.95,0.85)) =
%~     'True'),
%~   join_into_body( ( stv(0.95,0.85,Stv_True)  ,
%~                     croaks('Fritz',Croaks_Fritz) ,
%~                     '.tv'(Croaks_Fritz,Stv_True,'True')),
%~     true,
%~     stv(0.95,0.85,_242286),
%~     croaks('Fritz',_243118),'.tv'(_243118,_242286,'True'),true)]
%~ [convert=('.tv'(croaks('Fritz'),stv(0.95,0.85))='True'),join_into_body((stv(0.95,0.85,_242286),croaks('Fritz',_243118),'.tv'(_243118,_242286,'True'),true),true,stv(0.95,0.85,_242286),(croaks('Fritz',_243118),'.tv'(_243118,_242286,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[croaks,'Fritz'],[stv,0.95,0.85]])
</span><span class="ansi38-255165000">  (.tv 
    (croaks Fritz) 
    (stv 0.95 0.85))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.95, 0.85, A) :-
    croaks('Fritz', B),
    '.tv'(B, A, 'True'),
    true.

</span>

%~ [ ( convert  =
%~     '.tv'(eat_flies('Fritz'),stv(0.87,0.95)) =
%~     'True'),
%~   join_into_body( ( stv(0.87,0.95,Stv_True)  ,
%~                     eat_flies('Fritz',Flies_Fritz) ,
%~                     '.tv'(Flies_Fritz,Stv_True,'True')),
%~     true,
%~     stv(0.87,0.95,_361348),
%~     eat_flies('Fritz',_362180),'.tv'(_362180,_361348,'True'),true)]
%~ [convert=('.tv'(eat_flies('Fritz'),stv(0.87,0.95))='True'),join_into_body((stv(0.87,0.95,_361348),eat_flies('Fritz',_362180),'.tv'(_362180,_361348,'True'),true),true,stv(0.87,0.95,_361348),(eat_flies('Fritz',_362180),'.tv'(_362180,_361348,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',[eat_flies,'Fritz'],[stv,0.87,0.95]])
</span><span class="ansi38-255165000">  (.tv 
    (eat_flies Fritz) 
    (stv 0.87 0.95))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.87, 0.95, A) :-
    eat_flies('Fritz', B),
    '.tv'(B, A, 'True'),
    true.

</span>

%~ [ ( convert  =
%~     '.tv'('Implication'(frog(X),green(X)),stv(0.9,1.0)) =
%~     'True'),
%~   join_into_body( ( stv(0.9,1.0,Stv_True)  ,
%~                     green(X,Green_X) ,
%~                     frog(X,Frog_X1) ,
%~                     'Implication'(Frog_X1,Green_X,Implication_Tv) ,
%~                     '.tv'(Implication_Tv,Stv_True,'True')),
%~     true,
%~     stv(0.9,1.0,_2902),
%~     ( green(X,Green_X)  ,
%~       frog(X,_2940) ,
%~       'Implication'(_2940,_2922,_2954) ,
%~       '.tv'(_2954,_2902,'True')))]
%~ [convert=('.tv'('Implication'(frog(X),green(X)),stv(0.9,1.0))='True'),join_into_body((stv(0.9,1.0,_2902),green(X,_2922),frog(X,_2940),'Implication'(_2940,_2922,_2954),'.tv'(_2954,_2902,'True'),true),true,stv(0.9,1.0,_2902),(green(X,_2922),frog(X,_2940),'Implication'(_2940,_2922,_2954),'.tv'(_2954,_2902,'True'),true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['.tv',['Implication',[frog,X],[green,X]],[stv,0.9,1.0]])
</span><span class="ansi38-255165000">  (.tv 
    (Implication 
      (frog $X) 
      (green $X)) 
    (stv 0.9 1.0))
</span><span class="ansi38-000082136"> Compiled(&self): stv(0.9, 1.0, A) :-
    green(X, B),
    frog(X, C),
    'Implication'(C, B, D),
    '.tv'(D, A, 'True'),
    true.

</span>

; Tests
<span class="ansi38-000068000">!(assertEqual (TV (croaks Fritz)) (stv 0.95 0.85))

</span><span class="ansi38-017068017">exec(A) :-
    stv(0.95, 0.85, B),
    croaks('Fritz', C),
    'TV'(C, D),
    assertEqual(D, B, A),
    true.

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.03">;; TEST-SCRIPTS.C3-PLN-STV.03</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.95 0.85)) 
    ( (stv 0.95 0.85))))
</span>        -->(0,'&self',['TV',[croaks,'Fritz']],depth(2))
            -->(1,'&self',[croaks,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_129596],_129596],depth(3))
            -->(3,'&self',[stv,0.95,0.85],depth(4))
          <--(2,retval([stv,0.95,0.85]))
          -->(4,'&self',[match,'&self',['.tv',['Implication',_131074,[croaks,'Fritz']],[stv,_131098,_131104]],[stv,[*,_131098,['s-tv',['TV',_131074]]],[*,_131104,['c-tv',['TV',_131074]]]]],depth(3))
          <--(4,retval(fail))
        <--(0,retval([match,'&self',['.tv',['Implication',_131548,[croaks,'Fritz']],[stv,_131584,_131590]],[stv,[*,_131584,['s-tv',['TV',_131548]]],[*,_131590,['c-tv',['TV',_131548]]]]]))
        -->(5,'&self',[stv,0.95,0.85],depth(2))
<span class="ansi33"> True

</span><span class="ansi38-000068000">!(assertEqual (TV (frog Fritz)) (stv 0.783 0.68))

</span><span class="ansi38-017068017">exec(A) :-
    stv(0.783, 0.68, B),
    frog('Fritz', C),
    'TV'(C, D),
    assertEqual(D, B, A),
    true.

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.04">;; TEST-SCRIPTS.C3-PLN-STV.04</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.783 0.68)) 
    ( (stv 0.783 0.68))))
</span>        -->(0,'&self',['TV',[frog,'Fritz']],depth(2))
            -->(1,'&self',[frog,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[frog,'Fritz'],_364242],_364242],depth(3))
          <--(2,retval(fail))
          -->(3,'&self',[match,'&self',['.tv',['Implication',_364440,[frog,'Fritz']],[stv,_364464,_364470]],[stv,[*,_364464,['s-tv',['TV',_364440]]],[*,_364470,['c-tv',['TV',_364440]]]]],depth(3))
            -->(4,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(4))
                -->(5,'&self',[croaks,'Fritz'],depth(6))
                -->(6,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(6))
                    -->(7,'&self',[croaks,'Fritz'],depth(8))
                    -->(8,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(8))
                        -->(9,'&self',[croaks,'Fritz'],depth(10))
                        -->(10,'&self',[croaks,'Fritz'],depth(10))
                        -->(11,'&self',[eat_flies,'Fritz'],depth(10))
                        -->(12,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(10))
                            -->(13,'&self',[croaks,'Fritz'],depth(12))
                          -->(14,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_371928],_371928],depth(11))
                          <--(14,retval(fail))
                          -->(15,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(11))
                              -->(16,'&self',[croaks,'Fritz'],depth(13))
                              -->(17,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(18,'&self',[croaks,'Fritz'],depth(15))
                                -->(19,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(20,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(21,'&self',[croaks,'Fritz'],depth(18))
                                        -->(22,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(23,'&self',[croaks,'Fritz'],depth(20))
                                            -->(24,'&self',[croaks,'Fritz'],depth(20))
                                            -->(25,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(26,'&self',[croaks,'Fritz'],depth(22))
                                              -->(27,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_379832],_379832],depth(21))
                                                -->(28,'&self',[stv,0.95,0.85],depth(22))
                                          -->(29,'&self',['s-tv',[stv,0.95,0.85]],depth(19))
                                              -->(30,'&self',[stv,0.95,0.85],depth(21))
                                        -->(31,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(18))
                                            -->(32,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(33,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(34,'&self',['TV',[eat_flies,'Fritz']],depth(20))
                                                -->(35,'&self',[eat_flies,'Fritz'],depth(22))
                                              -->(36,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_386022],_386022],depth(21))
                                                -->(37,'&self',[stv,0.87,0.95],depth(22))
                                          -->(38,'&self',['s-tv',[stv,0.87,0.95]],depth(19))
                                              -->(39,'&self',[stv,0.87,0.95],depth(21))
                                          <--(38,retval(0.87))
                                              <--(36,retval([stv,0.87,0.95]))
                                            <--(34,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_386172],_386172]))
                                        <--(31,retval(['s-tv',[stv,0.87,0.95]]))
                                          <--(29,retval(0.95))
                                              <--(27,retval([stv,0.95,0.85]))
                                            <--(25,retval([match,'&self',['.tv',[croaks,'Fritz'],_379982],_379982]))
                                        <--(22,retval(['s-tv',[stv,0.95,0.85]]))
                                    <--(20,retval('False'))
                                    -->(40,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(16))
                                        -->(41,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(42,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(43,'&self',['TV',[eat_flies,'Fritz']],depth(18))
                                            -->(44,'&self',[eat_flies,'Fritz'],depth(20))
                                          -->(45,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_392802],_392802],depth(19))
                                            -->(46,'&self',[stv,0.87,0.95],depth(20))
                                      -->(47,'&self',['s-tv',[stv,0.87,0.95]],depth(17))
                                          -->(48,'&self',[stv,0.87,0.95],depth(19))
                              -->(49,'&self',[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(50,'&self',[croaks,'Fritz'],depth(15))
                                -->(51,'&self',[if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(52,'&self',[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(53,'&self',[croaks,'Fritz'],depth(18))
                                        -->(54,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(55,'&self',[croaks,'Fritz'],depth(20))
                                            -->(56,'&self',[croaks,'Fritz'],depth(20))
                                            -->(57,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(58,'&self',[croaks,'Fritz'],depth(22))
                                              -->(59,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_401906],_401906],depth(21))
                                                -->(60,'&self',[stv,0.95,0.85],depth(22))
                                          -->(61,'&self',['c-tv',[stv,0.95,0.85]],depth(19))
                                              -->(62,'&self',[stv,0.95,0.85],depth(21))
                                        -->(63,'&self',['c-tv',['TV',[eat_flies,'Fritz']]],depth(18))
                                            -->(64,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(65,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(66,'&self',['TV',[eat_flies,'Fritz']],depth(20))
                                                -->(67,'&self',[eat_flies,'Fritz'],depth(22))
                                              -->(68,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_408096],_408096],depth(21))
                                                -->(69,'&self',[stv,0.87,0.95],depth(22))
                                          -->(70,'&self',['c-tv',[stv,0.87,0.95]],depth(19))
                                              -->(71,'&self',[stv,0.87,0.95],depth(21))
                                          <--(70,retval(0.95))
                                              <--(68,retval([stv,0.87,0.95]))
                                            <--(66,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_408246],_408246]))
                                        <--(63,retval(['c-tv',[stv,0.87,0.95]]))
                                          <--(61,retval(0.85))
                                              <--(59,retval([stv,0.95,0.85]))
                                            <--(57,retval([match,'&self',['.tv',[croaks,'Fritz'],_402056],_402056]))
                                        <--(54,retval(['c-tv',[stv,0.95,0.85]]))
                                    <--(52,retval('True'))
                                    -->(72,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(16))
                                        -->(73,'&self',[croaks,'Fritz'],depth(18))
                                        -->(74,'&self',[croaks,'Fritz'],depth(18))
                                        -->(75,'&self',['TV',[croaks,'Fritz']],depth(18))
                                            -->(76,'&self',[croaks,'Fritz'],depth(20))
                                          -->(77,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_414876],_414876],depth(19))
                                            -->(78,'&self',[stv,0.95,0.85],depth(20))
                                      -->(79,'&self',['c-tv',[stv,0.95,0.85]],depth(17))
                                          -->(80,'&self',[stv,0.95,0.85],depth(19))
                                      <--(79,retval(0.85))
                                          <--(77,retval([stv,0.95,0.85]))
                                        <--(75,retval([match,'&self',['.tv',[croaks,'Fritz'],_415026],_415026]))
                                    <--(72,retval(['c-tv',[stv,0.95,0.85]]))
                                <--(51,retval(0.85))
                              <--(49,retval([if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]))
                                      <--(47,retval(0.87))
                                          <--(45,retval([stv,0.87,0.95]))
                                        <--(43,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_392952],_392952]))
                                    <--(40,retval(['s-tv',[stv,0.87,0.95]]))
                                <--(19,retval(0.87))
                              <--(17,retval([if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]]))
                              -->(81,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(13))
                                  -->(82,'&self',[croaks,'Fritz'],depth(15))
                                -->(83,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(14))
                                    -->(84,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(16))
                                        -->(85,'&self',[croaks,'Fritz'],depth(18))
                                        -->(86,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(18))
                                            -->(87,'&self',[croaks,'Fritz'],depth(20))
                                            -->(88,'&self',[croaks,'Fritz'],depth(20))
                                            -->(89,'&self',['TV',[croaks,'Fritz']],depth(20))
                                                -->(90,'&self',[croaks,'Fritz'],depth(22))
                                              -->(91,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_424080],_424080],depth(21))
                                                -->(92,'&self',[stv,0.95,0.85],depth(22))
                                          -->(93,'&self',['s-tv',[stv,0.95,0.85]],depth(19))
                                              -->(94,'&self',[stv,0.95,0.85],depth(21))
                                        -->(95,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(18))
                                            -->(96,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(97,'&self',[eat_flies,'Fritz'],depth(20))
                                            -->(98,'&self',['TV',[eat_flies,'Fritz']],depth(20))
                                                -->(99,'&self',[eat_flies,'Fritz'],depth(22))
                                              -->(100,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_430270],_430270],depth(21))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi38-000068000">!(assertEqual (TV (green Fritz)) (stv 0.7047 0.68))

</span><span class="ansi38-017068017">exec(A) :-
    stv(0.7047, 0.68, B),
    green('Fritz', C),
    'TV'(C, D),
    assertEqual(D, B, A),
    true.

</span><h3 id="TEST-SCRIPTS.C3-PLN-STV.05">;; TEST-SCRIPTS.C3-PLN-STV.05</h3><span class="ansi36">
(@ loonit_success 
  (equal_enough  
    ( (stv 0.7047 0.68)) 
    ( (stv 0.7047 0.68))))
</span>        -->(0,'&self',['TV',[green,'Fritz']],depth(2))
            -->(1,'&self',[green,'Fritz'],depth(4))
          -->(2,'&self',[match,'&self',['.tv',[green,'Fritz'],_419008],_419008],depth(3))
          <--(2,retval(fail))
          -->(3,'&self',[match,'&self',['.tv',['Implication',_419206,[green,'Fritz']],[stv,_419230,_419236]],[stv,[*,_419230,['s-tv',['TV',_419206]]],[*,_419236,['c-tv',['TV',_419206]]]]],depth(3))
            -->(4,'&self',[stv,[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],[*,1.0,['c-tv',['TV',[frog,'Fritz']]]]],depth(4))
                -->(5,'&self',[frog,'Fritz'],depth(6))
                -->(6,'&self',[*,0.9,['s-tv',['TV',[frog,'Fritz']]]],depth(6))
                    -->(7,'&self',[frog,'Fritz'],depth(8))
                    -->(8,'&self',['s-tv',['TV',[frog,'Fritz']]],depth(8))
                        -->(9,'&self',[frog,'Fritz'],depth(10))
                        -->(10,'&self',[frog,'Fritz'],depth(10))
                        -->(11,'&self',['TV',[frog,'Fritz']],depth(10))
                            -->(12,'&self',[frog,'Fritz'],depth(12))
                          -->(13,'&self',[match,'&self',['.tv',[frog,'Fritz'],_425818],_425818],depth(11))
                          <--(13,retval(fail))
                          -->(14,'&self',[match,'&self',['.tv',['Implication',_426016,[frog,'Fritz']],[stv,_426040,_426046]],[stv,[*,_426040,['s-tv',['TV',_426016]]],[*,_426046,['c-tv',['TV',_426016]]]]],depth(11))
                            -->(15,'&self',[stv,[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],[*,0.8,['c-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]]],depth(12))
                                -->(16,'&self',[croaks,'Fritz'],depth(14))
                                -->(17,'&self',[*,0.9,['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]]],depth(14))
                                    -->(18,'&self',[croaks,'Fritz'],depth(16))
                                    -->(19,'&self',['s-tv',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]]],depth(16))
                                        -->(20,'&self',[croaks,'Fritz'],depth(18))
                                        -->(21,'&self',[croaks,'Fritz'],depth(18))
                                        -->(22,'&self',[eat_flies,'Fritz'],depth(18))
                                        -->(23,'&self',['TV',['And',[croaks,'Fritz'],[eat_flies,'Fritz']]],depth(18))
                                            -->(24,'&self',[croaks,'Fritz'],depth(20))
                                          -->(25,'&self',[match,'&self',['.tv',['And',[croaks,'Fritz'],[eat_flies,'Fritz']],_433504],_433504],depth(19))
                                          <--(25,retval(fail))
                                          -->(26,'&self',[stv,[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]],depth(19))
                                              -->(27,'&self',[croaks,'Fritz'],depth(21))
                                              -->(28,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(29,'&self',[croaks,'Fritz'],depth(23))
                                                -->(30,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(31,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(24))
                                                        -->(32,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(33,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(26))
                                                            -->(34,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(35,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(36,'&self',['TV',[croaks,'Fritz']],depth(28))
                                                                -->(37,'&self',[croaks,'Fritz'],depth(30))
                                                              -->(38,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_441408],_441408],depth(29))
                                                                -->(39,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(40,'&self',['s-tv',[stv,0.95,0.85]],depth(27))
                                                              -->(41,'&self',[stv,0.95,0.85],depth(29))
                                                        -->(42,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(26))
                                                            -->(43,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(44,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(45,'&self',['TV',[eat_flies,'Fritz']],depth(28))
                                                                -->(46,'&self',[eat_flies,'Fritz'],depth(30))
                                                              -->(47,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_447598],_447598],depth(29))
                                                                -->(48,'&self',[stv,0.87,0.95],depth(30))
                                                          -->(49,'&self',['s-tv',[stv,0.87,0.95]],depth(27))
                                                              -->(50,'&self',[stv,0.87,0.95],depth(29))
                                                          <--(49,retval(0.87))
                                                              <--(47,retval([stv,0.87,0.95]))
                                                            <--(45,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_447748],_447748]))
                                                        <--(42,retval(['s-tv',[stv,0.87,0.95]]))
                                                          <--(40,retval(0.95))
                                                              <--(38,retval([stv,0.95,0.85]))
                                                            <--(36,retval([match,'&self',['.tv',[croaks,'Fritz'],_441558],_441558]))
                                                        <--(33,retval(['s-tv',[stv,0.95,0.85]]))
                                                    <--(31,retval('False'))
                                                    -->(51,'&self',['s-tv',['TV',[eat_flies,'Fritz']]],depth(24))
                                                        -->(52,'&self',[eat_flies,'Fritz'],depth(26))
                                                        -->(53,'&self',[eat_flies,'Fritz'],depth(26))
                                                        -->(54,'&self',['TV',[eat_flies,'Fritz']],depth(26))
                                                            -->(55,'&self',[eat_flies,'Fritz'],depth(28))
                                                          -->(56,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_454378],_454378],depth(27))
                                                            -->(57,'&self',[stv,0.87,0.95],depth(28))
                                                      -->(58,'&self',['s-tv',[stv,0.87,0.95]],depth(25))
                                                          -->(59,'&self',[stv,0.87,0.95],depth(27))
                                              -->(60,'&self',[min,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(61,'&self',[croaks,'Fritz'],depth(23))
                                                -->(62,'&self',[if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(63,'&self',[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],depth(24))
                                                        -->(64,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(65,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(26))
                                                            -->(66,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(67,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(68,'&self',['TV',[croaks,'Fritz']],depth(28))
                                                                -->(69,'&self',[croaks,'Fritz'],depth(30))
                                                              -->(70,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_463482],_463482],depth(29))
                                                                -->(71,'&self',[stv,0.95,0.85],depth(30))
                                                          -->(72,'&self',['c-tv',[stv,0.95,0.85]],depth(27))
                                                              -->(73,'&self',[stv,0.95,0.85],depth(29))
                                                        -->(74,'&self',['c-tv',['TV',[eat_flies,'Fritz']]],depth(26))
                                                            -->(75,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(76,'&self',[eat_flies,'Fritz'],depth(28))
                                                            -->(77,'&self',['TV',[eat_flies,'Fritz']],depth(28))
                                                                -->(78,'&self',[eat_flies,'Fritz'],depth(30))
                                                              -->(79,'&self',[match,'&self',['.tv',[eat_flies,'Fritz'],_469672],_469672],depth(29))
                                                                -->(80,'&self',[stv,0.87,0.95],depth(30))
                                                          -->(81,'&self',['c-tv',[stv,0.87,0.95]],depth(27))
                                                              -->(82,'&self',[stv,0.87,0.95],depth(29))
                                                          <--(81,retval(0.95))
                                                              <--(79,retval([stv,0.87,0.95]))
                                                            <--(77,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_469822],_469822]))
                                                        <--(74,retval(['c-tv',[stv,0.87,0.95]]))
                                                          <--(72,retval(0.85))
                                                              <--(70,retval([stv,0.95,0.85]))
                                                            <--(68,retval([match,'&self',['.tv',[croaks,'Fritz'],_463632],_463632]))
                                                        <--(65,retval(['c-tv',[stv,0.95,0.85]]))
                                                    <--(63,retval('True'))
                                                    -->(83,'&self',['c-tv',['TV',[croaks,'Fritz']]],depth(24))
                                                        -->(84,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(85,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(86,'&self',['TV',[croaks,'Fritz']],depth(26))
                                                            -->(87,'&self',[croaks,'Fritz'],depth(28))
                                                          -->(88,'&self',[match,'&self',['.tv',[croaks,'Fritz'],_476452],_476452],depth(27))
                                                            -->(89,'&self',[stv,0.95,0.85],depth(28))
                                                      -->(90,'&self',['c-tv',[stv,0.95,0.85]],depth(25))
                                                          -->(91,'&self',[stv,0.95,0.85],depth(27))
                                                      <--(90,retval(0.85))
                                                          <--(88,retval([stv,0.95,0.85]))
                                                        <--(86,retval([match,'&self',['.tv',[croaks,'Fritz'],_476602],_476602]))
                                                    <--(83,retval(['c-tv',[stv,0.95,0.85]]))
                                                <--(62,retval(0.85))
                                              <--(60,retval([if,[<,['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]],['c-tv',['TV',[croaks,'Fritz']]],['c-tv',['TV',[eat_flies,'Fritz']]]]))
                                                      <--(58,retval(0.87))
                                                          <--(56,retval([stv,0.87,0.95]))
                                                        <--(54,retval([match,'&self',['.tv',[eat_flies,'Fritz'],_454528],_454528]))
                                                    <--(51,retval(['s-tv',[stv,0.87,0.95]]))
                                                <--(30,retval(0.87))
                                              <--(28,retval([if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]]))
                                              -->(92,'&self',[min,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(21))
                                                  -->(93,'&self',[croaks,'Fritz'],depth(23))
                                                -->(94,'&self',[if,[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(22))
                                                    -->(95,'&self',[<,['s-tv',['TV',[croaks,'Fritz']]],['s-tv',['TV',[eat_flies,'Fritz']]]],depth(24))
                                                        -->(96,'&self',[croaks,'Fritz'],depth(26))
                                                        -->(97,'&self',['s-tv',['TV',[croaks,'Fritz']]],depth(26))
                                                            -->(98,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(99,'&self',[croaks,'Fritz'],depth(28))
                                                            -->(100,'&self',['TV',[croaks,'Fritz']],depth(28))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">
 True

</span><span class="ansi32">% 8,935,326 inferences, 1.406 CPU in 1.406 seconds (100% CPU, 6356133 Lips)
</span> (@ = "examples/compat/test_scripts/c3_pln_stv.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 5
</span><span class="ansi31">Failures: 0
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "examples/compat/test_scripts/c3_pln_stv.html" )

</pre>
</body>

</html>
