<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-let-test.metta")
;; Import modules
<span class="ansi38-000068000">!(import! &self synthesize-via-let.metta)

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', 'synthesize-via-let.metta'], A).

</span>;; Import modules
<span class="ansi38-000068000">!(import! &self "../../common/Num.metta")

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', '../../common/Num.metta'], A).

</span>;; Define set of rules
;; Collection of functions operating on numbers
;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( max(X,Y,Assign_Max_Y) :-
%~                              u_assign([>,X,Y],Assign) ,
%~                              Assign=_366180 ,
%~                              u_assign([if,_366180,X,Y],Assign_Max_Y))]
%~ [convert(_303376),head_preconds_into_body((max(X,Y,_302140):-(u_assign([>,X,Y],_303682),_303682=_303672),u_assign([if,_303672,X,Y],_302140)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[max,X,Y],[if,[>,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span><span class="ansi38-000082136">  :- dynamic(max,3).

  max(X, Y, A) :-
    u_assign([>, X, Y], B),
    B=C,
    u_assign([if, C, X, Y], A).

</span>

;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( min(X,Y,Assign_Min_Y) :-
%~                              u_assign([<,X,Y],Assign) ,
%~                              Assign=_491284 ,
%~                              u_assign([if,_491284,X,Y],Assign_Min_Y))]
%~ [convert(_433554),head_preconds_into_body((min(X,Y,_432318):-(u_assign([<,X,Y],_433860),_433860=_433850),u_assign([if,_433850,X,Y],_432318)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,X,Y],[if,[<,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span><span class="ansi38-000082136">  :- dynamic(min,3).

  min(X, Y, A) :-
    u_assign([<, X, Y], B),
    B=C,
    u_assign([if, C, X, Y], A).

</span>

;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( clamp(X,L,U,Assign_Clamp_U) :-
%~                              u_assign([min,U,X],Assign) ,
%~                              Assign=_93000 ,
%~                              u_assign([max,L,_93000],Assign_Clamp_U))]
%~ [convert(_33272),head_preconds_into_body((clamp(X,L,U,_31966):-(u_assign([min,U,X],_33634),_33634=_33624),u_assign([max,L,_33624],_31966)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[clamp,X,L,U],[max,L,[min,U,X]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span><span class="ansi38-000082136">  :- dynamic(clamp,4).

  clamp(X, L, U, A) :-
    u_assign([min, U, X], B),
    B=C,
    u_assign([max, L, C], A).

</span>

;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( abs(X,Assign_Abs_X) :-
%~                              u_assign([<,X,0],Assign) ,
%~                              Assign=_238406 ,
%~                              u_assign([*,-1,X],Assign3) ,
%~                              Assign3=_238424 ,
%~                              u_assign([if,_238406,_238424,X],Assign_Abs_X))]
%~ [convert(_152744),head_preconds_into_body((abs(X,_151578):-((u_assign([<,X,0],_153050),_153050=_153040),u_assign([*,-1,X],_153210),_153210=_153200),u_assign([if,_153040,_153200,X],_151578)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[abs,X],[if,[<,X,0],[*,-1,X],X])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span><span class="ansi38-000082136">
  abs(X, A) :-
    ( u_assign([<, X, 0], B),
      B=C
    ),
    u_assign([*, -1, X], D),
    D=E,
    u_assign([if, C, E, X], A).

</span>

;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl:1054 
%~ [ convert(Convert),
%~   head_preconds_into_body( <=(X,Y,Assign_Y) :-
%~                              u_assign([<,X,Y],Assign) ,
%~                              Assign=_419168 ,
%~                              u_assign([==,X,Y],Assign2) ,
%~                              Assign2=_419186 ,
%~                              u_assign([or,_419168,_419186],Assign_Y))]
%~ [convert(_343486),head_preconds_into_body((<=(X,Y,_342250):-((u_assign([<,X,Y],_343792),_343792=_343782),u_assign([==,X,Y],_343996),_343996=_343986),u_assign([or,_343782,_343986],_342250)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[<=,X,Y],[or,[<,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span><span class="ansi38-000082136">  :- dynamic(<=,3).

  <=(X, Y, A) :-
    ( u_assign([<, X, Y], B),
      B=C
    ),
    u_assign([==, X, Y], D),
    D=E,
    u_assign([or, C, E], A).

</span>

;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( >=(X,Y,Assign_Y) :-
%~                              u_assign([>,X,Y],Assign) ,
%~                              Assign=_39016 ,
%~                              u_assign([==,X,Y],Assign2) ,
%~                              Assign2=_39034 ,
%~                              u_assign([or,_39016,_39034],Assign_Y))]
%~ [convert(_3590),head_preconds_into_body((>=(X,Y,_3548):-((u_assign([>,X,Y],_3628),_3628=_3624),u_assign([==,X,Y],_3678),_3678=_3674),u_assign([or,_3624,_3674],_3548)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[>=,X,Y],[or,[>,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span><span class="ansi38-000082136">  :- dynamic(>=,3).

  >=(X, Y, A) :-
    ( u_assign([>, X, Y], B),
      B=C
    ),
    u_assign([==, X, Y], D),
    D=E,
    u_assign([or, C, E], A).

</span>

;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( approxEq(X,Y,Epsilon,Assign_ApproxEq_Epsilon) :-
%~                              u_assign([-,X,Y],Assign) ,
%~                              Assign=_185376 ,
%~                              u_assign([abs,_185376],Assign3) ,
%~                              Assign3=_185400 ,
%~                              u_assign([<=,_185400,Epsilon],Assign_ApproxEq_Epsilon))]
%~ [convert(_99136),head_preconds_into_body((approxEq(X,Y,Epsilon,_97830):-(((u_assign([-,X,Y],_99484),_99484=_99474),u_assign([abs,_99474],_99442)),_99442=_99432),u_assign([<=,_99432,Epsilon],_97830)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span><span class="ansi38-000082136">  :- dynamic(approxEq,4).

  approxEq(X, Y, Epsilon, A) :-
    ( u_assign([-, X, Y], B),
      B=C,
      u_assign([abs, C], D)
    ),
    D=E,
    u_assign([<=, E, Epsilon], A).

</span>

;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( fromNumber(N,N) :-
%~                              u_assign([<=,N,0],Assign) ,
%~                              Assign=_409188 ,
%~                              u_assign([-,N,1],Assign2) ,
%~                              Assign2=_409230 ,
%~                              u_assign([fromNumber,_409230],Assign3) ,
%~                              Assign3=_409254 ,
%~                              u_assign(['S',_409254],Assign4) ,
%~                              Assign4=_409278 ,
%~                              u_assign([if,_409188,'Z',_409278],N))]
%~ [convert(_287032),head_preconds_into_body((fromNumber(N,_285866):-((u_assign([<=,N,0],_287338),_287338=_287328),((((u_assign([-,N,1],_287594),_287594=_287584),u_assign([fromNumber,_287584],_287552)),_287552=_287542),u_assign(['S',_287542],_287510)),_287510=_287500),u_assign([if,_287328,'Z',_287500],_285866)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span><span class="ansi38-000082136">  :- dynamic(fromNumber,2).

  fromNumber(N, A) :-
    ( u_assign([<=, N, 0], B),
      B=C
    ),
    ( ( u_assign([-, N, 1], D),
        D=E,
        u_assign([fromNumber, E], F)
      ),
      F=G,
      u_assign(['S', G], H)
    ),
    H=I,
    u_assign([if, C, 'Z', I], A).

</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((fromNat('Z',0):-true))]
%~ [convert(_456266),head_preconds_into_body((fromNat('Z',0):-true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,'Z'],0)
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span><span class="ansi38-000082136">  :- dynamic(fromNat,2).

  fromNat('Z', 0).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( fromNat(FromNat,FromNat1) :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=FromNat ,
%~                              u_assign([fromNat,K],Assign3) ,
%~                              [+,1,Assign3,FromNat1])]
%~ [convert(_3604),head_preconds_into_body((fromNat(_3554,_3530):-(u_assign(['S',K],_3558),_3558=_3554),u_assign([fromNat,K],_3638),[+,1,_3638,_3530]))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,['S',K]],[+,1,[fromNat,K]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span><span class="ansi38-000082136">  :- dynamic(fromNat,2).

  fromNat(A, B) :-
    u_assign(['S', K], C),
    C=A,
    u_assign([fromNat, K], D),
    [+, 1, D, B].

</span>

;; Define a generic less than operator, â©», for Nat.  < cannot be used
;; because it is a built-in, its type is hardwired and cannot be
;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('â©»'(_,'Z',_83122):-_83122='False'))]
%~ [convert(_84314),head_preconds_into_body(('â©»'(_,'Z',_83122):-_83122='False'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',_,'Z'],'False')
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(_, 'Z', A) :-
    A='False'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'('Z',Z,True) :-
%~                              u_assign(['S',_],Assign) ,
%~                              Assign=Z ,
%~                              True='True')]
%~ [convert(_130692),head_preconds_into_body(('â©»'('Z',_129724,_129432):-(u_assign(['S',_],_129734),_129734=_129724),_129432='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»','Z',['S',_]],'True')
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'('Z', A, B) :-
    u_assign(['S', _], C),
    C=A,
    B='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'(Â1,Â,Assign_Â2) :-
%~                              u_assign(['S',X],Assign) ,
%~                              Assign=Â1 ,
%~                              u_assign(['S',Y],Assign4) ,
%~                              Assign4=Â ,
%~                              u_assign(['â©»',X,Y],Assign_Â2))]
%~ [convert(_202346),head_preconds_into_body(('â©»'(_201230,_201364,_200950):-((u_assign(['S',X],_201240),_201240=_201230),u_assign(['S',Y],_201374),_201374=_201364),u_assign(['â©»',X,Y],_200950)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',['S',X],['S',Y]],['â©»',X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(A, B, C) :-
    ( u_assign(['S', X], D),
      D=A
    ),
    u_assign(['S', Y], E),
    E=B,
    u_assign(['â©»', X, Y], C).

</span>

;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'(X,Y,Assign_Â_Y) :-
%~                              u_assign([<,X,Y],Assign_Â_Y))]
%~ [convert(_300660),head_preconds_into_body(('â©»'(X,Y,_299424):-u_assign([<,X,Y],_299424)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',X,Y],[<,X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(X, Y, A) :-
    u_assign([<, X, Y], A).

</span>

;; Return the ceiling of a non negative number.  If the number is
;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ceil(N,Assign_Ceil_N) :-
%~                              u_assign([fromNumber,N],Assign) ,
%~                              Assign=_432730 ,
%~                              u_assign([fromNat,_432730],Assign_Ceil_N))]
%~ [convert(_377028),head_preconds_into_body((ceil(N,_375862):-(u_assign([fromNumber,N],_377334),_377334=_377324),u_assign([fromNat,_377324],_375862)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[ceil,N],[fromNat,[fromNumber,N]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span><span class="ansi38-000082136">  :- dynamic(ceil,2).

  ceil(N, A) :-
    u_assign([fromNumber, N], B),
    B=C,
    u_assign([fromNat, C], A).

</span>

;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'number->bool'(X,Number_c62_bool_X) :-
%~                              u_assign([<,0,X],Number_c62_bool_X))]
%~ [convert(_474026),head_preconds_into_body(('number->bool'(X,_472860):-u_assign([<,0,X],_472860)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['number->bool',X],[<,0,X])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span><span class="ansi38-000082136">  :- dynamic('number->bool',2).

  'number->bool'(X, A) :-
    u_assign([<, 0, X], A).

</span>

;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('bool->number'('False',0):-true))]
%~ [convert(_25446),head_preconds_into_body(('bool->number'('False',0):-true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','False'],0)
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span><span class="ansi38-000082136">  :- dynamic('bool->number',2).

  'bool->number'('False', 0).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('bool->number'(_62018,1):-is_True(_62018)))]
%~ [convert(_62854),head_preconds_into_body(('bool->number'(_62018,1):-is_True(_62018)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','True'],1)
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span><span class="ansi38-000082136">  :- dynamic('bool->number',2).

  'bool->number'(A, 1) :-
    is_True(A).

</span>

;; Define a less than type.  Note that it is purposefully different
;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;; are proofs that x â©» y == True.  For now â is only axiomatized for
;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,True,True,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $True $True Type))
</span>

;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ['zero-lt-succ-axiom',Assign2] :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=_226468 ,
%~                              u_assign(['â\x8D\\x83\','Z',_226468],Assign1) ,
%~                              Assign1=_226498 ,
%~                              u_assign([:,'ZeroLTSucc',_226498],Assign2))]
%~ [convert(_127482),head_preconds_into_body((['zero-lt-succ-axiom',_125642]:-(((u_assign(['S',K],_127854),_127854=_127844),u_assign(['â\x8D\\x83\','Z',_127844],_127800)),_127800=_127790),u_assign([:,'ZeroLTSucc',_127790],_125642)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span><span class="ansi38-000082136">
  ['zero-lt-succ-axiom', A] :-
    ( u_assign(['S', K], B),
      B=C,
      u_assign(['â\u008D\u0083', 'Z', C], D)
    ),
    D=E,
    u_assign([:, 'ZeroLTSucc', E], A).

</span>

;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ['succ-monotonicity-rule',Assign5] :-
%~                              u_assign(['â\x8D\\x83\',X,Y],Assign) ,
%~                              Assign=_426812 ,
%~                              u_assign(['S',X],Assign1) ,
%~                              Assign1=_426848 ,
%~                              u_assign(['S',Y],Assign2) ,
%~                              Assign2=_426866 ,
%~                              u_assign(['â\x8D\\x83\',_426848,_426866],Assign3) ,
%~                              Assign3=_426896 ,
%~                              u_assign([->,_426812,_426896],Assign4) ,
%~                              Assign4=_426926 ,
%~                              u_assign([:,'SuccMonotonicity',_426926],Assign5))]
%~ [convert(_266116),head_preconds_into_body((['succ-monotonicity-rule',_264276]:-((((u_assign(['â\x8D\\x83\',X,Y],_266476),_266476=_266466),(((u_assign(['S',X],_266722),_266722=_266712),u_assign(['S',Y],_266856),_266856=_266846),u_assign(['â\x8D\\x83\',_266712,_266846],_266680)),_266680=_266670),u_assign([->,_266466,_266670],_266434)),_266434=_266424),u_assign([:,'SuccMonotonicity',_266424],_264276)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span><span class="ansi38-000082136">
  ['succ-monotonicity-rule', A] :-
    ( ( u_assign(['â\u008D\u0083', X, Y], B),
        B=C
      ),
      ( ( u_assign(['S', X], D),
          D=E
        ),
        u_assign(['S', Y], F),
        F=G,
        u_assign(['â\u008D\u0083', E, G], H)
      ),
      H=I,
      u_assign([->, C, I], J)
    ),
    J=K,
    u_assign([:, 'SuccMonotonicity', K], A).

</span>

; Evaluation took 1466.62 ms.
<span class="ansi33"> &self

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( [rules,Assign3] :-
%~                              u_assign([->,B,C],Assign) ,
%~                              Assign=_72288 ,
%~                              u_assign([->,A,B],Assign1) ,
%~                              Assign1=_72312 ,
%~                              u_assign([->,A,C],Assign2) ,
%~                              Assign2=_72330 ,
%~                              u_assign([:,->,_72288,_72312,_72330],Assign3))]
%~ [convert(_3164),head_preconds_into_body(([rules,_3140]:-((u_assign([->,B,C],_3208),_3208=_3204),(u_assign([->,A,B],_3258),_3258=_3254),u_assign([->,A,C],_3308),_3308=_3304),u_assign([:,->,_3204,_3254,_3304],_3140)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[rules],[:,->,[->,B,C],[->,A,B],[->,A,C]])
</span><span class="ansi38-255165000">  (= 
    (rules) 
    (: -> 
      (-> $B $C) 
      (-> $A $B) 
      (-> $A $C)))
</span><span class="ansi38-000082136">
  [rules, A] :-
    ( u_assign([->, B, C], B),
      B=C
    ),
    ( u_assign([->, A, B], D),
      D=E
    ),
    u_assign([->, A, C], F),
    F=G,
    u_assign([:, ->, C, E, G], A).

</span>

;; Define set of facts
%~ [ convert(Convert),
%~   head_preconds_into_body( [facts,_271146] :-
%~                              ( ( u_assign([->,'Number','String'],Assign)  ,
%~                                  Assign=VAR_Assign ,
%~                                  u_assign([:,f,VAR_Assign],Assign1) ,
%~                                  Assign1=VAR_Assign1)  ;
%~                                ( u_assign([->,'String','Bool'],Assign2)  ,
%~                                  Assign2=VAR_Assign2 ,
%~                                  u_assign([:,g,VAR_Assign2],Assign3) ,
%~                                  Assign3=VAR_Assign1) ;
%~                                ( u_assign([->,'Bool','Number'],Assign4)  ,
%~                                  Assign4=VAR_Assign4 ,
%~                                  u_assign([:,h,VAR_Assign4],Assign5) ,
%~                                  Assign5=VAR_Assign1)))]
%~ [convert(_110848),head_preconds_into_body(([facts,_109008]:-((u_assign([->,'Number','String'],_111206),_111206=_111196),u_assign([:,f,_111196],_111152)),_111152=_109008;((u_assign([->,'String','Bool'],_111410),_111410=_111400),u_assign([:,g,_111400],_111356)),_111356=_109008;((u_assign([->,'Bool','Number'],_111614),_111614=_111604),u_assign([:,h,_111604],_111560)),_111560=_109008))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[facts],[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']]]])
</span><span class="ansi38-255165000">  (= 
    (facts) 
    (superpose 
      ( (: f 
          (-> Number String)) 
        (: g 
          (-> String Bool)) 
        (: h 
          (-> Bool Number)))))
</span><span class="ansi38-000082136">
  [facts, A] :-
    (   ( u_assign([->, 'Number', 'String'], B),
          B=C
        ),
        u_assign([:, f, C], D),
        D=A
    ;   ( u_assign([->, 'String', 'Bool'], E),
          E=F
        ),
        u_assign([:, g, F], G),
        G=A
    ;   ( u_assign([->, 'Bool', 'Number'], H),
          H=I
        ),
        u_assign([:, h, I], J),
        J=A
    ).

</span>

;; Given a query under the form (: TERM TYPE), enumerate all programs
;; up to a given depth that are consistent with the query, using rules
;; and facts.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,syn,[->,'Atom','Nat','Atom']])
</span><span class="ansi38-255165000">  (: syn 
    (-> Atom Nat Atom))
</span>

; Base case: match against facts directly
%~ [ convert(Convert),
%~   head_preconds_into_body( syn(Query,Depth,Query) :-
%~                              [facts,VAR_Query] ,
%~                              Query=VAR_Query)]
%~ [convert(_366324),head_preconds_into_body((syn(Query,Depth,Query):-[facts,_366628],Query=_366628))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[syn,Query,Depth],[let,Query,[facts],Query])
</span><span class="ansi38-255165000">  (= 
    (syn $Query $Depth) 
    (let $Query 
      (facts) $Query))
</span><span class="ansi38-000082136">  :- dynamic(syn,3).

  syn(Query, Depth, Query) :-
    [facts, A],
    Query=A.

</span>

; Inductive case
; Decompose rules into premises, trying rules and facts up to a depth limit.
; Returns the query if it finds a valid derivation using the available knowledge
%~ [ convert(Convert),
%~   head_preconds_into_body( syn(Query,Query,Query) :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=Query ,
%~                              u_assign( [->,Premise1,Premise2,Conclusion],
%~                                Assign6) ,
%~                              Assign6=_112806 ,
%~                              u_assign([:,Rule,_112806],Assign_List) ,
%~                              [rules]=Assign_List ,
%~                              u_assign([Rule,Prf1,Prf2],Assign8) ,
%~                              Assign8=_112872 ,
%~                              u_assign([:,_112872,Conclusion],VAR_Query) ,
%~                              Query=VAR_Query ,
%~                              u_assign([:,Prf1,Premise1],Assign_List3) ,
%~                              [ syn,
%~                                [:,Prf1,Premise1],
%~                                K] =
%~                                Assign_List3 ,
%~                              u_assign([:,Prf2,Premise2],Assign_List4) ,
%~                              [ syn,
%~                                [:,Prf2,Premise2],
%~                                K] =
%~                                Assign_List4)]
%~ [convert(_3480),head_preconds_into_body((syn(Query,_3430,Query):-(u_assign(['S',K],_3434),_3434=_3430),(((u_assign([->,Premise1,Premise2,Conclusion],_3536),_3536=_3532),u_assign([:,Rule,_3532],_3504)),[rules]=_3504),(((u_assign([Rule,Prf1,Prf2],_3622),_3622=_3618),u_assign([:,_3618,Conclusion],_3596)),Query=_3596),(u_assign([:,Prf1,Premise1],_3688),[syn,[:,Prf1,Premise1],K]=_3688),u_assign([:,Prf2,Premise2],_3730),[syn,[:,Prf2,Premise2],K]=_3730))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[syn,Query,['S',K]],['let*',[[[:,Rule,[->,Premise1,Premise2,Conclusion]],[rules]],[[:,[Rule,Prf1,Prf2],Conclusion],Query],[[:,Prf1,Premise1],[syn,[:,Prf1,Premise1],K]],[[:,Prf2,Premise2],[syn,[:,Prf2,Premise2],K]]],Query])
</span><span class="ansi38-255165000">  (= 
    (syn $Query 
      (S $K)) 
    (let* 
      ( ( (: $Rule 
            (-> $Premise1 $Premise2 $Conclusion)) 
          (rules)) 
        ( (: 
            ($Rule $Prf1 $Prf2) $Conclusion) $Query) 
        ( (: $Prf1 $Premise1) 
          (syn 
            (: $Prf1 $Premise1) $K)) 
        ( (: $Prf2 $Premise2) 
          (syn 
            (: $Prf2 $Premise2) $K))) $Query))
</span><span class="ansi38-000082136">  :- dynamic(syn,3).

  syn(Query, A, Query) :-
    u_assign(['S', K], B),
    B=A,
    ( u_assign([->, Premise1, Premise2, Conclusion], C),
      C=D,
      u_assign([:, Rule, D], E)
    ),
    [rules]=E,
    ( u_assign([Rule, Prf1, Prf2], F),
      F=G,
      u_assign([:, G, Conclusion], H)
    ),
    Query=H,
    u_assign([:, Prf1, Premise1], I),
    [syn, [:, Prf1, Premise1], K]=I,
    u_assign([:, Prf2, Premise2], J),
    [syn, [:, Prf2, Premise2], K]=J.

</span>

; Evaluation took 2.05 seconds.
<span class="ansi33"> &self

</span><span class="ansi38-000068000">!(import! &self "../../common/Record.metta")

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', '../../common/Record.metta'], A).

</span>;; Test program synthesizer
;; Given a function call, produce records of that function call.
;; There can be multiple records with only one call due to the
;; non-determinism of MeTTa.  Each record is represented by (â· f x y)
;; which can be read as
;;
;; "under f, the image of x is y"
;;
;; It was chosen because it is described as IMAGE OF in UTF-8.  It is
;; the MeTTa equivalent of ExecutionLink in Atomese.  The character â·
;; has description: IMAGE OF, hexadecimal code: 0x22B7, unicode-math
;; code: \imageof and latex code: \multimapdotbothB.
%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg],Assign) ,
%~                              Assign=False ,
%~                              u_assign([False,Arg],Assign3) ,
%~                              Assign3=_293682 ,
%~                              u_assign(['â\x8A\·',False,Arg,_293682],Assign_Record))]
%~ [convert(_208018),head_preconds_into_body((record(False,_207076,_206740):-(u_assign([Arg],_207086),_207086=_207076),(u_assign([False,Arg],_208436),_208436=_208426),u_assign(['â\x8A\·',False,Arg,_208426],_206740)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg]],['â\x8A\·',False,Arg,[False,Arg]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg)) 
    (â· $False $Arg 
      ($False $Arg)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg], C),
    C=A,
    u_assign([False, Arg], D),
    D=E,
    u_assign(['â\u008A·', False, Arg, E], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2],Assign) ,
%~                              Assign=False ,
%~                              u_assign([Arg1,Arg2],Assign3) ,
%~                              Assign3=_430570 ,
%~                              u_assign([False,Arg1,Arg2],Assign4) ,
%~                              Assign4=_430588 ,
%~                              u_assign(['â\x8A\·',False,_430570,_430588],Assign_Record))]
%~ [convert(_326590),head_preconds_into_body((record(False,_325578,_325242):-(u_assign([Arg1,Arg2],_325588),_325588=_325578),((u_assign([Arg1,Arg2],_326952),_326952=_326942),u_assign([False,Arg1,Arg2],_327130),_327130=_327120),u_assign(['â\x8A\·',False,_326942,_327120],_325242)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2]],['â\x8A\·',False,[Arg1,Arg2],[False,Arg1,Arg2]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2)) 
    (â· $False 
      ($Arg1 $Arg2) 
      ($False $Arg1 $Arg2)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2], C),
    C=A,
    ( u_assign([Arg1, Arg2], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2], F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2,Arg3],Assign) ,
%~                              Assign=False ,
%~                              u_assign([Arg1,Arg2,Arg3],Assign3) ,
%~                              Assign3=_60524 ,
%~                              u_assign( [False,Arg1,Arg2,Arg3],
%~                                Assign4) ,
%~                              Assign4=_60542 ,
%~                              u_assign(['â\x8A\·',False,_60524,_60542],Assign_Record))]
%~ [convert(_3254),head_preconds_into_body((record(False,_3198,_3168):-(u_assign([Arg1,Arg2,Arg3],_3202),_3202=_3198),((u_assign([Arg1,Arg2,Arg3],_3298),_3298=_3294),u_assign([False,Arg1,Arg2,Arg3],_3348),_3348=_3344),u_assign(['â\x8A\·',False,_3294,_3344],_3168)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2,Arg3]],['â\x8A\·',False,[Arg1,Arg2,Arg3],[False,Arg1,Arg2,Arg3]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2 $Arg3)) 
    (â· $False 
      ($Arg1 $Arg2 $Arg3) 
      ($False $Arg1 $Arg2 $Arg3)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2, Arg3], C),
    C=A,
    ( u_assign([Arg1, Arg2, Arg3], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2, Arg3], F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2,Arg3,Arg4],Assign) ,
%~                              Assign=False ,
%~                              u_assign( [Arg1,Arg2,Arg3,Arg4],
%~                                Assign3) ,
%~                              Assign3=_229650 ,
%~                              u_assign(
%~                                 [ False, Arg1,Arg2,Arg3,
%~                                   Arg4],
%~                                 Assign4) ,
%~                              Assign4=_229668 ,
%~                              u_assign(['â\x8A\·',False,_229650,_229668],Assign_Record))]
%~ [convert(_107402),head_preconds_into_body((record(False,_106250,_105914):-(u_assign([Arg1,Arg2,Arg3,Arg4],_106260),_106260=_106250),((u_assign([Arg1,Arg2,Arg3,Arg4],_107764),_107764=_107754),u_assign([False,Arg1,Arg2,Arg3,Arg4],_108082),_108082=_108072),u_assign(['â\x8A\·',False,_107754,_108072],_105914)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2,Arg3,Arg4]],['â\x8A\·',False,[Arg1,Arg2,Arg3,Arg4],[False,Arg1,Arg2,Arg3,Arg4]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2 $Arg3 $Arg4)) 
    (â· $False 
      ($Arg1 $Arg2 $Arg3 $Arg4) 
      ($False $Arg1 $Arg2 $Arg3 $Arg4)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2, Arg3, Arg4], C),
    C=A,
    ( u_assign([Arg1, Arg2, Arg3, Arg4], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2, Arg3, Arg4],
             F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

; Evaluation took 416.29 ms.
<span class="ansi33"> &self

</span><span class="ansi38-000068000">!(record syn ((: $Term $Type) Z))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      true,
      u_assign([C, 'Z'], D)
    ),
    D=E,
    u_assign([record, syn, E], A).

</span>; Evaluation took 2.75 ms.
<span class="ansi33">  (â· syn 
    ( (: $_299458 $_299770) Z) 
    (syn 
      (: $_299458 $_299770) Z))

</span>; (: f (-> Number String)), (: g (-> String Bool)), (: h (-> Bool Number))
<span class="ansi38-000068000">!(record syn ((: $Term (-> Number String)) Z))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( true,
          u_assign([->, 'Number', 'String'], B),
          B=C
        ),
        u_assign([:, Term, C], D),
        D=E
      ),
      true,
      u_assign([E, 'Z'], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 3.27 ms.
<span class="ansi33">  (â· syn 
    ( (: f 
        (-> Number String)) Z) 
    (: f 
      (-> Number String)))
</span><span class="ansi32">['Term'=f]
</span>

; (: f (-> Number String))
<span class="ansi38-000068000">!(record syn ((: $Term (-> Number Bool)) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( true,
          u_assign([->, 'Number', 'Bool'], B),
          B=C
        ),
        u_assign([:, Term, C], D),
        D=E
      ),
      ( true,
        u_assign(['S', 'Z'], F)
      ),
      F=G,
      u_assign([E, G], H)
    ),
    H=I,
    u_assign([record, syn, I], A).

</span>; Evaluation took 4.15 ms.
<span class="ansi33">  (â· syn 
    ( (: $_422132 
        (-> Number Bool)) 
      (S Z)) 
    (syn 
      (: $_422132 
        (-> Number Bool)) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: (. g f) (-> Number Bool)) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, f], B)
          ),
          B=C,
          true,
          u_assign([->, 'Number', 'Bool'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign(['S', 'Z'], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 5.23 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g f) 
        (-> Number Bool)) 
      (S Z)) 
    (syn 
      (: 
        (. g f) 
        (-> Number Bool)) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: (. g f) $Type) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, f], B)
          ),
          B=C,
          true
        ),
        u_assign([:, C, Type], D),
        D=E
      ),
      ( true,
        u_assign(['S', 'Z'], F)
      ),
      F=G,
      u_assign([E, G], H)
    ),
    H=I,
    u_assign([record, syn, I], A).

</span>; Evaluation took 4.66 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g f) $_37360) 
      (S Z)) 
    (syn 
      (: 
        (. g f) $_37360) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: $Term $Type) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      ( true,
        u_assign(['S', 'Z'], D)
      ),
      D=E,
      u_assign([C, E], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 4.13 ms.
<span class="ansi33">  (â· syn 
    ( (: $_107352 $_107664) 
      (S Z)) 
    (syn 
      (: $_107352 $_107664) 
      (S Z)))

</span>; (: f (-> Number String)), ..., (: (. f h) (-> Bool String)), ...
<span class="ansi38-000068000">!(record syn ((: (. (. g f) h) (-> $In Bool)) (fromNumber 2)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( ( true,
              u_assign(['.', g, f], B),
              B=C
            ),
            true,
            u_assign(['.', C, h], D)
          ),
          D=E,
          true,
          u_assign([->, In, 'Bool'], F),
          F=G
        ),
        u_assign([:, E, G], H),
        H=I
      ),
      ( true,
        u_assign([fromNumber, 2], J)
      ),
      J=K,
      u_assign([I, K], L)
    ),
    L=M,
    u_assign([record, syn, M], A).

</span>; Evaluation took 34.75 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. 
          (. g f) h) 
        (-> $_3510 Bool)) 
      (fromNumber 2)) 
    (syn 
      (: 
        (. 
          (. g f) h) 
        (-> $_3510 Bool)) 
      (fromNumber 2)))

</span>; (: (. (. g f) h) (-> Bool Bool))
<span class="ansi38-000068000">!(record syn ((: (. $G h) (-> $In String)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', G, h], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'String'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 12.92 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. $_85044 h) 
        (-> $_85362 String)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. $_85044 h) 
        (-> $_85362 String)) 
      (S 
        (S 
          (S Z)))))

</span>; (: (. f h) (-> Bool String)), (: (. (. (. f h) (. g f)) h) (-> Bool String))
<span class="ansi38-000068000">!(record syn ((: (. $G h) (-> Number $Out)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', G, h], B)
          ),
          B=C,
          true,
          u_assign([->, 'Number', Out], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 12.96 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. $_143894 h) 
        (-> Number $_144220)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. $_143894 h) 
        (-> Number $_144220)) 
      (S 
        (S 
          (S Z)))))

</span>; No answer
<span class="ansi38-000068000">!(record syn ((: (. g $False) (-> $In String)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, False], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'String'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 13.13 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g $_201544) 
        (-> $_201878 String)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. g $_201544) 
        (-> $_201878 String)) 
      (S 
        (S 
          (S Z)))))

</span>; No answer
<span class="ansi38-000068000">!(record syn ((: (. g $False) (-> $In Bool)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, False], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'Bool'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 13.68 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g $_260808) 
        (-> $_261142 Bool)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. g $_260808) 
        (-> $_261142 Bool)) 
      (S 
        (S 
          (S Z)))))

</span>; (: (. g f) (-> Number Bool)), (: (. g (. f h)) (-> Bool Bool)), (: (. g (. f (. h g))) (-> String Bool)), (: (. g (. (. f h) g)) (-> String Bool)), (. g (. (. f h) (. g f))) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: $Term $Type) (fromNumber 4)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      ( true,
        u_assign([fromNumber, 4], D)
      ),
      D=E,
      u_assign([C, E], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 24.82 ms.
<span class="ansi33">  (â· syn 
    ( (: $_5146 $_5164) 
      (S 
        (S 
          (S 
            (S Z))))) 
    (syn 
      (: $_5146 $_5164) 
      (S 
        (S 
          (S 
            (S Z))))))

</span><span class="ansi32">% 25,898,796 inferences, 3.581 CPU in 3.581 seconds (100% CPU, 7232069 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-let-test.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-let-test.html" )

</pre>
</body>

</html>
