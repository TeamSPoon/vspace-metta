<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
.ansi38-000068000 { color: #004400; }
.ansi38-017068017 { color: #114411; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-case-test.metta")
;; Import modules
<span class="ansi38-000068000">!(import! &self synthesize-via-case.metta)

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', 'synthesize-via-case.metta'], A).

</span>;; Import modules
<span class="ansi38-000068000">!(import! &self "../../common/Num.metta")

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', '../../common/Num.metta'], A).

</span>;; Define set of rules
;; Collection of functions operating on numbers
;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( max(X,Y,Assign_Max_Y) :-
%~                              u_assign([>,X,Y],Assign) ,
%~                              Assign=_366382 ,
%~                              u_assign([if,_366382,X,Y],Assign_Max_Y))]
%~ [convert(_303578),head_preconds_into_body((max(X,Y,_302342):-(u_assign([>,X,Y],_303884),_303884=_303874),u_assign([if,_303874,X,Y],_302342)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[max,X,Y],[if,[>,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span><span class="ansi38-000082136">  :- dynamic(max,3).

  max(X, Y, A) :-
    u_assign([>, X, Y], B),
    B=C,
    u_assign([if, C, X, Y], A).

</span>

;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( min(X,Y,Assign_Min_Y) :-
%~                              u_assign([<,X,Y],Assign) ,
%~                              Assign=_491486 ,
%~                              u_assign([if,_491486,X,Y],Assign_Min_Y))]
%~ [convert(_433756),head_preconds_into_body((min(X,Y,_432520):-(u_assign([<,X,Y],_434062),_434062=_434052),u_assign([if,_434052,X,Y],_432520)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[min,X,Y],[if,[<,X,Y],X,Y])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span><span class="ansi38-000082136">  :- dynamic(min,3).

  min(X, Y, A) :-
    u_assign([<, X, Y], B),
    B=C,
    u_assign([if, C, X, Y], A).

</span>

;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( clamp(X,L,U,Assign_Clamp_U) :-
%~                              u_assign([min,U,X],Assign) ,
%~                              Assign=_93052 ,
%~                              u_assign([max,L,_93052],Assign_Clamp_U))]
%~ [convert(_33324),head_preconds_into_body((clamp(X,L,U,_32018):-(u_assign([min,U,X],_33686),_33686=_33676),u_assign([max,L,_33676],_32018)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[clamp,X,L,U],[max,L,[min,U,X]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span><span class="ansi38-000082136">  :- dynamic(clamp,4).

  clamp(X, L, U, A) :-
    u_assign([min, U, X], B),
    B=C,
    u_assign([max, L, C], A).

</span>

;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( abs(X,Assign_Abs_X) :-
%~                              u_assign([<,X,0],Assign) ,
%~                              Assign=_238458 ,
%~                              u_assign([*,-1,X],Assign3) ,
%~                              Assign3=_238476 ,
%~                              u_assign([if,_238458,_238476,X],Assign_Abs_X))]
%~ [convert(_152796),head_preconds_into_body((abs(X,_151630):-((u_assign([<,X,0],_153102),_153102=_153092),u_assign([*,-1,X],_153262),_153262=_153252),u_assign([if,_153092,_153252,X],_151630)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[abs,X],[if,[<,X,0],[*,-1,X],X])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span><span class="ansi38-000082136">
  abs(X, A) :-
    ( u_assign([<, X, 0], B),
      B=C
    ),
    u_assign([*, -1, X], D),
    D=E,
    u_assign([if, C, E, X], A).

</span>

;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( <=(X,Y,Assign_Y) :-
%~                              u_assign([<,X,Y],Assign) ,
%~                              Assign=_418574 ,
%~                              u_assign([==,X,Y],Assign2) ,
%~                              Assign2=_418592 ,
%~                              u_assign([or,_418574,_418592],Assign_Y))]
%~ [convert(_343538),head_preconds_into_body((<=(X,Y,_342302):-((u_assign([<,X,Y],_343844),_343844=_343834),u_assign([==,X,Y],_344048),_344048=_344038),u_assign([or,_343834,_344038],_342302)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[<=,X,Y],[or,[<,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span><span class="ansi38-000082136">  :- dynamic(<=,3).

  <=(X, Y, A) :-
    ( u_assign([<, X, Y], B),
      B=C
    ),
    u_assign([==, X, Y], D),
    D=E,
    u_assign([or, C, E], A).

</span>

;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( >=(X,Y,Assign_Y) :-
%~                              u_assign([>,X,Y],Assign) ,
%~                              Assign=_37820 ,
%~                              u_assign([==,X,Y],Assign2) ,
%~                              Assign2=_37838 ,
%~                              u_assign([or,_37820,_37838],Assign_Y))]
%~ [convert(_3590),head_preconds_into_body((>=(X,Y,_3548):-((u_assign([>,X,Y],_3628),_3628=_3624),u_assign([==,X,Y],_3678),_3678=_3674),u_assign([or,_3624,_3674],_3548)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[>=,X,Y],[or,[>,X,Y],[==,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span><span class="ansi38-000082136">  :- dynamic(>=,3).

  >=(X, Y, A) :-
    ( u_assign([>, X, Y], B),
      B=C
    ),
    u_assign([==, X, Y], D),
    D=E,
    u_assign([or, C, E], A).

</span>

;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl:1054 
%~ [ convert(Convert),
%~   head_preconds_into_body( approxEq(X,Y,Epsilon,Assign_ApproxEq_Epsilon) :-
%~                              u_assign([-,X,Y],Assign) ,
%~                              Assign=_184826 ,
%~                              u_assign([abs,_184826],Assign3) ,
%~                              Assign3=_184850 ,
%~                              u_assign([<=,_184850,Epsilon],Assign_ApproxEq_Epsilon))]
%~ [convert(_97940),head_preconds_into_body((approxEq(X,Y,Epsilon,_96634):-(((u_assign([-,X,Y],_98288),_98288=_98278),u_assign([abs,_98278],_98246)),_98246=_98236),u_assign([<=,_98236,Epsilon],_96634)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span><span class="ansi38-000082136">  :- dynamic(approxEq,4).

  approxEq(X, Y, Epsilon, A) :-
    ( u_assign([-, X, Y], B),
      B=C,
      u_assign([abs, C], D)
    ),
    D=E,
    u_assign([<=, E, Epsilon], A).

</span>

;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( fromNumber(N,N) :-
%~                              u_assign([<=,N,0],Assign) ,
%~                              Assign=_408638 ,
%~                              u_assign([-,N,1],Assign2) ,
%~                              Assign2=_408680 ,
%~                              u_assign([fromNumber,_408680],Assign3) ,
%~                              Assign3=_408704 ,
%~                              u_assign(['S',_408704],Assign4) ,
%~                              Assign4=_408728 ,
%~                              u_assign([if,_408638,'Z',_408728],N))]
%~ [convert(_286482),head_preconds_into_body((fromNumber(N,_285316):-((u_assign([<=,N,0],_286788),_286788=_286778),((((u_assign([-,N,1],_287044),_287044=_287034),u_assign([fromNumber,_287034],_287002)),_287002=_286992),u_assign(['S',_286992],_286960)),_286960=_286950),u_assign([if,_286778,'Z',_286950],_285316)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span><span class="ansi38-000082136">  :- dynamic(fromNumber,2).

  fromNumber(N, A) :-
    ( u_assign([<=, N, 0], B),
      B=C
    ),
    ( ( u_assign([-, N, 1], D),
        D=E,
        u_assign([fromNumber, E], F)
      ),
      F=G,
      u_assign(['S', G], H)
    ),
    H=I,
    u_assign([if, C, 'Z', I], A).

</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((fromNat('Z',0):-true))]
%~ [convert(_455716),head_preconds_into_body((fromNat('Z',0):-true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,'Z'],0)
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span><span class="ansi38-000082136">  :- dynamic(fromNat,2).

  fromNat('Z', 0).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( fromNat(FromNat,FromNat1) :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=FromNat ,
%~                              u_assign([fromNat,K],Assign3) ,
%~                              [+,1,Assign3,FromNat1])]
%~ [convert(_3604),head_preconds_into_body((fromNat(_3554,_3530):-(u_assign(['S',K],_3558),_3558=_3554),u_assign([fromNat,K],_3638),[+,1,_3638,_3530]))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[fromNat,['S',K]],[+,1,[fromNat,K]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span><span class="ansi38-000082136">  :- dynamic(fromNat,2).

  fromNat(A, B) :-
    u_assign(['S', K], C),
    C=A,
    u_assign([fromNat, K], D),
    [+, 1, D, B].

</span>

;; Define a generic less than operator, â©», for Nat.  < cannot be used
;; because it is a built-in, its type is hardwired and cannot be
;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('â©»'(_,'Z',_83122):-_83122='False'))]
%~ [convert(_84314),head_preconds_into_body(('â©»'(_,'Z',_83122):-_83122='False'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',_,'Z'],'False')
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(_, 'Z', A) :-
    A='False'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'('Z',Z,True) :-
%~                              u_assign(['S',_],Assign) ,
%~                              Assign=Z ,
%~                              True='True')]
%~ [convert(_130692),head_preconds_into_body(('â©»'('Z',_129724,_129432):-(u_assign(['S',_],_129734),_129734=_129724),_129432='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»','Z',['S',_]],'True')
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'('Z', A, B) :-
    u_assign(['S', _], C),
    C=A,
    B='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'(Â1,Â,Assign_Â2) :-
%~                              u_assign(['S',X],Assign) ,
%~                              Assign=Â1 ,
%~                              u_assign(['S',Y],Assign4) ,
%~                              Assign4=Â ,
%~                              u_assign(['â©»',X,Y],Assign_Â2))]
%~ [convert(_201734),head_preconds_into_body(('â©»'(_200618,_200752,_200338):-((u_assign(['S',X],_200628),_200628=_200618),u_assign(['S',Y],_200762),_200762=_200752),u_assign(['â©»',X,Y],_200338)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',['S',X],['S',Y]],['â©»',X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(A, B, C) :-
    ( u_assign(['S', X], D),
      D=A
    ),
    u_assign(['S', Y], E),
    E=B,
    u_assign(['â©»', X, Y], C).

</span>

;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'â©»'(X,Y,Assign_Â_Y) :-
%~                              u_assign([<,X,Y],Assign_Â_Y))]
%~ [convert(_299436),head_preconds_into_body(('â©»'(X,Y,_298200):-u_assign([<,X,Y],_298200)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['â©»',X,Y],[<,X,Y])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span><span class="ansi38-000082136">  :- dynamic('â©»',3).

  'â©»'(X, Y, A) :-
    u_assign([<, X, Y], A).

</span>

;; Return the ceiling of a non negative number.  If the number is
;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ceil(N,Assign_Ceil_N) :-
%~                              u_assign([fromNumber,N],Assign) ,
%~                              Assign=_430894 ,
%~                              u_assign([fromNat,_430894],Assign_Ceil_N))]
%~ [convert(_375192),head_preconds_into_body((ceil(N,_374026):-(u_assign([fromNumber,N],_375498),_375498=_375488),u_assign([fromNat,_375488],_374026)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[ceil,N],[fromNat,[fromNumber,N]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span><span class="ansi38-000082136">  :- dynamic(ceil,2).

  ceil(N, A) :-
    u_assign([fromNumber, N], B),
    B=C,
    u_assign([fromNat, C], A).

</span>

;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( 'number->bool'(X,Number_c62_bool_X) :-
%~                              u_assign([<,0,X],Number_c62_bool_X))]
%~ [convert(_472190),head_preconds_into_body(('number->bool'(X,_471024):-u_assign([<,0,X],_471024)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['number->bool',X],[<,0,X])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span><span class="ansi38-000082136">  :- dynamic('number->bool',2).

  'number->bool'(X, A) :-
    u_assign([<, 0, X], A).

</span>

;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('bool->number'('False',0):-true))]
%~ [convert(_25300),head_preconds_into_body(('bool->number'('False',0):-true))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','False'],0)
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span><span class="ansi38-000082136">  :- dynamic('bool->number',2).

  'bool->number'('False', 0).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body(('bool->number'(_61872,1):-is_True(_61872)))]
%~ [convert(_62708),head_preconds_into_body(('bool->number'(_61872,1):-is_True(_61872)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['bool->number','True'],1)
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span><span class="ansi38-000082136">  :- dynamic('bool->number',2).

  'bool->number'(A, 1) :-
    is_True(A).

</span>

;; Define a less than type.  Note that it is purposefully different
;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;; are proofs that x â©» y == True.  For now â is only axiomatized for
;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,True,True,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $True $True Type))
</span>

;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ['zero-lt-succ-axiom',Assign2] :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=_226322 ,
%~                              u_assign(['â\x8D\\x83\','Z',_226322],Assign1) ,
%~                              Assign1=_226352 ,
%~                              u_assign([:,'ZeroLTSucc',_226352],Assign2))]
%~ [convert(_127336),head_preconds_into_body((['zero-lt-succ-axiom',_125496]:-(((u_assign(['S',K],_127708),_127708=_127698),u_assign(['â\x8D\\x83\','Z',_127698],_127654)),_127654=_127644),u_assign([:,'ZeroLTSucc',_127644],_125496)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span><span class="ansi38-000082136">
  ['zero-lt-succ-axiom', A] :-
    ( u_assign(['S', K], B),
      B=C,
      u_assign(['â\u008D\u0083', 'Z', C], D)
    ),
    D=E,
    u_assign([:, 'ZeroLTSucc', E], A).

</span>

;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( ['succ-monotonicity-rule',Assign5] :-
%~                              u_assign(['â\x8D\\x83\',X,Y],Assign) ,
%~                              Assign=_427278 ,
%~                              u_assign(['S',X],Assign1) ,
%~                              Assign1=_427314 ,
%~                              u_assign(['S',Y],Assign2) ,
%~                              Assign2=_427332 ,
%~                              u_assign(['â\x8D\\x83\',_427314,_427332],Assign3) ,
%~                              Assign3=_427362 ,
%~                              u_assign([->,_427278,_427362],Assign4) ,
%~                              Assign4=_427392 ,
%~                              u_assign([:,'SuccMonotonicity',_427392],Assign5))]
%~ [convert(_265970),head_preconds_into_body((['succ-monotonicity-rule',_264130]:-((((u_assign(['â\x8D\\x83\',X,Y],_266330),_266330=_266320),(((u_assign(['S',X],_266576),_266576=_266566),u_assign(['S',Y],_266710),_266710=_266700),u_assign(['â\x8D\\x83\',_266566,_266700],_266534)),_266534=_266524),u_assign([->,_266320,_266524],_266288)),_266288=_266278),u_assign([:,'SuccMonotonicity',_266278],_264130)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span><span class="ansi38-000082136">
  ['succ-monotonicity-rule', A] :-
    ( ( u_assign(['â\u008D\u0083', X, Y], B),
        B=C
      ),
      ( ( u_assign(['S', X], D),
          D=E
        ),
        u_assign(['S', Y], F),
        F=G,
        u_assign(['â\u008D\u0083', E, G], H)
      ),
      H=I,
      u_assign([->, C, I], J)
    ),
    J=K,
    u_assign([:, 'SuccMonotonicity', K], A).

</span>

; Evaluation took 1389.00 ms.
<span class="ansi33"> &self

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( [rules,Assign3] :-
%~                              u_assign([->,B,C],Assign) ,
%~                              Assign=_72780 ,
%~                              u_assign([->,A,B],Assign1) ,
%~                              Assign1=_72804 ,
%~                              u_assign([->,A,C],Assign2) ,
%~                              Assign2=_72822 ,
%~                              u_assign([:,->,_72780,_72804,_72822],Assign3))]
%~ [convert(_3164),head_preconds_into_body(([rules,_3140]:-((u_assign([->,B,C],_3208),_3208=_3204),(u_assign([->,A,B],_3258),_3258=_3254),u_assign([->,A,C],_3308),_3308=_3304),u_assign([:,->,_3204,_3254,_3304],_3140)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[rules],[:,->,[->,B,C],[->,A,B],[->,A,C]])
</span><span class="ansi38-255165000">  (= 
    (rules) 
    (: -> 
      (-> $B $C) 
      (-> $A $B) 
      (-> $A $C)))
</span><span class="ansi38-000082136">
  [rules, A] :-
    ( u_assign([->, B, C], B),
      B=C
    ),
    ( u_assign([->, A, B], D),
      D=E
    ),
    u_assign([->, A, C], F),
    F=G,
    u_assign([:, ->, C, E, G], A).

</span>

;; Define set of facts
%~ [ convert(Convert),
%~   head_preconds_into_body( [facts,_271728] :-
%~                              ( ( u_assign([->,'Number','String'],Assign)  ,
%~                                  Assign=VAR_Assign ,
%~                                  u_assign([:,f,VAR_Assign],Assign1) ,
%~                                  Assign1=VAR_Assign1)  ;
%~                                ( u_assign([->,'String','Bool'],Assign2)  ,
%~                                  Assign2=VAR_Assign2 ,
%~                                  u_assign([:,g,VAR_Assign2],Assign3) ,
%~                                  Assign3=VAR_Assign1) ;
%~                                ( u_assign([->,'Bool','Number'],Assign4)  ,
%~                                  Assign4=VAR_Assign4 ,
%~                                  u_assign([:,h,VAR_Assign4],Assign5) ,
%~                                  Assign5=VAR_Assign1)))]
%~ [convert(_111430),head_preconds_into_body(([facts,_109590]:-((u_assign([->,'Number','String'],_111788),_111788=_111778),u_assign([:,f,_111778],_111734)),_111734=_109590;((u_assign([->,'String','Bool'],_111992),_111992=_111982),u_assign([:,g,_111982],_111938)),_111938=_109590;((u_assign([->,'Bool','Number'],_112196),_112196=_112186),u_assign([:,h,_112186],_112142)),_112142=_109590))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[facts],[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']]]])
</span><span class="ansi38-255165000">  (= 
    (facts) 
    (superpose 
      ( (: f 
          (-> Number String)) 
        (: g 
          (-> String Bool)) 
        (: h 
          (-> Bool Number)))))
</span><span class="ansi38-000082136">
  [facts, A] :-
    (   ( u_assign([->, 'Number', 'String'], B),
          B=C
        ),
        u_assign([:, f, C], D),
        D=A
    ;   ( u_assign([->, 'String', 'Bool'], E),
          E=F
        ),
        u_assign([:, g, F], G),
        G=A
    ;   ( u_assign([->, 'Bool', 'Number'], H),
          H=I
        ),
        u_assign([:, h, I], J),
        J=A
    ).

</span>

;; Given a query under the form (: TERM TYPE), enumerate all programs
;; up to a given depth that are consistent with the query, using rules
;; and facts.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,syn,[->,'Atom','Nat','Atom']])
</span><span class="ansi38-255165000">  (: syn 
    (-> Atom Nat Atom))
</span>

; Base case: match against facts directly
%~ [ convert(Convert),
%~   head_preconds_into_body( syn(Query,Depth,Query) :-
%~                              [facts,CASE_EVAL_1] ,
%~                              unify_enough(CASE_EVAL_1,Query)->true;Query=[])]
%~ [convert(_365318),head_preconds_into_body((syn(Query,Depth,Query):-[facts,CASE_EVAL_1],(unify_enough(CASE_EVAL_1,Query)->true;Query=[])))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[syn,Query,Depth],[case,[facts],[[Query,Query]]])
</span><span class="ansi38-255165000">  (= 
    (syn $Query $Depth) 
    (case 
      (facts) 
      ( ($Query $Query))))
</span><span class="ansi38-000082136">  :- dynamic(syn,3).

  syn(Query, Depth, Query) :-
    [facts, CASE_EVAL_1],
    (   unify_enough(CASE_EVAL_1, Query)
    ->  true
    ;   Query=[]
    ).

</span>

; Inductive case
%~ [ convert(Convert),
%~   head_preconds_into_body( syn(Query,Query,Query) :-
%~                              u_assign(['S',K],Assign) ,
%~                              Assign=Query ,
%~                              [rules,CASE_EVAL_2] ,
%~                                ((
%~                                 (( u_assign( [->,Premise1,Premise2,Conclusion],
%~                                      Assign6)  ,
%~                                    Assign6=_213632 ,
%~                                    u_assign([:,Rule,_213632],CASE_EVAL_2) ,
%~                                    unify_enough(CASE_EVAL_2,CASE_EVAL_2)) ->
%~                                      ((
%~                                       (( u_assign([Rule,Prf1,Prf2],Assign7)  ,
%~                                          Assign7=VAR_Assign7 ,
%~                                          u_assign([:,VAR_Assign7,Conclusion],Enough_Assign_Query2) ,
%~                                          unify_enough(Query,Enough_Assign_Query2)) ->
%~                                          ( u_assign([:,Prf1,Premise1],Assign10)  ,
%~                                            Assign10=VAR_Assign10 ,
%~                                            u_assign([syn,VAR_Assign10,K],CASE_EVAL_3) ,
%~                                              ((
%~                                               (  ((
%~                                                   (u_assign([:,Prf1,Premise1],CASE_EVAL_3)),
%~                                                   (unify_enough(CASE_EVAL_3,CASE_EVAL_3))  )) ->
%~                                                  ( u_assign([:,Prf2,Premise2],Assign11)  ,
%~                                                    Assign11=VAR_Assign11 ,
%~                                                    u_assign([syn,VAR_Assign11,K],CASE_EVAL_4) ,
%~                                                      ((
%~                                                       (  ((
%~                                                           (u_assign([:,Prf2,Premise2],CASE_EVAL_4)),
%~                                                           (unify_enough(CASE_EVAL_4,CASE_EVAL_4))  )) ->
%~                                                          true);
%~                                                       (Query=[])  ))));
%~                                               (Query=[])  ))));
%~                                       (Query=[])  )));
%~                                 (Query=[])  )))]
%~ [convert(_3534),head_preconds_into_body((syn(Query,_3484,Query):-(u_assign(['S',K],_3488),_3488=_3484),[rules,CASE_EVAL_2],(((u_assign([->,Premise1,Premise2,Conclusion],_3590),_3590=_3586),u_assign([:,Rule,_3586],_3558)),unify_enough(CASE_EVAL_2,_3558)->(((u_assign([Rule,Prf1,Prf2],_3678),_3678=_3674),u_assign([:,_3674,Conclusion],_3652)),unify_enough(Query,_3652)->((u_assign([:,Prf1,Premise1],_3994),_3994=_3990),u_assign([syn,_3990,K],CASE_EVAL_3)),(u_assign([:,Prf1,Premise1],_3756),unify_enough(CASE_EVAL_3,_3756)->((u_assign([:,Prf2,Premise2],_3896),_3896=_3892),u_assign([syn,_3892,K],CASE_EVAL_4)),(u_assign([:,Prf2,Premise2],_3810),unify_enough(CASE_EVAL_4,_3810)->true;Query=[]);Query=[]);Query=[]);Query=[])))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[syn,Query,['S',K]],[case,[rules],[[[:,Rule,[->,Premise1,Premise2,Conclusion]],[case,Query,[[[:,[Rule,Prf1,Prf2],Conclusion],[case,[syn,[:,Prf1,Premise1],K],[[[:,Prf1,Premise1],[case,[syn,[:,Prf2,Premise2],K],[[[:,Prf2,Premise2],Query]]]]]]]]]]]])
</span><span class="ansi38-255165000">  (= 
    (syn $Query 
      (S $K)) 
    (case 
      (rules) 
      ( ( (: $Rule 
            (-> $Premise1 $Premise2 $Conclusion)) 
          (case $Query 
            ( ( (: 
                  ($Rule $Prf1 $Prf2) $Conclusion) 
                (case 
                  (syn 
                    (: $Prf1 $Premise1) $K) 
                  ( ( (: $Prf1 $Premise1) 
                      (case 
                        (syn 
                          (: $Prf2 $Premise2) $K) 
                        ( ( (: $Prf2 $Premise2) $Query)))))))))))))
</span><span class="ansi38-000082136">  :- dynamic(syn,3).

  syn(Query, A, Query) :-
    u_assign(['S', K], B),
    B=A,
    [rules, CASE_EVAL_2],
    (   ( u_assign([->, Premise1, Premise2, Conclusion],
                   C),
          C=D
        ),
        u_assign([:, Rule, D], E),
        unify_enough(CASE_EVAL_2, E)
    ->  (   ( u_assign([Rule, Prf1, Prf2], F),
              F=G
            ),
            u_assign([:, G, Conclusion], H),
            unify_enough(Query, H)
        ->  ( u_assign([:, Prf1, Premise1], I),
              I=J
            ),
            u_assign([syn, J, K], CASE_EVAL_3),
            (   u_assign([:, Prf1, Premise1], K),
                unify_enough(CASE_EVAL_3, K)
            ->  ( u_assign([:, Prf2, Premise2], L),
                  L=M
                ),
                u_assign([syn, M, K], CASE_EVAL_4),
                (   u_assign([:, Prf2, Premise2], N),
                    unify_enough(CASE_EVAL_4, N)
                ->  true
                ;   Query=[]
                )
            ;   Query=[]
            )
        ;   Query=[]
        )
    ;   Query=[]
    ).

</span>

; Evaluation took 2.11 seconds.
<span class="ansi33"> &self

</span><span class="ansi38-000068000">!(import! &self "../../common/Record.metta")

</span><span class="ansi38-017068017">exec(A) :-
    true,
    u_assign(['import!', '&self', '../../common/Record.metta'], A).

</span>;; Test program synthesizer
;; Given a function call, produce records of that function call.
;; There can be multiple records with only one call due to the
;; non-determinism of MeTTa.  Each record is represented by (â· f x y)
;; which can be read as
;;
;; "under f, the image of x is y"
;;
;; It was chosen because it is described as IMAGE OF in UTF-8.  It is
;; the MeTTa equivalent of ExecutionLink in Atomese.  The character â·
;; has description: IMAGE OF, hexadecimal code: 0x22B7, unicode-math
;; code: \imageof and latex code: \multimapdotbothB.
%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg],Assign) ,
%~                              Assign=False ,
%~                              u_assign([False,Arg],Assign3) ,
%~                              Assign3=_450646 ,
%~                              u_assign(['â\x8A\·',False,Arg,_450646],Assign_Record))]
%~ [convert(_364982),head_preconds_into_body((record(False,_364040,_363704):-(u_assign([Arg],_364050),_364050=_364040),(u_assign([False,Arg],_365400),_365400=_365390),u_assign(['â\x8A\·',False,Arg,_365390],_363704)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg]],['â\x8A\·',False,Arg,[False,Arg]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg)) 
    (â· $False $Arg 
      ($False $Arg)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg], C),
    C=A,
    u_assign([False, Arg], D),
    D=E,
    u_assign(['â\u008A·', False, Arg, E], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2],Assign) ,
%~                              Assign=False ,
%~                              u_assign([Arg1,Arg2],Assign3) ,
%~                              Assign3=_72714 ,
%~                              u_assign([False,Arg1,Arg2],Assign4) ,
%~                              Assign4=_72732 ,
%~                              u_assign(['â\x8A\·',False,_72714,_72732],Assign_Record))]
%~ [convert(_3210),head_preconds_into_body((record(False,_3160,_3130):-(u_assign([Arg1,Arg2],_3164),_3164=_3160),((u_assign([Arg1,Arg2],_3254),_3254=_3250),u_assign([False,Arg1,Arg2],_3298),_3298=_3294),u_assign(['â\x8A\·',False,_3250,_3294],_3130)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2]],['â\x8A\·',False,[Arg1,Arg2],[False,Arg1,Arg2]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2)) 
    (â· $False 
      ($Arg1 $Arg2) 
      ($False $Arg1 $Arg2)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2], C),
    C=A,
    ( u_assign([Arg1, Arg2], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2], F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2,Arg3],Assign) ,
%~                              Assign=False ,
%~                              u_assign([Arg1,Arg2,Arg3],Assign3) ,
%~                              Assign3=_218674 ,
%~                              u_assign( [False,Arg1,Arg2,Arg3],
%~                                Assign4) ,
%~                              Assign4=_218692 ,
%~                              u_assign(['â\x8A\·',False,_218674,_218692],Assign_Record))]
%~ [convert(_108584),head_preconds_into_body((record(False,_107502,_107166):-(u_assign([Arg1,Arg2,Arg3],_107512),_107512=_107502),((u_assign([Arg1,Arg2,Arg3],_108946),_108946=_108936),u_assign([False,Arg1,Arg2,Arg3],_109194),_109194=_109184),u_assign(['â\x8A\·',False,_108936,_109184],_107166)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2,Arg3]],['â\x8A\·',False,[Arg1,Arg2,Arg3],[False,Arg1,Arg2,Arg3]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2 $Arg3)) 
    (â· $False 
      ($Arg1 $Arg2 $Arg3) 
      ($False $Arg1 $Arg2 $Arg3)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2, Arg3], C),
    C=A,
    ( u_assign([Arg1, Arg2, Arg3], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2, Arg3], F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body( record(False,False,Assign_Record) :-
%~                              u_assign([Arg1,Arg2,Arg3,Arg4],Assign) ,
%~                              Assign=False ,
%~                              u_assign( [Arg1,Arg2,Arg3,Arg4],
%~                                Assign3) ,
%~                              Assign3=_387808 ,
%~                              u_assign(
%~                                 [ False, Arg1,Arg2,Arg3,
%~                                   Arg4],
%~                                 Assign4) ,
%~                              Assign4=_387826 ,
%~                              u_assign(['â\x8A\·',False,_387808,_387826],Assign_Record))]
%~ [convert(_265560),head_preconds_into_body((record(False,_264408,_264072):-(u_assign([Arg1,Arg2,Arg3,Arg4],_264418),_264418=_264408),((u_assign([Arg1,Arg2,Arg3,Arg4],_265922),_265922=_265912),u_assign([False,Arg1,Arg2,Arg3,Arg4],_266240),_266240=_266230),u_assign(['â\x8A\·',False,_265912,_266230],_264072)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[record,False,[Arg1,Arg2,Arg3,Arg4]],['â\x8A\·',False,[Arg1,Arg2,Arg3,Arg4],[False,Arg1,Arg2,Arg3,Arg4]])
</span><span class="ansi38-255165000">  (= 
    (record $False 
      ($Arg1 $Arg2 $Arg3 $Arg4)) 
    (â· $False 
      ($Arg1 $Arg2 $Arg3 $Arg4) 
      ($False $Arg1 $Arg2 $Arg3 $Arg4)))
</span><span class="ansi38-000082136">  :- dynamic(record,3).

  record(False, A, B) :-
    u_assign([Arg1, Arg2, Arg3, Arg4], C),
    C=A,
    ( u_assign([Arg1, Arg2, Arg3, Arg4], D),
      D=E
    ),
    u_assign([False, Arg1, Arg2, Arg3, Arg4],
             F),
    F=G,
    u_assign(['â\u008A·', False, E, G], B).

</span>

; Evaluation took 398.56 ms.
<span class="ansi33"> &self

</span><span class="ansi38-000068000">!(record syn ((: $Term $Type) Z))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      true,
      u_assign([C, 'Z'], D)
    ),
    D=E,
    u_assign([record, syn, E], A).

</span>; Evaluation took 3.03 ms.
<span class="ansi33">  (â· syn 
    ( (: $_457616 $_457928) Z) 
    (syn 
      (: $_457616 $_457928) Z))

</span>; (: f (-> Number String)), (: g (-> String Bool)), (: h (-> Bool Number))
<span class="ansi38-000068000">!(record syn ((: $Term (-> Number String)) Z))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( true,
          u_assign([->, 'Number', 'String'], B),
          B=C
        ),
        u_assign([:, Term, C], D),
        D=E
      ),
      true,
      u_assign([E, 'Z'], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 3.70 ms.
<span class="ansi33">  (â· syn 
    ( (: $_2532 
        (-> Number String)) Z) 
    (: f 
      (-> Number String)))

</span>; (: f (-> Number String))
<span class="ansi38-000068000">!(record syn ((: $Term (-> Number Bool)) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( true,
          u_assign([->, 'Number', 'Bool'], B),
          B=C
        ),
        u_assign([:, Term, C], D),
        D=E
      ),
      ( true,
        u_assign(['S', 'Z'], F)
      ),
      F=G,
      u_assign([E, G], H)
    ),
    H=I,
    u_assign([record, syn, I], A).

</span>; Evaluation took 4.82 ms.
<span class="ansi33">  (â· syn 
    ( (: $_62260 
        (-> Number Bool)) 
      (S Z)) 
    (syn 
      (: $_62260 
        (-> Number Bool)) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: (. g f) (-> Number Bool)) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, f], B)
          ),
          B=C,
          true,
          u_assign([->, 'Number', 'Bool'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign(['S', 'Z'], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 8.06 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g f) 
        (-> Number Bool)) 
      (S Z)) 
    (syn 
      (: 
        (. g f) 
        (-> Number Bool)) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: (. g f) $Type) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, f], B)
          ),
          B=C,
          true
        ),
        u_assign([:, C, Type], D),
        D=E
      ),
      ( true,
        u_assign(['S', 'Z'], F)
      ),
      F=G,
      u_assign([E, G], H)
    ),
    H=I,
    u_assign([record, syn, I], A).

</span>; Evaluation took 6.97 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g f) $_236288) 
      (S Z)) 
    (syn 
      (: 
        (. g f) $_236288) 
      (S Z)))

</span>; (: (. g f) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: $Term $Type) (S Z)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      ( true,
        u_assign(['S', 'Z'], D)
      ),
      D=E,
      u_assign([C, E], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 4.45 ms.
<span class="ansi33">  (â· syn 
    ( (: $_334644 $_334956) 
      (S Z)) 
    (syn 
      (: $_334644 $_334956) 
      (S Z)))

</span>; (: f (-> Number String)), ..., (: (. f h) (-> Bool String)), ...
<span class="ansi38-000068000">!(record syn ((: (. (. g f) h) (-> $In Bool)) (fromNumber 2)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( ( true,
              u_assign(['.', g, f], B),
              B=C
            ),
            true,
            u_assign(['.', C, h], D)
          ),
          D=E,
          true,
          u_assign([->, In, 'Bool'], F),
          F=G
        ),
        u_assign([:, E, G], H),
        H=I
      ),
      ( true,
        u_assign([fromNumber, 2], J)
      ),
      J=K,
      u_assign([I, K], L)
    ),
    L=M,
    u_assign([record, syn, M], A).

</span>; Evaluation took 39.40 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. 
          (. g f) h) 
        (-> $_5792 Bool)) 
      (fromNumber 2)) 
    (syn 
      (: 
        (. 
          (. g f) h) 
        (-> $_5792 Bool)) 
      (fromNumber 2)))

</span>; (: (. (. g f) h) (-> Bool Bool))
<span class="ansi38-000068000">!(record syn ((: (. $G h) (-> $In String)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', G, h], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'String'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 17.30 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. $_368442 h) 
        (-> $_368760 String)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. $_368442 h) 
        (-> $_368760 String)) 
      (S 
        (S 
          (S Z)))))

</span>; (: (. f h) (-> Bool String)), (: (. (. (. f h) (. g f)) h) (-> Bool String))
<span class="ansi38-000068000">!(record syn ((: (. $G h) (-> Number $Out)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', G, h], B)
          ),
          B=C,
          true,
          u_assign([->, 'Number', Out], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 16.14 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. $_7016 h) 
        (-> Number $_7058)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. $_7016 h) 
        (-> Number $_7058)) 
      (S 
        (S 
          (S Z)))))

</span>; No answer
<span class="ansi38-000068000">!(record syn ((: (. g $False) (-> $In String)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, False], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'String'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 15.77 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g $_104478) 
        (-> $_104812 String)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. g $_104478) 
        (-> $_104812 String)) 
      (S 
        (S 
          (S Z)))))

</span>; No answer
<span class="ansi38-000068000">!(record syn ((: (. g $False) (-> $In Bool)) (fromNumber 3)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( ( ( true,
            u_assign(['.', g, False], B)
          ),
          B=C,
          true,
          u_assign([->, In, 'Bool'], D),
          D=E
        ),
        u_assign([:, C, E], F),
        F=G
      ),
      ( true,
        u_assign([fromNumber, 3], H)
      ),
      H=I,
      u_assign([G, I], J)
    ),
    J=K,
    u_assign([record, syn, K], A).

</span>; Evaluation took 15.53 ms.
<span class="ansi33">  (â· syn 
    ( (: 
        (. g $_231474) 
        (-> $_231808 Bool)) 
      (S 
        (S 
          (S Z)))) 
    (syn 
      (: 
        (. g $_231474) 
        (-> $_231808 Bool)) 
      (S 
        (S 
          (S Z)))))

</span>; (: (. g f) (-> Number Bool)), (: (. g (. f h)) (-> Bool Bool)), (: (. g (. f (. h g))) (-> String Bool)), (: (. g (. (. f h) g)) (-> String Bool)), (. g (. (. f h) (. g f))) (-> Number Bool))
<span class="ansi38-000068000">!(record syn ((: $Term $Type) (fromNumber 4)))

</span><span class="ansi38-017068017">exec(A) :-
    ( ( true,
        u_assign([:, Term, Type], B),
        B=C
      ),
      ( true,
        u_assign([fromNumber, 4], D)
      ),
      D=E,
      u_assign([C, E], F)
    ),
    F=G,
    u_assign([record, syn, G], A).

</span>; Evaluation took 27.34 ms.
<span class="ansi33">  (â· syn 
    ( (: $_5522 $_5540) 
      (S 
        (S 
          (S 
            (S Z))))) 
    (syn 
      (: $_5522 $_5540) 
      (S 
        (S 
          (S 
            (S Z))))))

</span><span class="ansi32">% 27,170,496 inferences, 3.662 CPU in 3.662 seconds (100% CPU, 7419211 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-case-test.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/synthesis/experiments/synthesize-via-case-test.html" )

</pre>
</body>

</html>
