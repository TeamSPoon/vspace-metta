<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi35 { color: #E850A8; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta')
1=[]
2=[((cata mapExpr evalExpr) (Fix (Plus (Fix (Plus (Fix (Var X)) (Fix (Const 2)))) (Fix (Const 40)))))]
3=[((ana mapExpr nTimes) (, 2 (S (S Z))))]
4=[((hylo mapExpr evalExpr nTimes) (, 3 (S (S (S Z)))))]
5=[((para mapExpr diff) (Fix (Plus (Fix (Var X)) (Fix (Const 1)))))]
6=[(1p $x#135), (2t $x#136), (Fix $Y)]
7=[((futu mapExpr expand) (2t (1p (Fix (Var X)))))]
8=0.12user 0.01system 0:00.13elapsed 99%CPU (0avgtext+0avgdata 28760maxresident)k
8=0inputs+0outputs (0major+3314minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 1, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 2, [[[cata, mapExpr, evalExpr], ['Fix', ['Plus', ['Fix', ['Plus', ['Fix', ['Var', 'X']], ['Fix', ['Const', 2]]]], ['Fix', ['Const', 40]]]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 3, [[[ana, mapExpr, nTimes], [',', 2, ['S', ['S', 'Z']]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 4, [[[hylo, mapExpr, evalExpr, nTimes], [',', 3, ['S', ['S', ['S', 'Z']]]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 5, [[[para, mapExpr, diff], ['Fix', ['Plus', ['Fix', ['Var', 'X']], ['Fix', ['Const', 1]]]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 6, [[1, p, X_C35_135], ',', [2, t, X_C35_136], ',', ['Fix', Y]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta', 7, [[[futu, mapExpr, expand], [2, t, [1, p, ['Fix', ['Var', 'X']]]]]]).

;; !(import! &self "../schemes.metta")
<span class="ansi38-000068000">!(import! &self "../schemes.metta")

</span>    -->(0,'&self',['import!','&self','../schemes.metta'],depth(0))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/schemes.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/schemes.metta')
;; How to apply a function to the slots, a Functor's map
;; For references see https://github.com/passy/awesome-recursion-schemes
;; For my typed Scala implementation see https://github.com/Adam-Vandervorst/RecursionSchemes
;; !(transfer! "base.metta")
<span class="ansi38-000068000">!(import! &self base.metta)

</span>    -->(1,'&self',['import!','&self','base.metta'],depth(0))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/base.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/base.metta')
;; folds
;; Wrapping and unwrapping for the recursion
;; Fix F = F (Fix F)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[unFix,['Fix',X]],X)
</span><span class="ansi38-255165000">(= 
  (unFix 
    (Fix $X)) $X)
</span>

;; identity function, useful in the combinators due to lack of
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[identity,X],X)
</span><span class="ansi38-255165000">(= 
  (identity $X) $X)
</span>

    <--(1,retval('Empty'))
      -->(1,'&self','Empty',depth(1))
; Evaluation took 6.04 milliseconds.
<span class="ansi33">Deterministic: </span><span class="ansi33">Empty
</span>
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[cata,F,Alg],A],[Alg,[F,[cata,F,Alg],[unFix,A]]])
</span><span class="ansi38-255165000">(= 
  ( (cata $F $Alg) $A) 
  ($Alg 
    ($F 
      (cata $F $Alg) 
      (unFix $A))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[para_pair,F,Alg],A],[',',[[para,F,Alg],A],A])
</span><span class="ansi38-255165000">(= 
  ( (para_pair $F $Alg) $A) 
  (and 
    ( (para $F $Alg) $A) $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[para,F,Alg],A],[Alg,[F,[para_pair,F,Alg],[unFix,A]]])
</span><span class="ansi38-255165000">(= 
  ( (para $F $Alg) $A) 
  ($Alg 
    ($F 
      (para_pair $F $Alg) 
      (unFix $A))))
</span>

;; unfolds
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[ana,F,Coalg],S],['Fix',[F,[ana,F,Coalg],[Coalg,S]]])
</span><span class="ansi38-255165000">(= 
  ( (ana $F $Coalg) $S) 
  (Fix 
    ($F 
      (ana $F $Coalg) 
      ($Coalg $S))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[futu_picking,F,Coalg],['Pure',A]],[[futu,F,Coalg],A])
</span><span class="ansi38-255165000">(= 
  ( (futu_picking $F $Coalg) 
    (Pure $A)) 
  ( (futu $F $Coalg) $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[futu_picking,F,Coalg],['Bind',F]],['Fix',[F,[futu_picking,F,Coalg],F]])
</span><span class="ansi38-255165000">(= 
  ( (futu_picking $F $Coalg) 
    (Bind $F)) 
  (Fix 
    ($F 
      (futu_picking $F $Coalg) $F)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[futu,F,Coalg],S],['Fix',[F,[futu_picking,F,Coalg],[Coalg,S]]])
</span><span class="ansi38-255165000">(= 
  ( (futu $F $Coalg) $S) 
  (Fix 
    ($F 
      (futu_picking $F $Coalg) 
      ($Coalg $S))))
</span>

;; combinations
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[[hylo,F,Alg,Coalg],S],[Alg,[F,[hylo,F,Alg,Coalg],[Coalg,S]]])
</span><span class="ansi38-255165000">(= 
  ( (hylo $F $Alg $Coalg) $S) 
  ($Alg 
    ($F 
      (hylo $F $Alg $Coalg) 
      ($Coalg $S))))
</span>

    <--(0,retval('Empty'))
      -->(0,'&self','Empty',depth(1))
; Evaluation took 39.49 milliseconds.
<span class="ansi33">Last Result(2): </span><span class="ansi33">Empty
</span>
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[mapExpr,F,['Plus',X,Y]],['Plus',[F,X],[F,Y]])
</span><span class="ansi38-255165000">(= 
  (mapExpr $F 
    (Plus $X $Y)) 
  (Plus 
    ($F $X) 
    ($F $Y)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[mapExpr,F,['Const',X]],['Const',X])
</span><span class="ansi38-255165000">(= 
  (mapExpr $F 
    (Const $X)) 
  (Const $X))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[mapExpr,F,['Var',X]],['Var',X])
</span><span class="ansi38-255165000">(= 
  (mapExpr $F 
    (Var $X)) 
  (Var $X))
</span>

;; How to evaluate the structure to some value, a single step, an algebra
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[evalExpr,['Plus',X,Y]],[+,X,Y])
</span><span class="ansi38-255165000">(= 
  (evalExpr 
    (Plus $X $Y)) 
  (+ $X $Y))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[evalExpr,['Const',X]],X)
</span><span class="ansi38-255165000">(= 
  (evalExpr 
    (Const $X)) $X)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[evalExpr,['Var',X]],[valueOf,X])
</span><span class="ansi38-255165000">(= 
  (evalExpr 
    (Var $X)) 
  (valueOf $X))
</span>

;; Dictionary we can use during evaluation
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[valueOf,'X'],0)
</span><span class="ansi38-255165000">(= 
  (valueOf X) 0)
</span>

;; A fold, with the Functor and algebra, applied to the Fix tree
<span class="ansi38-000068000">!((cata mapExpr evalExpr) 
  (Fix 
    (Plus 
      (Fix 
        (Plus 
          (Fix 
            (Var X)) 
          (Fix 
            (Const 2)))) 
      (Fix 
        (Const 40)))))

</span>    -->(0,'&self',[[cata,mapExpr,evalExpr],['Fix',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]],depth(0))
      -->(1,'&self',[evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]]]],depth(1))
        -->(2,'&self',[cata,mapExpr,evalExpr],depth(2))
        -->(3,'&self',['Var','X'],depth(2))
        -->(4,'&self',['Const',2],depth(2))
        -->(5,'&self',['Const',40],depth(2))
        -->(6,'&self',[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]]],depth(2))
          -->(7,'&self',[cata,mapExpr,evalExpr],depth(3))
          -->(8,'&self',['Var','X'],depth(3))
          -->(9,'&self',['Const',2],depth(3))
          -->(10,'&self',['Const',40],depth(3))
          -->(11,'&self',[cata,mapExpr,evalExpr],depth(3))
          -->(12,'&self',[unFix,['Fix',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]],depth(3))
            -->(13,'&self',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]],depth(4))
              -->(14,'&self',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],depth(5))
                -->(15,'&self',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]],depth(6))
                  -->(16,'&self',['Fix',['Var','X']],depth(7))
                    -->(17,'&self',['Var','X'],depth(8))
                  -->(18,'&self',['Fix',['Const',2]],depth(7))
                    -->(19,'&self',['Const',2],depth(8))
              -->(20,'&self',['Fix',['Const',40]],depth(5))
                -->(21,'&self',['Const',40],depth(6))
          -->(22,'&self',[mapExpr,[cata,mapExpr,evalExpr],['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]],depth(3))
            -->(23,'&self',['Plus',[[cata,mapExpr,evalExpr],['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]],[[cata,mapExpr,evalExpr],['Fix',['Const',40]]]],depth(4))
              -->(24,'&self',[[cata,mapExpr,evalExpr],['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]],depth(5))
                -->(25,'&self',[evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]]]],depth(6))
                  -->(26,'&self',[cata,mapExpr,evalExpr],depth(7))
                  -->(27,'&self',['Var','X'],depth(7))
                  -->(28,'&self',['Const',2],depth(7))
                  -->(29,'&self',[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]]],depth(7))
                    -->(30,'&self',[cata,mapExpr,evalExpr],depth(8))
                    -->(31,'&self',['Var','X'],depth(8))
                    -->(32,'&self',['Const',2],depth(8))
                    -->(33,'&self',[cata,mapExpr,evalExpr],depth(8))
                    -->(34,'&self',[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]],depth(8))
                      -->(35,'&self',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]],depth(9))
                        -->(36,'&self',['Fix',['Var','X']],depth(10))
                          -->(37,'&self',['Var','X'],depth(11))
                        -->(38,'&self',['Fix',['Const',2]],depth(10))
                          -->(39,'&self',['Const',2],depth(11))
                    -->(40,'&self',[mapExpr,[cata,mapExpr,evalExpr],['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],depth(8))
                      -->(41,'&self',['Plus',[[cata,mapExpr,evalExpr],['Fix',['Var','X']]],[[cata,mapExpr,evalExpr],['Fix',['Const',2]]]],depth(9))
                        -->(42,'&self',[[cata,mapExpr,evalExpr],['Fix',['Var','X']]],depth(10))
                          -->(43,'&self',[evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Var','X']]]]],depth(11))
                            -->(44,'&self',[cata,mapExpr,evalExpr],depth(12))
                            -->(45,'&self',['Var','X'],depth(12))
                            -->(46,'&self',[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Var','X']]]],depth(12))
                              -->(47,'&self',[cata,mapExpr,evalExpr],depth(13))
                              -->(48,'&self',['Var','X'],depth(13))
                              -->(49,'&self',[cata,mapExpr,evalExpr],depth(13))
                              -->(50,'&self',[unFix,['Fix',['Var','X']]],depth(13))
                                -->(51,'&self',['Var','X'],depth(14))
                              -->(52,'&self',[mapExpr,[cata,mapExpr,evalExpr],['Var','X']],depth(13))
                                -->(53,'&self',['Var','X'],depth(14))
                            -->(54,'&self',[evalExpr,['Var','X']],depth(12))
                              -->(55,'&self',[valueOf,'X'],depth(13))
                                -->(56,'&self',0,depth(14))
                        -->(57,'&self',[[cata,mapExpr,evalExpr],['Fix',['Const',2]]],depth(10))
                          -->(58,'&self',[evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',2]]]]],depth(11))
                            -->(59,'&self',[cata,mapExpr,evalExpr],depth(12))
                            -->(60,'&self',['Const',2],depth(12))
                            -->(61,'&self',[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',2]]]],depth(12))
                              -->(62,'&self',[cata,mapExpr,evalExpr],depth(13))
                              -->(63,'&self',['Const',2],depth(13))
                              -->(64,'&self',[cata,mapExpr,evalExpr],depth(13))
                              -->(65,'&self',[unFix,['Fix',['Const',2]]],depth(13))
                                -->(66,'&self',['Const',2],depth(14))
                              -->(67,'&self',[mapExpr,[cata,mapExpr,evalExpr],['Const',2]],depth(13))
                                -->(68,'&self',['Const',2],depth(14))
                            -->(69,'&self',[evalExpr,['Const',2]],depth(12))
                              -->(70,'&self',2,depth(13))
                        -->(71,'&self',['Plus',0,2],depth(10))
                  -->(72,'&self',[evalExpr,['Plus',0,2]],depth(7))
                    -->(73,'&self',[+,0,2],depth(8))
                    <--(73,retval(2))
                      -->(73,'&self',2,depth(9))
              -->(74,'&self',[[cata,mapExpr,evalExpr],['Fix',['Const',40]]],depth(5))
                -->(75,'&self',[evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',40]]]]],depth(6))
                  -->(76,'&self',[cata,mapExpr,evalExpr],depth(7))
                  -->(77,'&self',['Const',40],depth(7))
                  -->(78,'&self',[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',40]]]],depth(7))
                    -->(79,'&self',[cata,mapExpr,evalExpr],depth(8))
                    -->(80,'&self',['Const',40],depth(8))
                    -->(81,'&self',[cata,mapExpr,evalExpr],depth(8))
                    -->(82,'&self',[unFix,['Fix',['Const',40]]],depth(8))
                      -->(83,'&self',['Const',40],depth(9))
                    -->(84,'&self',[mapExpr,[cata,mapExpr,evalExpr],['Const',40]],depth(8))
                      -->(85,'&self',['Const',40],depth(9))
                  -->(86,'&self',[evalExpr,['Const',40]],depth(7))
                    -->(87,'&self',40,depth(8))
              -->(88,'&self',['Plus',2,40],depth(5))
        -->(89,'&self',[evalExpr,['Plus',2,40]],depth(2))
          -->(90,'&self',[+,2,40],depth(3))
          <--(90,retval(42))
            -->(90,'&self',42,depth(4))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">42
</span>
More Solutions? <span class="ansi35"> l

</span>        <--(89,retval([+,2,40]))
                  <--(86,retval(40))
                    <--(84,retval(['Const',40]))
                    <--(82,retval(['Const',40]))
                  <--(78,retval([mapExpr,[cata,mapExpr,evalExpr],['Const',40]]))
                <--(75,retval([evalExpr,['Const',40]]))
              <--(74,retval([evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',40]]]]]))
                  <--(72,retval([+,0,2]))
                            <--(69,retval(2))
                              <--(67,retval(['Const',2]))
                              <--(65,retval(['Const',2]))
                            <--(61,retval([mapExpr,[cata,mapExpr,evalExpr],['Const',2]]))
                          <--(58,retval([evalExpr,['Const',2]]))
                        <--(57,retval([evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Const',2]]]]]))
                              <--(55,retval(0))
                            <--(54,retval([valueOf,'X']))
                              <--(52,retval(['Var','X']))
                              <--(50,retval(['Var','X']))
                            <--(46,retval([mapExpr,[cata,mapExpr,evalExpr],['Var','X']]))
                          <--(43,retval([evalExpr,['Var','X']]))
                        <--(42,retval([evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Var','X']]]]]))
                      <--(41,retval(['Plus',0,2]))
                    <--(40,retval(['Plus',[[cata,mapExpr,evalExpr],['Fix',['Var','X']]],[[cata,mapExpr,evalExpr],['Fix',['Const',2]]]]))
                    <--(34,retval(['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]))
                  <--(29,retval([mapExpr,[cata,mapExpr,evalExpr],['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]))
                <--(25,retval([evalExpr,['Plus',0,2]]))
              <--(24,retval([evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]]]]))
            <--(23,retval(['Plus',2,40]))
          <--(22,retval(['Plus',[[cata,mapExpr,evalExpr],['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]]],[[cata,mapExpr,evalExpr],['Fix',['Const',40]]]]))
          <--(12,retval(['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]))
        <--(6,retval([mapExpr,[cata,mapExpr,evalExpr],['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]))
      <--(1,retval([evalExpr,['Plus',2,40]]))
    <--(0,retval([evalExpr,[mapExpr,[cata,mapExpr,evalExpr],[unFix,['Fix',['Plus',['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',2]]]],['Fix',['Const',40]]]]]]]))
<span class="ansi33"> $_164802

</span>;; How to generate the structure based on some value, a single step, a co-algebra
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[nTimes,[',',X,['S',['S',N]]]],['Plus',[',',X,['S','Z']],[',',X,['S',N]]])
</span><span class="ansi38-255165000">(= 
  (nTimes 
    (and $X 
      (S 
        (S $N)))) 
  (Plus 
    (and $X 
      (S Z)) 
    (and $X 
      (S $N))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[nTimes,[',',X,['S','Z']]],['Const',X])
</span><span class="ansi38-255165000">(= 
  (nTimes 
    (and $X 
      (S Z))) 
  (Const $X))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[nTimes,[',',_,'Z']],['Const',0])
</span><span class="ansi38-255165000">(= 
  (nTimes 
    (and $_ Z)) 
  (Const 0))
</span>

;; An unfold, with the Functor and co-algebra, applied to some seed value
<span class="ansi38-000068000">!((ana mapExpr nTimes) 
  (and 2 
    (S 
      (S Z))))

</span>    -->(0,'&self',[[ana,mapExpr,nTimes],[',',2,['S',['S','Z']]]],depth(0))
      -->(1,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,[',',2,['S',['S','Z']]]]]],depth(1))
        -->(2,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,[',',2,['S',['S','Z']]]]],depth(2))
          -->(3,'&self',[ana,mapExpr,nTimes],depth(3))
          -->(4,'&self',['S','Z'],depth(3))
          -->(5,'&self',[ana,mapExpr,nTimes],depth(3))
          -->(6,'&self',[nTimes,[',',2,['S',['S','Z']]]],depth(3))
            -->(7,'&self',['Plus',[',',2,['S','Z']],[',',2,['S','Z']]],depth(4))
              -->(8,'&self',[',',2,['S','Z']],depth(5))
                -->(9,'&self',['S','Z'],depth(6))
              <--(8,retval('True'))
              -->(8,'&self',[',',2,['S','Z']],depth(5))
                -->(9,'&self',['S','Z'],depth(6))
              <--(8,retval('True'))
            <--(7,retval(['Plus','True','True']))
              -->(7,'&self',['Plus','True','True'],depth(5))
          -->(8,'&self',[mapExpr,[ana,mapExpr,nTimes],['Plus','True','True']],depth(3))
            -->(9,'&self',['Plus',[[ana,mapExpr,nTimes],'True'],[[ana,mapExpr,nTimes],'True']],depth(4))
              -->(10,'&self',[[ana,mapExpr,nTimes],'True'],depth(5))
                -->(11,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(12,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(13,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(14,'&self',[nTimes,'True'],depth(8))
                    -->(15,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(16,'&self',[nTimes,'True'],depth(8))
              -->(17,'&self',[[ana,mapExpr,nTimes],'True'],depth(5))
                -->(18,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(19,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(20,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(21,'&self',[nTimes,'True'],depth(8))
                    -->(22,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(23,'&self',[nTimes,'True'],depth(8))
              -->(24,'&self',['Plus',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]],depth(5))
                -->(25,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(26,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(27,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(28,'&self',[nTimes,'True'],depth(8))
                    -->(29,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(30,'&self',[nTimes,'True'],depth(8))
                -->(31,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(32,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(33,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(34,'&self',[nTimes,'True'],depth(8))
                    -->(35,'&self',[ana,mapExpr,nTimes],depth(8))
                    -->(36,'&self',[nTimes,'True'],depth(8))
        -->(37,'&self',['Fix',['Plus',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]]],depth(2))
          -->(38,'&self',['Plus',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]],depth(3))
            -->(39,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(4))
              -->(40,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(5))
                -->(41,'&self',[ana,mapExpr,nTimes],depth(6))
                -->(42,'&self',[nTimes,'True'],depth(6))
                -->(43,'&self',[ana,mapExpr,nTimes],depth(6))
                -->(44,'&self',[nTimes,'True'],depth(6))
            -->(45,'&self',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],depth(4))
              -->(46,'&self',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']],depth(5))
                -->(47,'&self',[ana,mapExpr,nTimes],depth(6))
                -->(48,'&self',[nTimes,'True'],depth(6))
                -->(49,'&self',[ana,mapExpr,nTimes],depth(6))
                -->(50,'&self',[nTimes,'True'],depth(6))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">(Fix 
  (Plus 
    (Fix 
      (mapExpr 
        (ana mapExpr nTimes) 
        (nTimes True))) 
    (Fix 
      (mapExpr 
        (ana mapExpr nTimes) 
        (nTimes True)))))
</span>
More Solutions? <span class="ansi35"> l

</span>              <--(17,retval(['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]))
              <--(10,retval(['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]))
            <--(9,retval(['Plus',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]]))
          <--(8,retval(['Plus',[[ana,mapExpr,nTimes],'True'],[[ana,mapExpr,nTimes],'True']]))
          <--(6,retval(['Plus',[',',2,['S','Z']],[',',2,['S','Z']]]))
        <--(2,retval([mapExpr,[ana,mapExpr,nTimes],['Plus','True','True']]))
      <--(1,retval(['Fix',['Plus',['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]],['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,'True']]]]]))
    <--(0,retval(['Fix',[mapExpr,[ana,mapExpr,nTimes],[nTimes,[',',2,['S',['S','Z']]]]]]))
<span class="ansi33"> $_297462

</span>;; Combining both into a "re-fold", starting with a (co-algebra) seed value, ending with a (algebra) result value
<span class="ansi38-000068000">!((hylo mapExpr evalExpr nTimes) 
  (and 3 
    (S 
      (S 
        (S Z)))))

</span>    -->(0,'&self',[[hylo,mapExpr,evalExpr,nTimes],[',',3,['S',['S',['S','Z']]]]],depth(0))
      -->(1,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,[',',3,['S',['S',['S','Z']]]]]]],depth(1))
        -->(2,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(2))
        -->(3,'&self',['S','Z'],depth(2))
        -->(4,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,[',',3,['S',['S',['S','Z']]]]]],depth(2))
          -->(5,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(3))
          -->(6,'&self',['S','Z'],depth(3))
          -->(7,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(3))
          -->(8,'&self',[nTimes,[',',3,['S',['S',['S','Z']]]]],depth(3))
            -->(9,'&self',['Plus',[',',3,['S','Z']],[',',3,['S',['S','Z']]]],depth(4))
              -->(10,'&self',[',',3,['S','Z']],depth(5))
                -->(11,'&self',['S','Z'],depth(6))
              <--(10,retval('True'))
              -->(10,'&self',[',',3,['S',['S','Z']]],depth(5))
                -->(11,'&self',['S',['S','Z']],depth(6))
                  -->(12,'&self',['S','Z'],depth(7))
              <--(10,retval('True'))
            <--(9,retval(['Plus','True','True']))
              -->(9,'&self',['Plus','True','True'],depth(5))
          -->(10,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],['Plus','True','True']],depth(3))
            -->(11,'&self',['Plus',[[hylo,mapExpr,evalExpr,nTimes],'True'],[[hylo,mapExpr,evalExpr,nTimes],'True']],depth(4))
              -->(12,'&self',[[hylo,mapExpr,evalExpr,nTimes],'True'],depth(5))
                -->(13,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(14,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(7))
                  -->(15,'&self',[nTimes,'True'],depth(7))
                  -->(16,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(17,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(18,'&self',[nTimes,'True'],depth(8))
                    -->(19,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(20,'&self',[nTimes,'True'],depth(8))
              -->(21,'&self',[[hylo,mapExpr,evalExpr,nTimes],'True'],depth(5))
                -->(22,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(23,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(7))
                  -->(24,'&self',[nTimes,'True'],depth(7))
                  -->(25,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(26,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(27,'&self',[nTimes,'True'],depth(8))
                    -->(28,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(29,'&self',[nTimes,'True'],depth(8))
              -->(30,'&self',['Plus',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]],depth(5))
                -->(31,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(32,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(7))
                  -->(33,'&self',[nTimes,'True'],depth(7))
                  -->(34,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(35,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(36,'&self',[nTimes,'True'],depth(8))
                    -->(37,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(38,'&self',[nTimes,'True'],depth(8))
                -->(39,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(6))
                  -->(40,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(7))
                  -->(41,'&self',[nTimes,'True'],depth(7))
                  -->(42,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(7))
                    -->(43,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(44,'&self',[nTimes,'True'],depth(8))
                    -->(45,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(8))
                    -->(46,'&self',[nTimes,'True'],depth(8))
        -->(47,'&self',[evalExpr,['Plus',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]]],depth(2))
          -->(48,'&self',[+,[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]],depth(3))
            -->(49,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(4))
              -->(50,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(5))
              -->(51,'&self',[nTimes,'True'],depth(5))
              -->(52,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(5))
                -->(53,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(6))
                -->(54,'&self',[nTimes,'True'],depth(6))
                -->(55,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(6))
                -->(56,'&self',[nTimes,'True'],depth(6))
            -->(57,'&self',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],depth(4))
              -->(58,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(5))
              -->(59,'&self',[nTimes,'True'],depth(5))
              -->(60,'&self',[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']],depth(5))
                -->(61,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(6))
                -->(62,'&self',[nTimes,'True'],depth(6))
                -->(63,'&self',[hylo,mapExpr,evalExpr,nTimes],depth(6))
                -->(64,'&self',[nTimes,'True'],depth(6))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">(+ 
  (evalExpr 
    (mapExpr 
      (hylo mapExpr evalExpr nTimes) 
      (nTimes True))) 
  (evalExpr 
    (mapExpr 
      (hylo mapExpr evalExpr nTimes) 
      (nTimes True))))
</span>
More Solutions? <span class="ansi35"> l

</span>        <--(47,retval([+,[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]]))
              <--(21,retval([evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]))
              <--(12,retval([evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]))
            <--(11,retval(['Plus',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]]))
          <--(10,retval(['Plus',[[hylo,mapExpr,evalExpr,nTimes],'True'],[[hylo,mapExpr,evalExpr,nTimes],'True']]))
          <--(8,retval(['Plus',[',',3,['S','Z']],[',',3,['S',['S','Z']]]]))
        <--(4,retval([mapExpr,[hylo,mapExpr,evalExpr,nTimes],['Plus','True','True']]))
      <--(1,retval([evalExpr,['Plus',[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]],[evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,'True']]]]]))
    <--(0,retval([evalExpr,[mapExpr,[hylo,mapExpr,evalExpr,nTimes],[nTimes,[',',3,['S',['S',['S','Z']]]]]]]))
<span class="ansi33"> $_353958

</span>;; How to evaluate the structure, with access to the original expression (on top of the processed value)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[diff,['Const',_]],['Fix',['Const',0]])
</span><span class="ansi38-255165000">(= 
  (diff 
    (Const $_)) 
  (Fix 
    (Const 0)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[diff,['Var',_]],['Fix',['Const',1]])
</span><span class="ansi38-255165000">(= 
  (diff 
    (Var $_)) 
  (Fix 
    (Const 1)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[diff,['Plus',[',',Dx,X],[',',Dy,Y]]],['Fix',['Plus',Dx,Dy]])
</span><span class="ansi38-255165000">(= 
  (diff 
    (Plus 
      (and $Dx $X) 
      (and $Dy $Y))) 
  (Fix 
    (Plus $Dx $Dy)))
</span>

;; (= (diff (Times (, $dx $x) (, $dy $y))) (Fix (Plus (Fix (Times $dx $y)) (Fix (Times $dy $x)))))
<span class="ansi38-000068000">!((para mapExpr diff) 
  (Fix 
    (Plus 
      (Fix 
        (Var X)) 
      (Fix 
        (Const 1)))))

</span>    -->(0,'&self',[[para,mapExpr,diff],['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]],depth(0))
      -->(1,'&self',[diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]]]],depth(1))
        -->(2,'&self',[para_pair,mapExpr,diff],depth(2))
        -->(3,'&self',['Var','X'],depth(2))
        -->(4,'&self',['Const',1],depth(2))
        -->(5,'&self',[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]]],depth(2))
          -->(6,'&self',[para_pair,mapExpr,diff],depth(3))
          -->(7,'&self',['Var','X'],depth(3))
          -->(8,'&self',['Const',1],depth(3))
          -->(9,'&self',[para_pair,mapExpr,diff],depth(3))
          -->(10,'&self',[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]],depth(3))
            -->(11,'&self',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]],depth(4))
              -->(12,'&self',['Fix',['Var','X']],depth(5))
                -->(13,'&self',['Var','X'],depth(6))
              -->(14,'&self',['Fix',['Const',1]],depth(5))
                -->(15,'&self',['Const',1],depth(6))
          -->(16,'&self',[mapExpr,[para_pair,mapExpr,diff],['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]],depth(3))
            -->(17,'&self',['Plus',[[para_pair,mapExpr,diff],['Fix',['Var','X']]],[[para_pair,mapExpr,diff],['Fix',['Const',1]]]],depth(4))
              -->(18,'&self',[[para_pair,mapExpr,diff],['Fix',['Var','X']]],depth(5))
                -->(19,'&self',[',',[[para,mapExpr,diff],['Fix',['Var','X']]],['Fix',['Var','X']]],depth(6))
                  -->(20,'&self',[[para,mapExpr,diff],['Fix',['Var','X']]],depth(7))
                    -->(21,'&self',[diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Var','X']]]]],depth(8))
                      -->(22,'&self',[para_pair,mapExpr,diff],depth(9))
                      -->(23,'&self',['Var','X'],depth(9))
                      -->(24,'&self',[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Var','X']]]],depth(9))
                        -->(25,'&self',[para_pair,mapExpr,diff],depth(10))
                        -->(26,'&self',['Var','X'],depth(10))
                        -->(27,'&self',[para_pair,mapExpr,diff],depth(10))
                        -->(28,'&self',[unFix,['Fix',['Var','X']]],depth(10))
                          -->(29,'&self',['Var','X'],depth(11))
                        -->(30,'&self',[mapExpr,[para_pair,mapExpr,diff],['Var','X']],depth(10))
                          -->(31,'&self',['Var','X'],depth(11))
                      -->(32,'&self',[diff,['Var','X']],depth(9))
                        -->(33,'&self',['Fix',['Const',1]],depth(10))
                          -->(34,'&self',['Const',1],depth(11))
                  -->(35,'&self',['Fix',['Var','X']],depth(7))
                    -->(36,'&self',['Var','X'],depth(8))
                      <--(32,retval(['Fix',['Const',1]]))
                        <--(30,retval(['Var','X']))
                        <--(28,retval(['Var','X']))
                      <--(24,retval([mapExpr,[para_pair,mapExpr,diff],['Var','X']]))
                    <--(21,retval([diff,['Var','X']]))
                  <--(20,retval([diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Var','X']]]]]))
                <--(19,retval('True'))
              -->(19,'&self',[[para_pair,mapExpr,diff],['Fix',['Const',1]]],depth(5))
                -->(20,'&self',[',',[[para,mapExpr,diff],['Fix',['Const',1]]],['Fix',['Const',1]]],depth(6))
                  -->(21,'&self',[[para,mapExpr,diff],['Fix',['Const',1]]],depth(7))
                    -->(22,'&self',[diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Const',1]]]]],depth(8))
                      -->(23,'&self',[para_pair,mapExpr,diff],depth(9))
                      -->(24,'&self',['Const',1],depth(9))
                      -->(25,'&self',[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Const',1]]]],depth(9))
                        -->(26,'&self',[para_pair,mapExpr,diff],depth(10))
                        -->(27,'&self',['Const',1],depth(10))
                        -->(28,'&self',[para_pair,mapExpr,diff],depth(10))
                        -->(29,'&self',[unFix,['Fix',['Const',1]]],depth(10))
                          -->(30,'&self',['Const',1],depth(11))
                        -->(31,'&self',[mapExpr,[para_pair,mapExpr,diff],['Const',1]],depth(10))
                          -->(32,'&self',['Const',1],depth(11))
                      -->(33,'&self',[diff,['Const',1]],depth(9))
                        -->(34,'&self',['Fix',['Const',0]],depth(10))
                          -->(35,'&self',['Const',0],depth(11))
                  -->(36,'&self',['Fix',['Const',1]],depth(7))
                    -->(37,'&self',['Const',1],depth(8))
                      <--(33,retval(['Fix',['Const',0]]))
                        <--(31,retval(['Const',1]))
                        <--(29,retval(['Const',1]))
                      <--(25,retval([mapExpr,[para_pair,mapExpr,diff],['Const',1]]))
                    <--(22,retval([diff,['Const',1]]))
                  <--(21,retval([diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Const',1]]]]]))
                <--(20,retval('True'))
              -->(20,'&self',['Plus','True','True'],depth(5))
        -->(21,'&self',[diff,['Plus','True','True']],depth(2))
          -->(22,'&self',['Plus','True','True'],depth(3))
          -->(23,'&self',['Plus','True','True'],depth(3))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">(diff 
  (Plus True True))
</span>
More Solutions? <span class="ansi35"> l

</span>              <--(19,retval([',',[[para,mapExpr,diff],['Fix',['Const',1]]],['Fix',['Const',1]]]))
              <--(18,retval([',',[[para,mapExpr,diff],['Fix',['Var','X']]],['Fix',['Var','X']]]))
            <--(17,retval(['Plus','True','True']))
          <--(16,retval(['Plus',[[para_pair,mapExpr,diff],['Fix',['Var','X']]],[[para_pair,mapExpr,diff],['Fix',['Const',1]]]]))
          <--(10,retval(['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]))
        <--(5,retval([mapExpr,[para_pair,mapExpr,diff],['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]))
      <--(1,retval([diff,['Plus','True','True']]))
    <--(0,retval([diff,[mapExpr,[para_pair,mapExpr,diff],[unFix,['Fix',['Plus',['Fix',['Var','X']],['Fix',['Const',1]]]]]]]))
<span class="ansi33"> $_467926

</span>;; Unfold shorthand definitions like "1p" for "1 + X" into a Bind-Pure tree of expressions
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[expand,[1,p,X]],['Plus',['Bind',['Const',1]],['Pure',X]])
</span><span class="ansi38-255165000">(= 
  (expand 
    (1 p $X)) 
  (Plus 
    (Bind 
      (Const 1)) 
    (Pure $X)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[expand,[2,t,X]],['Plus',['Pure',X],['Pure',X]])
</span><span class="ansi38-255165000">(= 
  (expand 
    (2 t $X)) 
  (Plus 
    (Pure $X) 
    (Pure $X)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',=,[expand,['Fix',X]],X)
</span><span class="ansi38-255165000">(= 
  (expand 
    (Fix $X)) $X)
</span>

;; Everything this can process
<span class="ansi38-000068000">!(match &self 
  (= 
    (expand $X) $Y) $X)

</span>    -->(0,'&self',[match,'&self',[=,[expand,_38344],_38628],_38344],depth(0))
      -->(1,'&self',[1,p,_43622],depth(1))
      -->(2,'&self',[1,p,_43622],depth(1))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">(1 p $_43622)
</span><span class="ansi32">
( (=  Y 
    (Plus 
      (Bind 
        (Const 1)) 
      (Pure $_43622))) 
  (=  X 
    (1 p $_43622)))
</span>

More Solutions? <span class="ansi35"> l

</span>      -->(3,'&self',[2,t,_49394],depth(1))
      -->(4,'&self',[2,t,_49394],depth(1))
<span class="ansi33">NDet Result(2): </span><span class="ansi33">(2 t $_49394)
</span><span class="ansi32">
( (=  Y 
    (Plus 
      (Pure $_49394) 
      (Pure $_49394))) 
  (=  X 
    (2 t $_49394)))
</span>

      -->(5,'&self',['Fix',_38628],depth(1))
    <--(0,retval(['Fix',_54666]))
      -->(0,'&self',['Fix',_38628],depth(1))
<span class="ansi33">Last Result(3): </span><span class="ansi33">(Fix $_38628)
</span><span class="ansi32">
( (=  Y $_38628) 
  (=  X 
    (Fix $_38628)))
</span>

;; Expand the definition
<span class="ansi38-000068000">!((futu mapExpr expand) 
  (2 t 
    (1 p 
      (Fix 
        (Var X)))))

</span>    -->(1,'&self',[[futu,mapExpr,expand],[2,t,[1,p,['Fix',['Var','X']]]]],depth(0))
      -->(2,'&self',['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[2,t,[1,p,['Fix',['Var','X']]]]]]],depth(1))
        -->(3,'&self',[mapExpr,[futu_picking,mapExpr,expand],[expand,[2,t,[1,p,['Fix',['Var','X']]]]]],depth(2))
          -->(4,'&self',[futu_picking,mapExpr,expand],depth(3))
          -->(5,'&self',['Var','X'],depth(3))
          -->(6,'&self',[futu_picking,mapExpr,expand],depth(3))
          -->(7,'&self',[expand,[2,t,[1,p,['Fix',['Var','X']]]]],depth(3))
            -->(8,'&self',['Plus',['Pure',[1,p,['Fix',['Var','X']]]],['Pure',[1,p,['Fix',['Var','X']]]]],depth(4))
              -->(9,'&self',['Pure',[1,p,['Fix',['Var','X']]]],depth(5))
                -->(10,'&self',[1,p,['Fix',['Var','X']]],depth(6))
                  -->(11,'&self',['Fix',['Var','X']],depth(7))
                    -->(12,'&self',['Var','X'],depth(8))
              -->(13,'&self',['Pure',[1,p,['Fix',['Var','X']]]],depth(5))
                -->(14,'&self',[1,p,['Fix',['Var','X']]],depth(6))
                  -->(15,'&self',['Fix',['Var','X']],depth(7))
                    -->(16,'&self',['Var','X'],depth(8))
          -->(17,'&self',[mapExpr,[futu_picking,mapExpr,expand],['Plus',['Pure',[1,p,['Fix',['Var','X']]]],['Pure',[1,p,['Fix',['Var','X']]]]]],depth(3))
            -->(18,'&self',['Plus',[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]],[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]]],depth(4))
              -->(19,'&self',[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]],depth(5))
                -->(20,'&self',[[futu,mapExpr,expand],[1,p,['Fix',['Var','X']]]],depth(6))
                  -->(21,'&self',['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]]],depth(7))
                    -->(22,'&self',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]],depth(8))
                      -->(23,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(24,'&self',['Var','X'],depth(9))
                      -->(25,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(26,'&self',[expand,[1,p,['Fix',['Var','X']]]],depth(9))
                        -->(27,'&self',['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]],depth(10))
                          -->(28,'&self',['Bind',['Const',1]],depth(11))
                            -->(29,'&self',['Const',1],depth(12))
                          -->(30,'&self',['Pure',['Fix',['Var','X']]],depth(11))
                            -->(31,'&self',['Fix',['Var','X']],depth(12))
                              -->(32,'&self',['Var','X'],depth(13))
                      -->(33,'&self',[mapExpr,[futu_picking,mapExpr,expand],['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]],depth(9))
                        -->(34,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]]],depth(10))
                          -->(35,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(11))
                            -->(36,'&self',['Const',1],depth(12))
                            -->(37,'&self',[futu_picking,mapExpr,expand],depth(12))
                            -->(38,'&self',['Bind',['Const',1]],depth(12))
                              -->(39,'&self',['Const',1],depth(13))
                          -->(40,'&self',[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]],depth(11))
                            -->(41,'&self',[[futu,mapExpr,expand],['Fix',['Var','X']]],depth(12))
                              -->(42,'&self',['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]]],depth(13))
                                -->(43,'&self',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]],depth(14))
                                  -->(44,'&self',[futu_picking,mapExpr,expand],depth(15))
                                  -->(45,'&self',['Var','X'],depth(15))
                                  -->(46,'&self',[futu_picking,mapExpr,expand],depth(15))
                                  -->(47,'&self',[expand,['Fix',['Var','X']]],depth(15))
                                    -->(48,'&self',['Var','X'],depth(16))
                                  -->(49,'&self',[mapExpr,[futu_picking,mapExpr,expand],['Var','X']],depth(15))
                                    -->(50,'&self',['Var','X'],depth(16))
                                -->(51,'&self',['Fix',['Var','X']],depth(14))
                                  -->(52,'&self',['Var','X'],depth(15))
                          -->(53,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(11))
                            -->(54,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(12))
                              -->(55,'&self',['Const',1],depth(13))
                              -->(56,'&self',[futu_picking,mapExpr,expand],depth(13))
                              -->(57,'&self',['Bind',['Const',1]],depth(13))
                                -->(58,'&self',['Const',1],depth(14))
                            -->(59,'&self',['Fix',['Var','X']],depth(12))
                              -->(60,'&self',['Var','X'],depth(13))
                    -->(61,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(8))
                      -->(62,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(9))
                        -->(63,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(10))
                          -->(64,'&self',['Const',1],depth(11))
                          -->(65,'&self',[futu_picking,mapExpr,expand],depth(11))
                          -->(66,'&self',['Bind',['Const',1]],depth(11))
                            -->(67,'&self',['Const',1],depth(12))
                        -->(68,'&self',['Fix',['Var','X']],depth(10))
                          -->(69,'&self',['Var','X'],depth(11))
              -->(70,'&self',[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]],depth(5))
                -->(71,'&self',[[futu,mapExpr,expand],[1,p,['Fix',['Var','X']]]],depth(6))
                  -->(72,'&self',['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]]],depth(7))
                    -->(73,'&self',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]],depth(8))
                      -->(74,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(75,'&self',['Var','X'],depth(9))
                      -->(76,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(77,'&self',[expand,[1,p,['Fix',['Var','X']]]],depth(9))
                        -->(78,'&self',['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]],depth(10))
                          -->(79,'&self',['Bind',['Const',1]],depth(11))
                            -->(80,'&self',['Const',1],depth(12))
                          -->(81,'&self',['Pure',['Fix',['Var','X']]],depth(11))
                            -->(82,'&self',['Fix',['Var','X']],depth(12))
                              -->(83,'&self',['Var','X'],depth(13))
                      -->(84,'&self',[mapExpr,[futu_picking,mapExpr,expand],['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]],depth(9))
                        -->(85,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]]],depth(10))
                          -->(86,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(11))
                            -->(87,'&self',['Const',1],depth(12))
                            -->(88,'&self',[futu_picking,mapExpr,expand],depth(12))
                            -->(89,'&self',['Bind',['Const',1]],depth(12))
                              -->(90,'&self',['Const',1],depth(13))
                          -->(91,'&self',[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]],depth(11))
                            -->(92,'&self',[[futu,mapExpr,expand],['Fix',['Var','X']]],depth(12))
                              -->(93,'&self',['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]]],depth(13))
                                -->(94,'&self',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]],depth(14))
                                  -->(95,'&self',[futu_picking,mapExpr,expand],depth(15))
                                  -->(96,'&self',['Var','X'],depth(15))
                                  -->(97,'&self',[futu_picking,mapExpr,expand],depth(15))
                                  -->(98,'&self',[expand,['Fix',['Var','X']]],depth(15))
                                    -->(99,'&self',['Var','X'],depth(16))
                                  -->(100,'&self',[mapExpr,[futu_picking,mapExpr,expand],['Var','X']],depth(15))
                                    -->(101,'&self',['Var','X'],depth(16))
                                -->(102,'&self',['Fix',['Var','X']],depth(14))
                                  -->(103,'&self',['Var','X'],depth(15))
                          -->(104,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(11))
                            -->(105,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(12))
                              -->(106,'&self',['Const',1],depth(13))
                              -->(107,'&self',[futu_picking,mapExpr,expand],depth(13))
                              -->(108,'&self',['Bind',['Const',1]],depth(13))
                                -->(109,'&self',['Const',1],depth(14))
                            -->(110,'&self',['Fix',['Var','X']],depth(12))
                              -->(111,'&self',['Var','X'],depth(13))
                    -->(112,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(8))
                      -->(113,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(9))
                        -->(114,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(10))
                          -->(115,'&self',['Const',1],depth(11))
                          -->(116,'&self',[futu_picking,mapExpr,expand],depth(11))
                          -->(117,'&self',['Bind',['Const',1]],depth(11))
                            -->(118,'&self',['Const',1],depth(12))
                        -->(119,'&self',['Fix',['Var','X']],depth(10))
                          -->(120,'&self',['Var','X'],depth(11))
              -->(121,'&self',['Plus',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]],depth(5))
                -->(122,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(6))
                  -->(123,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(7))
                    -->(124,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(8))
                      -->(125,'&self',['Const',1],depth(9))
                      -->(126,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(127,'&self',['Bind',['Const',1]],depth(9))
                        -->(128,'&self',['Const',1],depth(10))
                    -->(129,'&self',['Fix',['Var','X']],depth(8))
                      -->(130,'&self',['Var','X'],depth(9))
                -->(131,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(6))
                  -->(132,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(7))
                    -->(133,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(8))
                      -->(134,'&self',['Const',1],depth(9))
                      -->(135,'&self',[futu_picking,mapExpr,expand],depth(9))
                      -->(136,'&self',['Bind',['Const',1]],depth(9))
                        -->(137,'&self',['Const',1],depth(10))
                    -->(138,'&self',['Fix',['Var','X']],depth(8))
                      -->(139,'&self',['Var','X'],depth(9))
        -->(140,'&self',['Fix',['Plus',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]]],depth(2))
          -->(141,'&self',['Plus',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]],depth(3))
            -->(142,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(4))
              -->(143,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(5))
                -->(144,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(6))
                  -->(145,'&self',['Const',1],depth(7))
                  -->(146,'&self',[futu_picking,mapExpr,expand],depth(7))
                  -->(147,'&self',['Bind',['Const',1]],depth(7))
                    -->(148,'&self',['Const',1],depth(8))
                -->(149,'&self',['Fix',['Var','X']],depth(6))
                  -->(150,'&self',['Var','X'],depth(7))
            -->(151,'&self',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],depth(4))
              -->(152,'&self',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]],depth(5))
                -->(153,'&self',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],depth(6))
                  -->(154,'&self',['Const',1],depth(7))
                  -->(155,'&self',[futu_picking,mapExpr,expand],depth(7))
                  -->(156,'&self',['Bind',['Const',1]],depth(7))
                    -->(157,'&self',['Const',1],depth(8))
                -->(158,'&self',['Fix',['Var','X']],depth(6))
                  -->(159,'&self',['Var','X'],depth(7))
<span class="ansi33">NDet Result(1): </span><span class="ansi33">(Fix 
  (Plus 
    (Fix 
      (Plus 
        ( (futu_picking mapExpr expand) 
          (Bind 
            (Const 1))) 
        (Fix 
          (Var X)))) 
    (Fix 
      (Plus 
        ( (futu_picking mapExpr expand) 
          (Bind 
            (Const 1))) 
        (Fix 
          (Var X))))))
</span>
More Solutions? <span class="ansi35"> l

</span>                                  <--(100,retval(['Var','X']))
                                  <--(98,retval(['Var','X']))
                                <--(94,retval([mapExpr,[futu_picking,mapExpr,expand],['Var','X']]))
                              <--(93,retval(['Fix',['Var','X']]))
                            <--(92,retval(['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]]]))
                          <--(91,retval([[futu,mapExpr,expand],['Fix',['Var','X']]]))
                        <--(85,retval(['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]))
                      <--(84,retval(['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]]]))
                      <--(77,retval(['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]))
                    <--(73,retval([mapExpr,[futu_picking,mapExpr,expand],['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]]))
                  <--(72,retval(['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]))
                <--(71,retval(['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]]]))
              <--(70,retval([[futu,mapExpr,expand],[1,p,['Fix',['Var','X']]]]))
                                  <--(49,retval(['Var','X']))
                                  <--(47,retval(['Var','X']))
                                <--(43,retval([mapExpr,[futu_picking,mapExpr,expand],['Var','X']]))
                              <--(42,retval(['Fix',['Var','X']]))
                            <--(41,retval(['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,['Fix',['Var','X']]]]]))
                          <--(40,retval([[futu,mapExpr,expand],['Fix',['Var','X']]]))
                        <--(34,retval(['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]))
                      <--(33,retval(['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],[[futu_picking,mapExpr,expand],['Pure',['Fix',['Var','X']]]]]))
                      <--(26,retval(['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]))
                    <--(22,retval([mapExpr,[futu_picking,mapExpr,expand],['Plus',['Bind',['Const',1]],['Pure',['Fix',['Var','X']]]]]))
                  <--(21,retval(['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]))
                <--(20,retval(['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[1,p,['Fix',['Var','X']]]]]]))
              <--(19,retval([[futu,mapExpr,expand],[1,p,['Fix',['Var','X']]]]))
            <--(18,retval(['Plus',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]]))
          <--(17,retval(['Plus',[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]],[[futu_picking,mapExpr,expand],['Pure',[1,p,['Fix',['Var','X']]]]]]))
          <--(7,retval(['Plus',['Pure',[1,p,['Fix',['Var','X']]]],['Pure',[1,p,['Fix',['Var','X']]]]]))
        <--(3,retval([mapExpr,[futu_picking,mapExpr,expand],['Plus',['Pure',[1,p,['Fix',['Var','X']]]],['Pure',[1,p,['Fix',['Var','X']]]]]]))
      <--(2,retval(['Fix',['Plus',['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]],['Fix',['Plus',[[futu_picking,mapExpr,expand],['Bind',['Const',1]]],['Fix',['Var','X']]]]]]))
    <--(1,retval(['Fix',[mapExpr,[futu_picking,mapExpr,expand],[expand,[2,t,[1,p,['Fix',['Var','X']]]]]]]))
<span class="ansi33"> $_63770

</span><span class="ansi32">% 632,821 inferences, 0.348 CPU in 0.348 seconds (100% CPU, 1818431 Lips)
</span> (= "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/old-compat/recursion-schemes/src/examples/expression.html" )

</pre>
</body>

</html>
