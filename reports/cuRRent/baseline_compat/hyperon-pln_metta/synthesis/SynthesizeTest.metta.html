<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta")
%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta:1 
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta')
:- dynamic file_answers/3.


;;; Setting up a simple knowledge base and rule base for demoing reasoning in MeTTa.
;;; Import modules
<span class="ansi38-013099040">!(import! &self Synthesize.metta)

</span><span class="ansi38-250144246">; !(import! &self Synthesize.metta)
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','Synthesize.metta'],OUT).

</span>      -->(0,eval('&self',['import!','&self','Synthesize.metta'],RET),depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/Synthesize.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/Synthesize.metta')
;;; Import modules
<span class="ansi38-013099040">!(import! &self "../common/Num.metta")

</span><span class="ansi38-250144246">; !(import! &self "../common/Num.metta")
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','../common/Num.metta'],OUT).

</span>      -->(1,eval('&self',['import!','&self','../common/Num.metta'],RET),depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/common/Num.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/common/Num.metta')
;;; !(import! &self Unify.metta)
;;; Enumerate all programs up to a given depth that are consistent with
;;; the query, using the given axiom non-deterministic functions and rules.
;;;
;;; The arguments are:
;;;
;;; $query: an Atom under the form (: TERM TYPE).  The atom may contain
;;;         free variables within TERM and TYPE to form various sort of
;;;         queries, such as:
;;;         1. Backward chaining: (: $term (Inheritance $x Mammal))
;;;         2. Forward chaining: (: ($rule $premise AXIOM) $type)
;;;         3. Mixed chaining: (: ($rule $premise AXIOM) (Inheritance $x Mammal))
;;;         4. Type checking: (: TERM TYPE)
;;;         5. Type inference: (: TERM $type)
;;;
;;; $kb: a nullary function to axiom, to non-deterministically pick up
;;;      an axiom.  An axiom is an Atom of the form (: TERM TYPE).
;;;
;;; $rb: a nullary function to rule, to non-deterministically pick up a
;;;      rule.  A rule is a function mapping premises to conclusion,
;;;      where premises and conclusion have the form (: TERM TYPE).
;;;
;;; $depth: a Nat representing the maximum depth of the generated
;;;         programs.
;;;
;;; TODO: recurse over curried rules instead of duplicating code over
;;; tuples.
;;; Collection of functions operating on numbers
;;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[max,X,Y],[if,[>,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span>

;;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[min,X,Y],[if,[<,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span>

;;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[clamp,X,L,U],[max,L,[min,U,X]]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span>

;;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[abs,X],[if,[<,X,0],[*,-1,X],X]])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span>

;;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[<=,X,Y],[or,[<,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[>=,X,Y],[or,[>,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span>

;;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon]])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span>

;;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,'Z'],0])
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,['S',K]],[+,1,[fromNat,K]]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

;;; Define a generic less than operator, â©», for Nat.  < cannot be used
;;; because it is a built-in, its type is hardwired and cannot be
;;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',_,'Z'],'False'])
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»','Z',['S',_]],'True'])
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',['S',X],['S',Y]],['â©»',X,Y]])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span>

;;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',X,Y],[<,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span>

;;; Return the ceiling of a non negative number.  If the number is
;;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[ceil,N],[fromNat,[fromNumber,N]]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span>

;;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['number->bool',X],[<,0,X]])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span>

;;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','False'],0])
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','True'],1])
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span>

;;; Define a less than type.  Note that it is purposefully different
;;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;;; are proofs that x â©» y == True.  For now â is only axiomatized for
;;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,T,T,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $T $T Type))
</span>

;;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span>

;;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span>

      <--(1,retval('Empty'))
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,synthesize,[->,'Atom',[->,'Atom'],[->,'Atom'],'Nat','Atom']])
</span><span class="ansi38-255165000">  (: synthesize 
    (-> Atom 
      (-> Atom) 
      (-> Atom) Nat Atom))
</span>

;;; Nullary rule (axiom)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,Depth],[let,Query,[Kb],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb $Depth) 
    (let $Query 
      ($Kb) $Query))
</span>

;;; Unary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise,Conclusion]],[Rb]],[[:,[Ructor,Proof],Conclusion],Query],[[:,Proof,Premise],[synthesize,[:,Proof,Premise],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof) $Conclusion) $Query) 
        ( (: $Proof $Premise) 
          (synthesize 
            (: $Proof $Premise) $Kb $Rb $K))) $Query))
</span>

;;; Binary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K))) $Query))
</span>

;;; Trinary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K))) $Query))
</span>

;;; Quaternary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Premise4,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3,Proof4],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]],[[:,Proof4,Premise4],[synthesize,[:,Proof4,Premise4],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Premise4 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3 $Proof4) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K)) 
        ( (: $Proof4 $Premise4) 
          (synthesize 
            (: $Proof4 $Premise4) $Kb $Rb $K))) $Query))
</span>

;;; Quintenary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Premise4,Premise5,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3,Proof4,Proof5],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]],[[:,Proof4,Premise4],[synthesize,[:,Proof4,Premise4],Kb,Rb,K]],[[:,Proof5,Premise5],[synthesize,[:,Proof5,Premise5],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Premise4 $Premise5 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3 $Proof4 $Proof5) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K)) 
        ( (: $Proof4 $Premise4) 
          (synthesize 
            (: $Proof4 $Premise4) $Kb $Rb $K)) 
        ( (: $Proof5 $Premise5) 
          (synthesize 
            (: $Proof5 $Premise5) $Kb $Rb $K))) $Query))
</span>

      <--(0,retval('Empty'))
Last Result(1): <span class="ansi33">Empty

</span><span class="ansi38-013099040">!(import! &self "../common/Record.metta")

</span><span class="ansi38-250144246">; !(import! &self "../common/Record.metta")
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','../common/Record.metta'],OUT).

</span>      -->(0,eval('&self',['import!','&self','../common/Record.metta'],RET),depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/common/Record.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/common/Record.metta')
;;; Knowledge base
;;; Given a function call, produce records of that function call.
;;; There can be multiple records with only one call due to the
;;; non-determinism of MeTTa.  Each record is represented by (⊷ f x y)
;;; which can be read as
;;;
;;; "under f, the image of x is y"
;;;
;;; It was chosen because it is described as IMAGE OF in UTF-8.  It is
;;; the MeTTa equivalent of ExecutionLink in Atomese.  The character ⊷
;;; has description: IMAGE OF, hexadecimal code: 0x22B7, unicode-math
;;; code: \imageof and latex code: \multimapdotbothB.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg]],['â\x8A\·',F,Arg,[F,Arg]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg)) 
    (â· $F $Arg 
      ($F $Arg)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2]],['â\x8A\·',F,[Arg1,Arg2],[F,Arg1,Arg2]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2)) 
    (â· $F 
      ($Arg1 $Arg2) 
      ($F $Arg1 $Arg2)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2,Arg3]],['â\x8A\·',F,[Arg1,Arg2,Arg3],[F,Arg1,Arg2,Arg3]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2 $Arg3)) 
    (â· $F 
      ($Arg1 $Arg2 $Arg3) 
      ($F $Arg1 $Arg2 $Arg3)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2,Arg3,Arg4]],['â\x8A\·',F,[Arg1,Arg2,Arg3,Arg4],[F,Arg1,Arg2,Arg3,Arg4]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2 $Arg3 $Arg4)) 
    (â· $F 
      ($Arg1 $Arg2 $Arg3 $Arg4) 
      ($F $Arg1 $Arg2 $Arg3 $Arg4)))
</span>

      <--(0,retval('Empty'))
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,kb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: kb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[kb],[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]])
</span><span class="ansi38-255165000">  (= 
    (kb) 
    (superpose 
      ( (: f 
          (-> Number String)) 
        (: g 
          (-> String Bool)) 
        (: h 
          (-> Bool Number)) 
        (: i 
          (-> String Number Bool)))))
</span>

;;; Rule base
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,rb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: rb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[rb],[superpose,[[:,->,[->,B,C],[->,A,B],[->,A,C]],[:,.:,[->,[->,C,D],[->,A,B,C],[->,A,B,D]]]]]])
</span><span class="ansi38-255165000">  (= 
    (rb) 
    (superpose 
      ( (: -> 
          (-> $B $C) 
          (-> $A $B) 
          (-> $A $C)) 
        (: .: 
          (-> 
            (-> $C $D) 
            (-> $A $B $C) 
            (-> $A $B $D))))))
</span>

;; Function composition
;; Blackbird (generalized composition)
;;; Test program synthesizer
;; Query for any function composition of depth 0.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb Z))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,'Z']],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_285108,_285410],kb,rb,'Z']],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_285108,_285410],kb,rb,'Z'],[synthesize,[:,_285108,_285410],kb,rb,'Z']],RET),depth(2))
            -->(2,eval('&self',[[:,_285108,_285410],kb,rb,'Z'],RET),depth(4))
            -->(3,eval('&self',[synthesize,[:,_285108,_285410],kb,rb,'Z'],RET),depth(4))
              -->(4,eval('&self',[let,[:,_285108,_285410],[kb],[:,_285108,_285410]],RET),depth(5))
                  -->(5,eval('&self',[kb],RET),depth(7))
                    -->(6,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(7,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(8,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
              -->(9,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
            -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
          -->(11,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(3))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb Z) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>          -->(12,eval('&self',['â\x8A\·',synthesize,[[:,g,[->,'String','Bool']],kb,rb,'Z'],[:,g,[->,'String','Bool']]],RET),depth(3))
              -->(13,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(5))
              -->(14,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(5))
            -->(15,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(4))
          -->(16,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(3))
NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb Z) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>          -->(17,eval('&self',['â\x8A\·',synthesize,[[:,h,[->,'Bool','Number']],kb,rb,'Z'],[:,h,[->,'Bool','Number']]],RET),depth(3))
              -->(18,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(5))
              -->(19,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(5))
            -->(20,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(4))
          -->(21,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(3))
NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb Z) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>                    <--(6,retval([:,i,[->,'String','Number','Bool']]))
          -->(22,eval('&self',['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],[:,i,[->,'String','Number','Bool']]],RET),depth(3))
              -->(23,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(5))
              -->(24,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(5))
            -->(25,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(4))
          -->(26,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(3))
NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb Z) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span>                  <--(5,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(4,retval([:,i,[->,'String','Number','Bool']]))
            <--(3,retval([let,[:,_3490,_3496],[kb],[:,_3490,_3496]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],[:,i,[->,'String','Number','Bool']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3056,_3062],kb,rb,'Z'],[synthesize,[:,_3056,_3062],kb,rb,'Z']]))
;; (: f (-> Number String)), (: g (-> String Bool)), (: h (-> Bool Number)), (: i (-> String Number Bool))
;; Query for functions from Number to String at depth 0.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','String']],kb,rb,'Z']],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_95950,[->,'Number','String']],kb,rb,'Z']],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_95950,[->,'Number','String']],kb,rb,'Z'],[synthesize,[:,_95950,[->,'Number','String']],kb,rb,'Z']],RET),depth(2))
            -->(2,eval('&self',[[:,_95950,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
            -->(3,eval('&self',[synthesize,[:,_95950,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
              -->(4,eval('&self',[let,[:,_95950,[->,'Number','String']],[kb],[:,_95950,[->,'Number','String']]],RET),depth(5))
                  -->(5,eval('&self',[kb],RET),depth(7))
                    -->(6,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(7,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(8,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
              -->(9,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
            -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
          -->(11,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(3))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb Z) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Term = f


</span>                    <--(6,retval([:,i,[->,'String','Number','Bool']]))
                  <--(5,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(4,retval([:,f,[->,'Number','String']]))
            <--(3,retval([let,[:,_3548,[->,'Number','String']],[kb],[:,_3548,[->,'Number','String']]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3078,[->,'Number','String']],kb,rb,'Z'],[synthesize,[:,_3078,[->,'Number','String']],kb,rb,'Z']]))
;; (: f (-> Number String))
;; Query for functions of depth 1, from String and Number to Number.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'String','Number','Number']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_257258,[->,'String','Number','Number']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_257258,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_257258,[->,'String','Number','Number']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_257258,[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_257258,[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_257258,[->,'String','Number','Number']],[kb],[:,_257258,[->,'String','Number','Number']]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval(fail))
              -->(9,eval('&self',['let*',[[[:,_416728,[->,_416746,_416752]],[rb]],[[:,[_416728,_416800],_416752],[:,_5124,[->,'String','Number','Number']]],[[:,_416800,_416746],[synthesize,[:,_416800,_416746],kb,rb,'Z']]],[:,_5124,[->,'String','Number','Number']]],RET),depth(5))
                  -->(10,eval('&self',[rb],RET),depth(7))
                  <--(10,retval([superpose,[[:,->,[->,_419100,_419106],[->,_419124,_419100],[->,_419124,_419106]],[:,.:,[->,[->,_419106,_419208],[->,_419124,_419100,_419106],[->,_419124,_419100,_419208]]]]]))
                    -->(11,eval('&self',[superpose,[[:,->,[->,_418842,_418848],[->,_418866,_418842],[->,_418866,_418848]],[:,.:,[->,[->,_418848,_418950],[->,_418866,_418842,_418848],[->,_418866,_418842,_418950]]]]],RET),depth(8))
                        -->(12,eval('&self',[:,->,[->,_418842,_418848],[->,_418866,_418842],[->,_418866,_418848]],RET),depth(10))
                      -->(13,eval('&self',[:,->,[->,_418842,_418848],[->,_418866,_418842],[->,_418866,_418848]],RET),depth(9))
                    <--(11,retval([:,.:,[->,[->,_144752,_144758],[->,_144776,_144782,_144752],[->,_144776,_144782,_144758]]]))
              <--(9,retval(fail))
              -->(14,eval('&self',['let*',[[[:,_263002,[->,_263020,_263026,_263032]],[rb]],[[:,[_263002,_263080,_263086],_263032],[:,_1966,[->,'String','Number','Number']]],[[:,_263080,_263020],[synthesize,[:,_263080,_263020],kb,rb,'Z']],[[:,_263086,_263026],[synthesize,[:,_263086,_263026],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(15,eval('&self',[rb],RET),depth(7))
                  <--(15,retval([superpose,[[:,->,[->,_265566,_265572],[->,_265590,_265566],[->,_265590,_265572]],[:,.:,[->,[->,_265572,_265674],[->,_265590,_265566,_265572],[->,_265590,_265566,_265674]]]]]))
                    -->(16,eval('&self',[superpose,[[:,->,[->,_265308,_265314],[->,_265332,_265308],[->,_265332,_265314]],[:,.:,[->,[->,_265314,_265416],[->,_265332,_265308,_265314],[->,_265332,_265308,_265416]]]]],RET),depth(8))
                        -->(17,eval('&self',[:,->,[->,_265308,_265314],[->,_265332,_265308],[->,_265332,_265314]],RET),depth(10))
                      -->(18,eval('&self',[:,->,[->,_265308,_265314],[->,_265332,_265308],[->,_265332,_265314]],RET),depth(9))
                    <--(16,retval([:,.:,[->,[->,_503172,_503178],[->,_503196,_503202,_503172],[->,_503196,_503202,_503178]]]))
                  -->(19,eval('&self',['let*',[[[:,[.:,_7180,_7186],[->,_7860,_7856,_7862]],[:,_1966,[->,'String','Number','Number']]],[[:,_7180,[->,_7858,_7862]],[synthesize,[:,_7180,[->,_7858,_7862]],kb,rb,'Z']],[[:,_7186,[->,_7860,_7856,_7858]],[synthesize,[:,_7186,[->,_7860,_7856,_7858]],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(7))
                      -->(20,eval('&self',['let*',[[[:,_7180,[->,_7858,'Number']],[synthesize,[:,_7180,[->,_7858,'Number']],kb,rb,'Z']],[[:,_7186,[->,'String','Number',_7858]],[synthesize,[:,_7186,[->,'String','Number',_7858]],kb,rb,'Z']]],[:,[.:,_7180,_7186],[->,'String','Number','Number']]],RET),depth(9))
                          -->(21,eval('&self',[synthesize,[:,_7180,[->,_7858,'Number']],kb,rb,'Z'],RET),depth(11))
                            -->(22,eval('&self',[let,[:,_7180,[->,_7858,'Number']],[kb],[:,_7180,[->,_7858,'Number']]],RET),depth(12))
                                -->(23,eval('&self',[kb],RET),depth(14))
                                  -->(24,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(15))
                          -->(25,eval('&self',['let*',[[[:,_3704,[->,'String','Number','Bool']],[synthesize,[:,_3704,[->,'String','Number','Bool']],kb,rb,'Z']]],[:,[.:,h,_3704],[->,'String','Number','Number']]],RET),depth(11))
                              -->(26,eval('&self',[synthesize,[:,_3704,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(13))
                                -->(27,eval('&self',[let,[:,_3704,[->,'String','Number','Bool']],[kb],[:,_3704,[->,'String','Number','Bool']]],RET),depth(14))
                                    -->(28,eval('&self',[kb],RET),depth(16))
                                      -->(29,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(29,retval([:,i,[->,'String','Number','Bool']]))
                              -->(30,eval('&self',['let*',[],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(13))
                                      -->(31,eval('&self',[.:,h,i],RET),depth(17))
                              <--(30,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                    -->(32,eval('&self',[.:,h,i],RET),depth(16))
                                  -->(33,eval('&self',[.:,h,i],RET),depth(15))
                                -->(34,eval('&self',[.:,h,i],RET),depth(14))
                              -->(35,eval('&self',[.:,h,i],RET),depth(13))
                            -->(36,eval('&self',[.:,h,i],RET),depth(12))
                          -->(37,eval('&self',[.:,h,i],RET),depth(11))
                        -->(38,eval('&self',[.:,h,i],RET),depth(10))
                      -->(39,eval('&self',[.:,h,i],RET),depth(9))
                    -->(40,eval('&self',[.:,h,i],RET),depth(8))
                  -->(41,eval('&self',[.:,h,i],RET),depth(7))
                -->(42,eval('&self',[.:,h,i],RET),depth(6))
          -->(43,eval('&self',['â\x8A\·',synthesize,[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(3))
              -->(44,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(45,eval('&self',['S','Z'],RET),depth(7))
                      -->(46,eval('&self',[.:,h,i],RET),depth(9))
                  -->(47,eval('&self',['S','Z'],RET),depth(7))
                  -->(48,eval('&self',[.:,h,i],RET),depth(7))
              -->(49,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(50,eval('&self',['S','Z'],RET),depth(7))
                      -->(51,eval('&self',[.:,h,i],RET),depth(9))
                  -->(52,eval('&self',['S','Z'],RET),depth(7))
                  -->(53,eval('&self',[.:,h,i],RET),depth(7))
            -->(54,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(55,eval('&self',['S','Z'],RET),depth(6))
                    -->(56,eval('&self',[.:,h,i],RET),depth(8))
                -->(57,eval('&self',['S','Z'],RET),depth(6))
                -->(58,eval('&self',[.:,h,i],RET),depth(6))
          -->(59,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(3))
              -->(60,eval('&self',['S','Z'],RET),depth(5))
                  -->(61,eval('&self',[.:,h,i],RET),depth(7))
              -->(62,eval('&self',['S','Z'],RET),depth(5))
              -->(63,eval('&self',[.:,h,i],RET),depth(5))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: 
        (.: h i) 
        (-> String Number Number)) kb rb 
      (S Z)) 
    (: 
      (.: h i) 
      (-> String Number Number)))

</span><span class="ansi32">$Term = 
  (.: h i)


</span>                                    <--(28,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(27,retval([:,i,[->,'String','Number','Bool']]))
                              <--(26,retval([let,[:,_6084,[->,'String','Number','Bool']],[kb],[:,_6084,[->,'String','Number','Bool']]]))
                          <--(25,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                  <--(24,retval([:,i,[->,'String','Number','Bool']]))
                                <--(23,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                            <--(22,retval([:,h,[->,'Bool','Number']]))
                          <--(21,retval([let,[:,_4896,[->,_4914,'Number']],[kb],[:,_4896,[->,_4914,'Number']]]))
                      <--(20,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                  <--(19,retval([:,[.:,h,i],[->,'String','Number','Number']]))
              <--(14,retval([:,[.:,h,i],[->,'String','Number','Number']]))
              -->(64,eval('&self',['let*',[[[:,_20862,[->,_20880,_20886,_20892,_20898]],[rb]],[[:,[_20862,_20946,_20952,_20958],_20898],[:,_1966,[->,'String','Number','Number']]],[[:,_20946,_20880],[synthesize,[:,_20946,_20880],kb,rb,'Z']],[[:,_20952,_20886],[synthesize,[:,_20952,_20886],kb,rb,'Z']],[[:,_20958,_20892],[synthesize,[:,_20958,_20892],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(65,eval('&self',[rb],RET),depth(7))
                  <--(65,retval([superpose,[[:,->,[->,_23618,_23624],[->,_23642,_23618],[->,_23642,_23624]],[:,.:,[->,[->,_23624,_23726],[->,_23642,_23618,_23624],[->,_23642,_23618,_23726]]]]]))
                    -->(66,eval('&self',[superpose,[[:,->,[->,_23360,_23366],[->,_23384,_23360],[->,_23384,_23366]],[:,.:,[->,[->,_23366,_23468],[->,_23384,_23360,_23366],[->,_23384,_23360,_23468]]]]],RET),depth(8))
                        -->(67,eval('&self',[:,->,[->,_23360,_23366],[->,_23384,_23360],[->,_23384,_23366]],RET),depth(10))
                      -->(68,eval('&self',[:,->,[->,_23360,_23366],[->,_23384,_23360],[->,_23384,_23366]],RET),depth(9))
                    <--(66,retval([:,.:,[->,[->,_261224,_261230],[->,_261248,_261254,_261224],[->,_261248,_261254,_261230]]]))
              <--(64,retval(fail))
              -->(69,eval('&self',['let*',[[[:,_379474,[->,_379492,_379498,_379504,_379510,_379516]],[rb]],[[:,[_379474,_379564,_379570,_379576,_379582],_379516],[:,_1966,[->,'String','Number','Number']]],[[:,_379564,_379492],[synthesize,[:,_379564,_379492],kb,rb,'Z']],[[:,_379570,_379498],[synthesize,[:,_379570,_379498],kb,rb,'Z']],[[:,_379576,_379504],[synthesize,[:,_379576,_379504],kb,rb,'Z']],[[:,_379582,_379510],[synthesize,[:,_379582,_379510],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(70,eval('&self',[rb],RET),depth(7))
                  <--(70,retval([superpose,[[:,->,[->,_382422,_382428],[->,_382446,_382422],[->,_382446,_382428]],[:,.:,[->,[->,_382428,_382530],[->,_382446,_382422,_382428],[->,_382446,_382422,_382530]]]]]))
                    -->(71,eval('&self',[superpose,[[:,->,[->,_382164,_382170],[->,_382188,_382164],[->,_382188,_382170]],[:,.:,[->,[->,_382170,_382272],[->,_382188,_382164,_382170],[->,_382188,_382164,_382272]]]]],RET),depth(8))
                        -->(72,eval('&self',[:,->,[->,_382164,_382170],[->,_382188,_382164],[->,_382188,_382170]],RET),depth(10))
                      -->(73,eval('&self',[:,->,[->,_382164,_382170],[->,_382188,_382164],[->,_382188,_382170]],RET),depth(9))
                    <--(71,retval([:,.:,[->,[->,_108962,_108968],[->,_108986,_108992,_108962],[->,_108986,_108992,_108968]]]))
              <--(69,retval(fail))
              -->(74,eval('&self',['let*',[[[:,_227212,[->,_227230,_227236,_227242,_227248,_227254,_227260]],[rb]],[[:,[_227212,_227308,_227314,_227320,_227326,_227332],_227260],[:,_1966,[->,'String','Number','Number']]],[[:,_227308,_227230],[synthesize,[:,_227308,_227230],kb,rb,'Z']],[[:,_227314,_227236],[synthesize,[:,_227314,_227236],kb,rb,'Z']],[[:,_227320,_227242],[synthesize,[:,_227320,_227242],kb,rb,'Z']],[[:,_227326,_227248],[synthesize,[:,_227326,_227248],kb,rb,'Z']],[[:,_227332,_227254],[synthesize,[:,_227332,_227254],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(75,eval('&self',[rb],RET),depth(7))
                  <--(75,retval([superpose,[[:,->,[->,_230352,_230358],[->,_230376,_230352],[->,_230376,_230358]],[:,.:,[->,[->,_230358,_230460],[->,_230376,_230352,_230358],[->,_230376,_230352,_230460]]]]]))
                    -->(76,eval('&self',[superpose,[[:,->,[->,_230094,_230100],[->,_230118,_230094],[->,_230118,_230100]],[:,.:,[->,[->,_230100,_230202],[->,_230118,_230094,_230100],[->,_230118,_230094,_230202]]]]],RET),depth(8))
                        -->(77,eval('&self',[:,->,[->,_230094,_230100],[->,_230118,_230094],[->,_230118,_230100]],RET),depth(10))
                      -->(78,eval('&self',[:,->,[->,_230094,_230100],[->,_230118,_230094],[->,_230118,_230100]],RET),depth(9))
                    <--(76,retval([:,.:,[->,[->,_467958,_467964],[->,_467982,_467988,_467958],[->,_467982,_467988,_467964]]]))
              <--(74,retval(fail))
            <--(5,retval(['let*',[[[:,_7552,[->,_7570,_7576,_7582,_7588,_7594,_7600]],[rb]],[[:,[_7552,_7648,_7654,_7660,_7666,_7672],_7600],[:,_7696,[->,'String','Number','Number']]],[[:,_7648,_7570],[synthesize,[:,_7648,_7570],kb,rb,'Z']],[[:,_7654,_7576],[synthesize,[:,_7654,_7576],kb,rb,'Z']],[[:,_7660,_7582],[synthesize,[:,_7660,_7582],kb,rb,'Z']],[[:,_7666,_7588],[synthesize,[:,_7666,_7588],kb,rb,'Z']],[[:,_7672,_7594],[synthesize,[:,_7672,_7594],kb,rb,'Z']]],[:,_7696,[->,'String','Number','Number']]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],[:,[.:,h,i],[->,'String','Number','Number']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3132,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_3132,[->,'String','Number','Number']],kb,rb,['S','Z']]]))
;; (: (.: h i) (-> String Number Number)))
;; Queries for ANY function from Number to Bool of at most depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_94984,[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_94984,[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,_94984,[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_94984,[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_94984,[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_94984,[->,'Number','Bool']],[kb],[:,_94984,[->,'Number','Bool']]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval(fail))
              -->(9,eval('&self',['let*',[[[:,_248028,[->,_248046,_248052]],[rb]],[[:,[_248028,_248100],_248052],[:,_2872,[->,'Number','Bool']]],[[:,_248100,_248046],[synthesize,[:,_248100,_248046],kb,rb,'Z']]],[:,_2872,[->,'Number','Bool']]],RET),depth(5))
                  -->(10,eval('&self',[rb],RET),depth(7))
                  <--(10,retval([superpose,[[:,->,[->,_250394,_250400],[->,_250418,_250394],[->,_250418,_250400]],[:,.:,[->,[->,_250400,_250502],[->,_250418,_250394,_250400],[->,_250418,_250394,_250502]]]]]))
                    -->(11,eval('&self',[superpose,[[:,->,[->,_250136,_250142],[->,_250160,_250136],[->,_250160,_250142]],[:,.:,[->,[->,_250142,_250244],[->,_250160,_250136,_250142],[->,_250160,_250136,_250244]]]]],RET),depth(8))
                        -->(12,eval('&self',[:,->,[->,_250136,_250142],[->,_250160,_250136],[->,_250160,_250142]],RET),depth(10))
                      -->(13,eval('&self',[:,->,[->,_250136,_250142],[->,_250160,_250136],[->,_250160,_250142]],RET),depth(9))
                    <--(11,retval([:,.:,[->,[->,_488000,_488006],[->,_488024,_488030,_488000],[->,_488024,_488030,_488006]]]))
              <--(9,retval(fail))
              -->(14,eval('&self',['let*',[[[:,_94144,[->,_94162,_94168,_94174]],[rb]],[[:,[_94144,_94222,_94228],_94174],[:,_1960,[->,'Number','Bool']]],[[:,_94222,_94162],[synthesize,[:,_94222,_94162],kb,rb,'Z']],[[:,_94228,_94168],[synthesize,[:,_94228,_94168],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(15,eval('&self',[rb],RET),depth(7))
                  <--(15,retval([superpose,[[:,->,[->,_96702,_96708],[->,_96726,_96702],[->,_96726,_96708]],[:,.:,[->,[->,_96708,_96810],[->,_96726,_96702,_96708],[->,_96726,_96702,_96810]]]]]))
                    -->(16,eval('&self',[superpose,[[:,->,[->,_96444,_96450],[->,_96468,_96444],[->,_96468,_96450]],[:,.:,[->,[->,_96450,_96552],[->,_96468,_96444,_96450],[->,_96468,_96444,_96552]]]]],RET),depth(8))
                        -->(17,eval('&self',[:,->,[->,_96444,_96450],[->,_96468,_96444],[->,_96468,_96450]],RET),depth(10))
                      -->(18,eval('&self',[:,->,[->,_96444,_96450],[->,_96468,_96444],[->,_96468,_96450]],RET),depth(9))
                    <--(16,retval([:,.:,[->,[->,_334308,_334314],[->,_334332,_334338,_334308],[->,_334332,_334338,_334314]]]))
                  -->(19,eval('&self',['let*',[[[:,[.:,_94222,_94228],[->,_96468,_96444,_96552]],[:,_1960,[->,'Number','Bool']]],[[:,_94222,[->,_96450,_96552]],[synthesize,[:,_94222,[->,_96450,_96552]],kb,rb,'Z']],[[:,_94228,[->,_96468,_96444,_96450]],[synthesize,[:,_94228,[->,_96468,_96444,_96450]],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(7))
                  <--(19,retval(fail))
              <--(14,retval(fail))
              -->(20,eval('&self',['let*',[[[:,_479440,[->,_479458,_479464,_479470,_479476]],[rb]],[[:,[_479440,_479524,_479530,_479536],_479476],[:,_1960,[->,'Number','Bool']]],[[:,_479524,_479458],[synthesize,[:,_479524,_479458],kb,rb,'Z']],[[:,_479530,_479464],[synthesize,[:,_479530,_479464],kb,rb,'Z']],[[:,_479536,_479470],[synthesize,[:,_479536,_479470],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(21,eval('&self',[rb],RET),depth(7))
                  <--(21,retval([superpose,[[:,->,[->,_482190,_482196],[->,_482214,_482190],[->,_482214,_482196]],[:,.:,[->,[->,_482196,_482298],[->,_482214,_482190,_482196],[->,_482214,_482190,_482298]]]]]))
                    -->(22,eval('&self',[superpose,[[:,->,[->,_481932,_481938],[->,_481956,_481932],[->,_481956,_481938]],[:,.:,[->,[->,_481938,_482040],[->,_481956,_481932,_481938],[->,_481956,_481932,_482040]]]]],RET),depth(8))
                        -->(23,eval('&self',[:,->,[->,_481932,_481938],[->,_481956,_481932],[->,_481956,_481938]],RET),depth(10))
                      -->(24,eval('&self',[:,->,[->,_10978,_10984],[->,_11002,_10978],[->,_11002,_10984]],RET),depth(9))
                    <--(22,retval([:,.:,[->,[->,_207812,_207818],[->,_207836,_207842,_207812],[->,_207836,_207842,_207818]]]))
              <--(20,retval(fail))
              -->(25,eval('&self',['let*',[[[:,_326062,[->,_326080,_326086,_326092,_326098,_326104]],[rb]],[[:,[_326062,_326152,_326158,_326164,_326170],_326104],[:,_1960,[->,'Number','Bool']]],[[:,_326152,_326080],[synthesize,[:,_326152,_326080],kb,rb,'Z']],[[:,_326158,_326086],[synthesize,[:,_326158,_326086],kb,rb,'Z']],[[:,_326164,_326092],[synthesize,[:,_326164,_326092],kb,rb,'Z']],[[:,_326170,_326098],[synthesize,[:,_326170,_326098],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(26,eval('&self',[rb],RET),depth(7))
                  <--(26,retval([superpose,[[:,->,[->,_329004,_329010],[->,_329028,_329004],[->,_329028,_329010]],[:,.:,[->,[->,_329010,_329112],[->,_329028,_329004,_329010],[->,_329028,_329004,_329112]]]]]))
                    -->(27,eval('&self',[superpose,[[:,->,[->,_328746,_328752],[->,_328770,_328746],[->,_328770,_328752]],[:,.:,[->,[->,_328752,_328854],[->,_328770,_328746,_328752],[->,_328770,_328746,_328854]]]]],RET),depth(8))
                        -->(28,eval('&self',[:,->,[->,_328746,_328752],[->,_328770,_328746],[->,_328770,_328752]],RET),depth(10))
                      -->(29,eval('&self',[:,->,[->,_328746,_328752],[->,_328770,_328746],[->,_328770,_328752]],RET),depth(9))
                    <--(27,retval([:,.:,[->,[->,_55220,_55226],[->,_55244,_55250,_55220],[->,_55244,_55250,_55226]]]))
              <--(25,retval(fail))
              -->(30,eval('&self',['let*',[[[:,_173470,[->,_173488,_173494,_173500,_173506,_173512,_173518]],[rb]],[[:,[_173470,_173566,_173572,_173578,_173584,_173590],_173518],[:,_1960,[->,'Number','Bool']]],[[:,_173566,_173488],[synthesize,[:,_173566,_173488],kb,rb,'Z']],[[:,_173572,_173494],[synthesize,[:,_173572,_173494],kb,rb,'Z']],[[:,_173578,_173500],[synthesize,[:,_173578,_173500],kb,rb,'Z']],[[:,_173584,_173506],[synthesize,[:,_173584,_173506],kb,rb,'Z']],[[:,_173590,_173512],[synthesize,[:,_173590,_173512],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(31,eval('&self',[rb],RET),depth(7))
                  <--(31,retval([superpose,[[:,->,[->,_176604,_176610],[->,_176628,_176604],[->,_176628,_176610]],[:,.:,[->,[->,_176610,_176712],[->,_176628,_176604,_176610],[->,_176628,_176604,_176712]]]]]))
                    -->(32,eval('&self',[superpose,[[:,->,[->,_176346,_176352],[->,_176370,_176346],[->,_176370,_176352]],[:,.:,[->,[->,_176352,_176454],[->,_176370,_176346,_176352],[->,_176370,_176346,_176454]]]]],RET),depth(8))
                        -->(33,eval('&self',[:,->,[->,_176346,_176352],[->,_176370,_176346],[->,_176370,_176352]],RET),depth(10))
                      -->(34,eval('&self',[:,->,[->,_176346,_176352],[->,_176370,_176346],[->,_176370,_176352]],RET),depth(9))
                    <--(32,retval([:,.:,[->,[->,_414210,_414216],[->,_414234,_414240,_414210],[->,_414234,_414240,_414216]]]))
              <--(30,retval(fail))
            <--(5,retval(['let*',[[[:,_6428,[->,_6446,_6452,_6458,_6464,_6470,_6476]],[rb]],[[:,[_6428,_6524,_6530,_6536,_6542,_6548],_6476],[:,_6572,[->,'Number','Bool']]],[[:,_6524,_6446],[synthesize,[:,_6524,_6446],kb,rb,'Z']],[[:,_6530,_6452],[synthesize,[:,_6530,_6452],kb,rb,'Z']],[[:,_6536,_6458],[synthesize,[:,_6536,_6458],kb,rb,'Z']],[[:,_6542,_6464],[synthesize,[:,_6542,_6464],kb,rb,'Z']],[[:,_6548,_6470],[synthesize,[:,_6548,_6470],kb,rb,'Z']]],[:,_6572,[->,'Number','Bool']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3114,[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,_3114,[->,'Number','Bool']],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Queries for the specific `(.g f)` composition, checking if it goes from Number to Bool af depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                    -->(4,eval('&self',['.',g,f],RET),depth(8))
                -->(5,eval('&self',['S','Z'],RET),depth(6))
            -->(6,eval('&self',[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
              -->(7,eval('&self',[let,[:,['.',g,f],[->,'Number','Bool']],[kb],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(8,eval('&self',[kb],RET),depth(7))
                    -->(9,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(10,eval('&self',['let*',[[[:,_248544,[->,_248562,_248568]],[rb]],[[:,[_248544,_248616],_248568],[:,['.',g,f],[->,'Number','Bool']]],[[:,_248616,_248562],[synthesize,[:,_248616,_248562],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(11,eval('&self',[rb],RET),depth(7))
                  <--(11,retval([superpose,[[:,->,[->,_250928,_250934],[->,_250952,_250928],[->,_250952,_250934]],[:,.:,[->,[->,_250934,_251036],[->,_250952,_250928,_250934],[->,_250952,_250928,_251036]]]]]))
                    -->(12,eval('&self',[superpose,[[:,->,[->,_250670,_250676],[->,_250694,_250670],[->,_250694,_250676]],[:,.:,[->,[->,_250676,_250778],[->,_250694,_250670,_250676],[->,_250694,_250670,_250778]]]]],RET),depth(8))
                        -->(13,eval('&self',[:,->,[->,_250670,_250676],[->,_250694,_250670],[->,_250694,_250676]],RET),depth(10))
                      -->(14,eval('&self',[:,->,[->,_250670,_250676],[->,_250694,_250670],[->,_250694,_250676]],RET),depth(9))
                    <--(12,retval([:,.:,[->,[->,_488534,_488540],[->,_488558,_488564,_488534],[->,_488558,_488564,_488540]]]))
              <--(10,retval(fail))
              -->(15,eval('&self',['let*',[[[:,_94590,[->,_94608,_94614,_94620]],[rb]],[[:,[_94590,_94668,_94674],_94620],[:,['.',g,f],[->,'Number','Bool']]],[[:,_94668,_94608],[synthesize,[:,_94668,_94608],kb,rb,'Z']],[[:,_94674,_94614],[synthesize,[:,_94674,_94614],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(16,eval('&self',[rb],RET),depth(7))
                  <--(16,retval([superpose,[[:,->,[->,_97166,_97172],[->,_97190,_97166],[->,_97190,_97172]],[:,.:,[->,[->,_97172,_97274],[->,_97190,_97166,_97172],[->,_97190,_97166,_97274]]]]]))
                    -->(17,eval('&self',[superpose,[[:,->,[->,_96908,_96914],[->,_96932,_96908],[->,_96932,_96914]],[:,.:,[->,[->,_96914,_97016],[->,_96932,_96908,_96914],[->,_96932,_96908,_97016]]]]],RET),depth(8))
                        -->(18,eval('&self',[:,->,[->,_96908,_96914],[->,_96932,_96908],[->,_96932,_96914]],RET),depth(10))
                      -->(19,eval('&self',[:,->,[->,_96908,_96914],[->,_96932,_96908],[->,_96932,_96914]],RET),depth(9))
                    <--(17,retval([:,.:,[->,[->,_334772,_334778],[->,_334796,_334802,_334772],[->,_334796,_334802,_334778]]]))
                  -->(20,eval('&self',['let*',[[[:,[.:,_94668,_94674],[->,_96932,_96908,_97016]],[:,['.',g,f],[->,'Number','Bool']]],[[:,_94668,[->,_96914,_97016]],[synthesize,[:,_94668,[->,_96914,_97016]],kb,rb,'Z']],[[:,_94674,[->,_96932,_96908,_96914]],[synthesize,[:,_94674,[->,_96932,_96908,_96914]],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(7))
                          -->(21,eval('&self',['.',g,f],RET),depth(11))
                  <--(20,retval(fail))
              <--(15,retval(fail))
              -->(22,eval('&self',['let*',[[[:,_20832,[->,_20850,_20856,_20862,_20868]],[rb]],[[:,[_20832,_20916,_20922,_20928],_20868],[:,['.',g,f],[->,'Number','Bool']]],[[:,_20916,_20850],[synthesize,[:,_20916,_20850],kb,rb,'Z']],[[:,_20922,_20856],[synthesize,[:,_20922,_20856],kb,rb,'Z']],[[:,_20928,_20862],[synthesize,[:,_20928,_20862],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(23,eval('&self',[rb],RET),depth(7))
                  <--(23,retval([superpose,[[:,->,[->,_23600,_23606],[->,_23624,_23600],[->,_23624,_23606]],[:,.:,[->,[->,_23606,_23708],[->,_23624,_23600,_23606],[->,_23624,_23600,_23708]]]]]))
                    -->(24,eval('&self',[superpose,[[:,->,[->,_23342,_23348],[->,_23366,_23342],[->,_23366,_23348]],[:,.:,[->,[->,_23348,_23450],[->,_23366,_23342,_23348],[->,_23366,_23342,_23450]]]]],RET),depth(8))
                        -->(25,eval('&self',[:,->,[->,_23342,_23348],[->,_23366,_23342],[->,_23366,_23348]],RET),depth(10))
                      -->(26,eval('&self',[:,->,[->,_23342,_23348],[->,_23366,_23342],[->,_23366,_23348]],RET),depth(9))
                    <--(24,retval([:,.:,[->,[->,_261206,_261212],[->,_261230,_261236,_261206],[->,_261230,_261236,_261212]]]))
              <--(22,retval(fail))
              -->(27,eval('&self',['let*',[[[:,_379456,[->,_379474,_379480,_379486,_379492,_379498]],[rb]],[[:,[_379456,_379546,_379552,_379558,_379564],_379498],[:,['.',g,f],[->,'Number','Bool']]],[[:,_379546,_379474],[synthesize,[:,_379546,_379474],kb,rb,'Z']],[[:,_379552,_379480],[synthesize,[:,_379552,_379480],kb,rb,'Z']],[[:,_379558,_379486],[synthesize,[:,_379558,_379486],kb,rb,'Z']],[[:,_379564,_379492],[synthesize,[:,_379564,_379492],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(28,eval('&self',[rb],RET),depth(7))
                  <--(28,retval([superpose,[[:,->,[->,_382416,_382422],[->,_382440,_382416],[->,_382440,_382422]],[:,.:,[->,[->,_382422,_382524],[->,_382440,_382416,_382422],[->,_382440,_382416,_382524]]]]]))
                    -->(29,eval('&self',[superpose,[[:,->,[->,_382158,_382164],[->,_382182,_382158],[->,_382182,_382164]],[:,.:,[->,[->,_382164,_382266],[->,_382182,_382158,_382164],[->,_382182,_382158,_382266]]]]],RET),depth(8))
                        -->(30,eval('&self',[:,->,[->,_382158,_382164],[->,_382182,_382158],[->,_382182,_382164]],RET),depth(10))
                      -->(31,eval('&self',[:,->,[->,_382158,_382164],[->,_382182,_382158],[->,_382182,_382164]],RET),depth(9))
                    <--(29,retval([:,.:,[->,[->,_108672,_108678],[->,_108696,_108702,_108672],[->,_108696,_108702,_108678]]]))
              <--(27,retval(fail))
              -->(32,eval('&self',['let*',[[[:,_226922,[->,_226940,_226946,_226952,_226958,_226964,_226970]],[rb]],[[:,[_226922,_227018,_227024,_227030,_227036,_227042],_226970],[:,['.',g,f],[->,'Number','Bool']]],[[:,_227018,_226940],[synthesize,[:,_227018,_226940],kb,rb,'Z']],[[:,_227024,_226946],[synthesize,[:,_227024,_226946],kb,rb,'Z']],[[:,_227030,_226952],[synthesize,[:,_227030,_226952],kb,rb,'Z']],[[:,_227036,_226958],[synthesize,[:,_227036,_226958],kb,rb,'Z']],[[:,_227042,_226964],[synthesize,[:,_227042,_226964],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(33,eval('&self',[rb],RET),depth(7))
                  <--(33,retval([superpose,[[:,->,[->,_230074,_230080],[->,_230098,_230074],[->,_230098,_230080]],[:,.:,[->,[->,_230080,_230182],[->,_230098,_230074,_230080],[->,_230098,_230074,_230182]]]]]))
                    -->(34,eval('&self',[superpose,[[:,->,[->,_229816,_229822],[->,_229840,_229816],[->,_229840,_229822]],[:,.:,[->,[->,_229822,_229924],[->,_229840,_229816,_229822],[->,_229840,_229816,_229924]]]]],RET),depth(8))
                        -->(35,eval('&self',[:,->,[->,_229816,_229822],[->,_229840,_229816],[->,_229840,_229822]],RET),depth(10))
                      -->(36,eval('&self',[:,->,[->,_229816,_229822],[->,_229840,_229816],[->,_229840,_229822]],RET),depth(9))
                    <--(34,retval([:,.:,[->,[->,_467680,_467686],[->,_467704,_467710,_467680],[->,_467704,_467710,_467686]]]))
              <--(32,retval(fail))
            <--(6,retval(['let*',[[[:,_7220,[->,_7238,_7244,_7250,_7256,_7262,_7268]],[rb]],[[:,[_7220,_7316,_7322,_7328,_7334,_7340],_7268],[:,['.',g,f],[->,'Number','Bool']]],[[:,_7316,_7238],[synthesize,[:,_7316,_7238],kb,rb,'Z']],[[:,_7322,_7244],[synthesize,[:,_7322,_7244],kb,rb,'Z']],[[:,_7328,_7250],[synthesize,[:,_7328,_7250],kb,rb,'Z']],[[:,_7334,_7256],[synthesize,[:,_7334,_7256],kb,rb,'Z']],[[:,_7340,_7262],[synthesize,[:,_7340,_7262],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Type inference for `(. g f)`
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],Type],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,f],_92112],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,f],_92112],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_92112],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,f],_92112],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                    -->(4,eval('&self',['.',g,f],RET),depth(8))
                -->(5,eval('&self',['S','Z'],RET),depth(6))
            -->(6,eval('&self',[synthesize,[:,['.',g,f],_92112],kb,rb,['S','Z']],RET),depth(4))
              -->(7,eval('&self',[let,[:,['.',g,f],_92112],[kb],[:,['.',g,f],_92112]],RET),depth(5))
                  -->(8,eval('&self',[kb],RET),depth(7))
                    -->(9,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(10,eval('&self',['let*',[[[:,_278754,[->,_278772,_278778]],[rb]],[[:,[_278754,_278826],_278778],[:,['.',g,f],_2896]],[[:,_278826,_278772],[synthesize,[:,_278826,_278772],kb,rb,'Z']]],[:,['.',g,f],_2896]],RET),depth(5))
                  -->(11,eval('&self',[rb],RET),depth(7))
                  <--(11,retval([superpose,[[:,->,[->,_281120,_281126],[->,_281144,_281120],[->,_281144,_281126]],[:,.:,[->,[->,_281126,_281228],[->,_281144,_281120,_281126],[->,_281144,_281120,_281228]]]]]))
                    -->(12,eval('&self',[superpose,[[:,->,[->,_280862,_280868],[->,_280886,_280862],[->,_280886,_280868]],[:,.:,[->,[->,_280868,_280970],[->,_280886,_280862,_280868],[->,_280886,_280862,_280970]]]]],RET),depth(8))
                        -->(13,eval('&self',[:,->,[->,_280862,_280868],[->,_280886,_280862],[->,_280886,_280868]],RET),depth(10))
                      -->(14,eval('&self',[:,->,[->,_280862,_280868],[->,_280886,_280862],[->,_280886,_280868]],RET),depth(9))
                    <--(12,retval([:,.:,[->,[->,_518726,_518732],[->,_518750,_518756,_518726],[->,_518750,_518756,_518732]]]))
              <--(10,retval(fail))
              -->(15,eval('&self',['let*',[[[:,_124612,[->,_124630,_124636,_124642]],[rb]],[[:,[_124612,_124690,_124696],_124642],[:,['.',g,f],_1984]],[[:,_124690,_124630],[synthesize,[:,_124690,_124630],kb,rb,'Z']],[[:,_124696,_124636],[synthesize,[:,_124696,_124636],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(16,eval('&self',[rb],RET),depth(7))
                  <--(16,retval([superpose,[[:,->,[->,_127170,_127176],[->,_127194,_127170],[->,_127194,_127176]],[:,.:,[->,[->,_127176,_127278],[->,_127194,_127170,_127176],[->,_127194,_127170,_127278]]]]]))
                    -->(17,eval('&self',[superpose,[[:,->,[->,_126912,_126918],[->,_126936,_126912],[->,_126936,_126918]],[:,.:,[->,[->,_126918,_127020],[->,_126936,_126912,_126918],[->,_126936,_126912,_127020]]]]],RET),depth(8))
                        -->(18,eval('&self',[:,->,[->,_126912,_126918],[->,_126936,_126912],[->,_126936,_126918]],RET),depth(10))
                      -->(19,eval('&self',[:,->,[->,_126912,_126918],[->,_126936,_126912],[->,_126936,_126918]],RET),depth(9))
                    <--(17,retval([:,.:,[->,[->,_364776,_364782],[->,_364800,_364806,_364776],[->,_364800,_364806,_364782]]]))
                  -->(20,eval('&self',['let*',[[[:,[.:,_124690,_124696],[->,_126936,_126912,_127020]],[:,['.',g,f],_1984]],[[:,_124690,[->,_126918,_127020]],[synthesize,[:,_124690,[->,_126918,_127020]],kb,rb,'Z']],[[:,_124696,[->,_126936,_126912,_126918]],[synthesize,[:,_124696,[->,_126936,_126912,_126918]],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(7))
                          -->(21,eval('&self',['.',g,f],RET),depth(11))
                  <--(20,retval(fail))
              <--(15,retval(fail))
              -->(22,eval('&self',['let*',[[[:,_30592,[->,_30610,_30616,_30622,_30628]],[rb]],[[:,[_30592,_30676,_30682,_30688],_30628],[:,['.',g,f],_1984]],[[:,_30676,_30610],[synthesize,[:,_30676,_30610],kb,rb,'Z']],[[:,_30682,_30616],[synthesize,[:,_30682,_30616],kb,rb,'Z']],[[:,_30688,_30622],[synthesize,[:,_30688,_30622],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(23,eval('&self',[rb],RET),depth(7))
                  <--(23,retval([superpose,[[:,->,[->,_33342,_33348],[->,_33366,_33342],[->,_33366,_33348]],[:,.:,[->,[->,_33348,_33450],[->,_33366,_33342,_33348],[->,_33366,_33342,_33450]]]]]))
                    -->(24,eval('&self',[superpose,[[:,->,[->,_33084,_33090],[->,_33108,_33084],[->,_33108,_33090]],[:,.:,[->,[->,_33090,_33192],[->,_33108,_33084,_33090],[->,_33108,_33084,_33192]]]]],RET),depth(8))
                        -->(25,eval('&self',[:,->,[->,_33084,_33090],[->,_33108,_33084],[->,_33108,_33090]],RET),depth(10))
                      -->(26,eval('&self',[:,->,[->,_33084,_33090],[->,_33108,_33084],[->,_33108,_33090]],RET),depth(9))
                    <--(24,retval([:,.:,[->,[->,_270948,_270954],[->,_270972,_270978,_270948],[->,_270972,_270978,_270954]]]))
              <--(22,retval(fail))
              -->(27,eval('&self',['let*',[[[:,_389198,[->,_389216,_389222,_389228,_389234,_389240]],[rb]],[[:,[_389198,_389288,_389294,_389300,_389306],_389240],[:,['.',g,f],_1984]],[[:,_389288,_389216],[synthesize,[:,_389288,_389216],kb,rb,'Z']],[[:,_389294,_389222],[synthesize,[:,_389294,_389222],kb,rb,'Z']],[[:,_389300,_389228],[synthesize,[:,_389300,_389228],kb,rb,'Z']],[[:,_389306,_389234],[synthesize,[:,_389306,_389234],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(28,eval('&self',[rb],RET),depth(7))
                  <--(28,retval([superpose,[[:,->,[->,_392140,_392146],[->,_392164,_392140],[->,_392164,_392146]],[:,.:,[->,[->,_392146,_392248],[->,_392164,_392140,_392146],[->,_392164,_392140,_392248]]]]]))
                    -->(29,eval('&self',[superpose,[[:,->,[->,_391882,_391888],[->,_391906,_391882],[->,_391906,_391888]],[:,.:,[->,[->,_391888,_391990],[->,_391906,_391882,_391888],[->,_391906,_391882,_391990]]]]],RET),depth(8))
                        -->(30,eval('&self',[:,->,[->,_391882,_391888],[->,_391906,_391882],[->,_391906,_391888]],RET),depth(10))
                      -->(31,eval('&self',[:,->,[->,_391882,_391888],[->,_391906,_391882],[->,_391906,_391888]],RET),depth(9))
                    <--(29,retval([:,.:,[->,[->,_117904,_117910],[->,_117928,_117934,_117904],[->,_117928,_117934,_117910]]]))
              <--(27,retval(fail))
              -->(32,eval('&self',['let*',[[[:,_236154,[->,_236172,_236178,_236184,_236190,_236196,_236202]],[rb]],[[:,[_236154,_236250,_236256,_236262,_236268,_236274],_236202],[:,['.',g,f],_1984]],[[:,_236250,_236172],[synthesize,[:,_236250,_236172],kb,rb,'Z']],[[:,_236256,_236178],[synthesize,[:,_236256,_236178],kb,rb,'Z']],[[:,_236262,_236184],[synthesize,[:,_236262,_236184],kb,rb,'Z']],[[:,_236268,_236190],[synthesize,[:,_236268,_236190],kb,rb,'Z']],[[:,_236274,_236196],[synthesize,[:,_236274,_236196],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(33,eval('&self',[rb],RET),depth(7))
                  <--(33,retval([superpose,[[:,->,[->,_239288,_239294],[->,_239312,_239288],[->,_239312,_239294]],[:,.:,[->,[->,_239294,_239396],[->,_239312,_239288,_239294],[->,_239312,_239288,_239396]]]]]))
                    -->(34,eval('&self',[superpose,[[:,->,[->,_239030,_239036],[->,_239054,_239030],[->,_239054,_239036]],[:,.:,[->,[->,_239036,_239138],[->,_239054,_239030,_239036],[->,_239054,_239030,_239138]]]]],RET),depth(8))
                        -->(35,eval('&self',[:,->,[->,_239030,_239036],[->,_239054,_239030],[->,_239054,_239036]],RET),depth(10))
                      -->(36,eval('&self',[:,->,[->,_239030,_239036],[->,_239054,_239030],[->,_239054,_239036]],RET),depth(9))
                    <--(34,retval([:,.:,[->,[->,_476894,_476900],[->,_476918,_476924,_476894],[->,_476918,_476924,_476900]]]))
              <--(32,retval(fail))
            <--(6,retval(['let*',[[[:,_7278,[->,_7296,_7302,_7308,_7314,_7320,_7326]],[rb]],[[:,[_7278,_7374,_7380,_7386,_7392,_7398],_7326],[:,['.',g,f],_7446]],[[:,_7374,_7296],[synthesize,[:,_7374,_7296],kb,rb,'Z']],[[:,_7380,_7302],[synthesize,[:,_7380,_7302],kb,rb,'Z']],[[:,_7386,_7308],[synthesize,[:,_7386,_7308],kb,rb,'Z']],[[:,_7392,_7314],[synthesize,[:,_7392,_7314],kb,rb,'Z']],[[:,_7398,_7320],[synthesize,[:,_7398,_7320],kb,rb,'Z']]],[:,['.',g,f],_7446]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',g,f],_3138],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_3138],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Query for any function composition of at most depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_100236,_100538],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_100236,_100538],kb,rb,['S','Z']],[synthesize,[:,_100236,_100538],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_100236,_100538],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_100236,_100538],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_100236,_100538],[kb],[:,_100236,_100538]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(9,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,['S','Z']],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(5))
                  -->(11,eval('&self',['S','Z'],RET),depth(7))
                  -->(12,eval('&self',['S','Z'],RET),depth(7))
              -->(13,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(5))
                  -->(14,eval('&self',['S','Z'],RET),depth(7))
                  -->(15,eval('&self',['S','Z'],RET),depth(7))
            -->(16,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(4))
                -->(17,eval('&self',['S','Z'],RET),depth(6))
                -->(18,eval('&self',['S','Z'],RET),depth(6))
          -->(19,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(3))
              -->(20,eval('&self',['S','Z'],RET),depth(5))
              -->(21,eval('&self',['S','Z'],RET),depth(5))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb 
      (S Z)) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>          -->(22,eval('&self',['â\x8A\·',synthesize,[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],[:,g,[->,'String','Bool']]],RET),depth(3))
              -->(23,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(24,eval('&self',['S','Z'],RET),depth(7))
                  -->(25,eval('&self',['S','Z'],RET),depth(7))
              -->(26,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(27,eval('&self',['S','Z'],RET),depth(7))
                  -->(28,eval('&self',['S','Z'],RET),depth(7))
            -->(29,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(30,eval('&self',['S','Z'],RET),depth(6))
                -->(31,eval('&self',['S','Z'],RET),depth(6))
          -->(32,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(3))
              -->(33,eval('&self',['S','Z'],RET),depth(5))
              -->(34,eval('&self',['S','Z'],RET),depth(5))
NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb 
      (S Z)) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>          -->(35,eval('&self',['â\x8A\·',synthesize,[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],[:,h,[->,'Bool','Number']]],RET),depth(3))
              -->(36,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(37,eval('&self',['S','Z'],RET),depth(7))
                  -->(38,eval('&self',['S','Z'],RET),depth(7))
              -->(39,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(40,eval('&self',['S','Z'],RET),depth(7))
                  -->(41,eval('&self',['S','Z'],RET),depth(7))
            -->(42,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(43,eval('&self',['S','Z'],RET),depth(6))
                -->(44,eval('&self',['S','Z'],RET),depth(6))
          -->(45,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(3))
              -->(46,eval('&self',['S','Z'],RET),depth(5))
              -->(47,eval('&self',['S','Z'],RET),depth(5))
NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb 
      (S Z)) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
          -->(48,eval('&self',['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],[:,i,[->,'String','Number','Bool']]],RET),depth(3))
              -->(49,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(50,eval('&self',['S','Z'],RET),depth(7))
                  -->(51,eval('&self',['S','Z'],RET),depth(7))
              -->(52,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(53,eval('&self',['S','Z'],RET),depth(7))
                  -->(54,eval('&self',['S','Z'],RET),depth(7))
            -->(55,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(56,eval('&self',['S','Z'],RET),depth(6))
                -->(57,eval('&self',['S','Z'],RET),depth(6))
          -->(58,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(3))
              -->(59,eval('&self',['S','Z'],RET),depth(5))
              -->(60,eval('&self',['S','Z'],RET),depth(5))
NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb 
      (S Z)) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span>                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval([:,i,[->,'String','Number','Bool']]))
              -->(61,eval('&self',['let*',[[[:,_213742,[->,_213760,_213766]],[rb]],[[:,[_213742,_213814],_213766],[:,_1946,_1964]],[[:,_213814,_213760],[synthesize,[:,_213814,_213760],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(5))
                  -->(62,eval('&self',[rb],RET),depth(7))
                  <--(62,retval([superpose,[[:,->,[->,_216090,_216096],[->,_216114,_216090],[->,_216114,_216096]],[:,.:,[->,[->,_216096,_216198],[->,_216114,_216090,_216096],[->,_216114,_216090,_216198]]]]]))
                    -->(63,eval('&self',[superpose,[[:,->,[->,_215832,_215838],[->,_215856,_215832],[->,_215856,_215838]],[:,.:,[->,[->,_215838,_215940],[->,_215856,_215832,_215838],[->,_215856,_215832,_215940]]]]],RET),depth(8))
                        -->(64,eval('&self',[:,->,[->,_215832,_215838],[->,_215856,_215832],[->,_215856,_215838]],RET),depth(10))
                      -->(65,eval('&self',[:,->,[->,_215832,_215838],[->,_215856,_215832],[->,_215856,_215838]],RET),depth(9))
                    <--(63,retval([:,.:,[->,[->,_453696,_453702],[->,_453720,_453726,_453696],[->,_453720,_453726,_453702]]]))
              <--(61,retval(fail))
              -->(66,eval('&self',['let*',[[[:,_59732,[->,_59750,_59756,_59762]],[rb]],[[:,[_59732,_59810,_59816],_59762],[:,_1946,_1964]],[[:,_59810,_59750],[synthesize,[:,_59810,_59750],kb,rb,'Z']],[[:,_59816,_59756],[synthesize,[:,_59816,_59756],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(5))
                  -->(67,eval('&self',[rb],RET),depth(7))
                  <--(67,retval([superpose,[[:,->,[->,_62272,_62278],[->,_62296,_62272],[->,_62296,_62278]],[:,.:,[->,[->,_62278,_62380],[->,_62296,_62272,_62278],[->,_62296,_62272,_62380]]]]]))
                    -->(68,eval('&self',[superpose,[[:,->,[->,_62014,_62020],[->,_62038,_62014],[->,_62038,_62020]],[:,.:,[->,[->,_62020,_62122],[->,_62038,_62014,_62020],[->,_62038,_62014,_62122]]]]],RET),depth(8))
                        -->(69,eval('&self',[:,->,[->,_62014,_62020],[->,_62038,_62014],[->,_62038,_62020]],RET),depth(10))
                      -->(70,eval('&self',[:,->,[->,_62014,_62020],[->,_62038,_62014],[->,_62038,_62020]],RET),depth(9))
                    <--(68,retval([:,.:,[->,[->,_299878,_299884],[->,_299902,_299908,_299878],[->,_299902,_299908,_299884]]]))
                  -->(71,eval('&self',['let*',[[[:,[.:,_59810,_59816],[->,_62038,_62014,_62122]],[:,_1946,_1964]],[[:,_59810,[->,_62020,_62122]],[synthesize,[:,_59810,[->,_62020,_62122]],kb,rb,'Z']],[[:,_59816,[->,_62038,_62014,_62020]],[synthesize,[:,_59816,[->,_62038,_62014,_62020]],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(7))
                      -->(72,eval('&self',['let*',[[[:,_59810,[->,_62020,_62122]],[synthesize,[:,_59810,[->,_62020,_62122]],kb,rb,'Z']],[[:,_59816,[->,_62038,_62014,_62020]],[synthesize,[:,_59816,[->,_62038,_62014,_62020]],kb,rb,'Z']]],[:,[.:,_59810,_59816],[->,_62038,_62014,_62122]]],RET),depth(9))
                          -->(73,eval('&self',[synthesize,[:,_59810,[->,_62020,_62122]],kb,rb,'Z'],RET),depth(11))
                            -->(74,eval('&self',[let,[:,_59810,[->,_62020,_62122]],[kb],[:,_59810,[->,_62020,_62122]]],RET),depth(12))
                                -->(75,eval('&self',[kb],RET),depth(14))
                                  -->(76,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(15))
                          -->(77,eval('&self',['let*',[[[:,_4594,[->,_5236,_5232,'Number']],[synthesize,[:,_4594,[->,_5236,_5232,'Number']],kb,rb,'Z']]],[:,[.:,f,_4594],[->,_5236,_5232,'String']]],RET),depth(11))
                              -->(78,eval('&self',[synthesize,[:,_4594,[->,_5236,_5232,'Number']],kb,rb,'Z'],RET),depth(13))
                                -->(79,eval('&self',[let,[:,_4594,[->,_5236,_5232,'Number']],[kb],[:,_4594,[->,_5236,_5232,'Number']]],RET),depth(14))
                                    -->(80,eval('&self',[kb],RET),depth(16))
                                      -->(81,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(81,retval([:,i,[->,'String','Number','Bool']]))
                                    <--(80,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(79,retval(fail))
                              <--(78,retval([let,[:,_8406,[->,_8424,_8430,'Number']],[kb],[:,_8406,[->,_8424,_8430,'Number']]]))
                          <--(77,retval(fail))
                          -->(82,eval('&self',['let*',[[[:,_3904,[->,_4546,_4542,'String']],[synthesize,[:,_3904,[->,_4546,_4542,'String']],kb,rb,'Z']]],[:,[.:,g,_3904],[->,_4546,_4542,'Bool']]],RET),depth(11))
                              -->(83,eval('&self',[synthesize,[:,_3904,[->,_4546,_4542,'String']],kb,rb,'Z'],RET),depth(13))
                                -->(84,eval('&self',[let,[:,_3904,[->,_4546,_4542,'String']],[kb],[:,_3904,[->,_4546,_4542,'String']]],RET),depth(14))
                                    -->(85,eval('&self',[kb],RET),depth(16))
                                      -->(86,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(86,retval([:,i,[->,'String','Number','Bool']]))
                                    <--(85,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(84,retval(fail))
                              <--(83,retval([let,[:,_11632,[->,_11650,_11656,'String']],[kb],[:,_11632,[->,_11650,_11656,'String']]]))
                          <--(82,retval(fail))
                          -->(87,eval('&self',['let*',[[[:,_3904,[->,_4546,_4542,'Bool']],[synthesize,[:,_3904,[->,_4546,_4542,'Bool']],kb,rb,'Z']]],[:,[.:,h,_3904],[->,_4546,_4542,'Number']]],RET),depth(11))
                              -->(88,eval('&self',[synthesize,[:,_3904,[->,_4546,_4542,'Bool']],kb,rb,'Z'],RET),depth(13))
                                -->(89,eval('&self',[let,[:,_3904,[->,_4546,_4542,'Bool']],[kb],[:,_3904,[->,_4546,_4542,'Bool']]],RET),depth(14))
                                    -->(90,eval('&self',[kb],RET),depth(16))
                                      -->(91,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(91,retval([:,i,[->,'String','Number','Bool']]))
                              -->(92,eval('&self',['let*',[],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(13))
                                      -->(93,eval('&self',[.:,h,i],RET),depth(17))
                              <--(92,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                    -->(94,eval('&self',[.:,h,i],RET),depth(16))
                                  -->(95,eval('&self',[.:,h,i],RET),depth(15))
                                -->(96,eval('&self',[.:,h,i],RET),depth(14))
                              -->(97,eval('&self',[.:,h,i],RET),depth(13))
                            -->(98,eval('&self',[.:,h,i],RET),depth(12))
                          -->(99,eval('&self',[.:,h,i],RET),depth(11))
                        -->(100,eval('&self',[.:,h,i],RET),depth(10))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
NDet Result(4): <span class="ansi33">
  (â· synthesize 
    ( (: 
        (.: h i) 
        (-> String Number Number)) kb rb 
      (S Z)) 
    (: 
      (.: h i) 
      (-> String Number Number)))

</span><span class="ansi32">$Type = 
  (-> String Number Number)
$Term = 
  (.: h i)


</span>;; (: f (-> Number String)), ..., (: (. f h) (-> Bool String)), ...
;; Input type inference for `(. (. g f) h)`, at depth 2
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,In,'Bool']],kb,rb,[fromNumber,2]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,_61676,'Bool']],kb,rb,[fromNumber,2]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',['.',g,f],h],[->,_61676,'Bool']],kb,rb,[fromNumber,2]],[synthesize,[:,['.',['.',g,f],h],[->,_61676,'Bool']],kb,rb,[fromNumber,2]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',['.',g,f],h],[->,_61676,'Bool']],kb,rb,[fromNumber,2]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,2],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,2,0],'Z',['S',[fromNumber,[-,2,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,2,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,2,0],[==,2,0]],RET),depth(10))
                            -->(7,eval('&self',[<,2,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,2,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,2,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,2,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,2,1],0],'Z',['S',[fromNumber,[-,[-,2,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,2,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,2,1],0],[==,[-,2,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,2,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,2,1],RET),depth(19))
                                          <--(15,retval(1))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,2,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,2,1],RET),depth(19))
                                          <--(17,retval(1))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,2,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,2,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,2,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,2,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,2,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,2,1],1],0],[==,[-,[-,2,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,2,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,2,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,2,1],RET),depth(26))
                                                        <--(25,retval(1))
                                                    <--(24,retval(0))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,2,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,2,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,2,1],RET),depth(26))
                                                        <--(28,retval(1))
                                  -->(29,eval('&self',['S','Z'],RET),depth(15))
                              -->(30,eval('&self',['S','Z'],RET),depth(13))
                        -->(31,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(32,eval('&self',['S','Z'],RET),depth(12))
                            -->(33,eval('&self',['S','Z'],RET),depth(12))
                          -->(34,eval('&self',['S','Z'],RET),depth(11))
                    -->(35,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(36,eval('&self',['S','Z'],RET),depth(10))
                        -->(37,eval('&self',['S','Z'],RET),depth(10))
                      -->(38,eval('&self',['S','Z'],RET),depth(9))
                    -->(39,eval('&self',['S','Z'],RET),depth(8))
              -->(40,eval('&self',[[:,['.',['.',g,f],h],[->,_2514,'Bool']],kb,rb,['S',['S','Z']]],RET),depth(5))
                  -->(41,eval('&self',['S',['S','Z']],RET),depth(7))
                      -->(42,eval('&self',['S','Z'],RET),depth(9))
                      -->(43,eval('&self',['S','Z'],RET),depth(9))
                      -->(44,eval('&self',['.',['.',g,f],h],RET),depth(9))
                          -->(45,eval('&self',['.',g,f],RET),depth(11))
                          -->(46,eval('&self',['.',g,f],RET),depth(11))
                          -->(47,eval('&self',['.',g,f],RET),depth(11))
                          -->(48,eval('&self',['.',g,f],RET),depth(11))
                  -->(49,eval('&self',['S',['S','Z']],RET),depth(7))
                      -->(50,eval('&self',['S','Z'],RET),depth(9))
                      -->(51,eval('&self',['S','Z'],RET),depth(9))
                    -->(52,eval('&self',['.',['.',g,f],h],RET),depth(8))
                        -->(53,eval('&self',['.',g,f],RET),depth(10))
                        -->(54,eval('&self',['.',g,f],RET),depth(10))
                        -->(55,eval('&self',['.',g,f],RET),depth(10))
                        -->(56,eval('&self',['.',g,f],RET),depth(10))
                -->(57,eval('&self',['S',['S','Z']],RET),depth(6))
                    -->(58,eval('&self',['S','Z'],RET),depth(8))
                    -->(59,eval('&self',['S','Z'],RET),depth(8))
            -->(60,eval('&self',[synthesize,[:,['.',['.',g,f],h],[->,_2050,'Bool']],kb,rb,[fromNumber,2]],RET),depth(4))
              -->(61,eval('&self',[let,[:,['.',['.',g,f],h],[->,_2050,'Bool']],[kb],[:,['.',['.',g,f],h],[->,_2050,'Bool']]],RET),depth(5))
                  -->(62,eval('&self',[kb],RET),depth(7))
                    -->(63,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(63,retval([:,i,[->,'String','Number','Bool']]))
                  <--(62,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(61,retval(fail))
            <--(60,retval([let,[:,['.',['.',g,f],h],[->,_11760,'Bool']],[kb],[:,['.',['.',g,f],h],[->,_11760,'Bool']]]))
                                                    <--(27,retval(0))
                                                <--(26,retval('True'))
                                            <--(22,retval('True'))
                                          <--(21,retval([or,[<,[-,[-,2,1],1],0],[==,[-,[-,2,1],1],0]]))
                                      <--(20,retval('Z'))
                                    <--(19,retval([if,[<=,[-,[-,2,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,2,1],1],1]]]]))
                                <--(18,retval(['S','Z']))
                                <--(12,retval([or,[<,[-,2,1],0],[==,[-,2,1],0]]))
                            <--(11,retval(['S','Z']))
                          <--(10,retval([if,[<=,[-,2,1],0],'Z',['S',[fromNumber,[-,[-,2,1],1]]]]))
                      <--(9,retval(['S',['S','Z']]))
                      <--(5,retval([or,[<,2,0],[==,2,0]]))
                  <--(4,retval(['S',['S','Z']]))
                <--(3,retval([if,[<=,2,0],'Z',['S',[fromNumber,[-,2,1]]]]))
            <--(2,retval([[:,['.',['.',g,f],h],[->,_6520,'Bool']],kb,rb,['S',['S','Z']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',['.',g,f],h],[->,_3276,'Bool']],kb,rb,[fromNumber,2]],[synthesize,[:,['.',['.',g,f],h],[->,_3276,'Bool']],kb,rb,[fromNumber,2]]]))
;; (: (. (. g f) h) (-> Bool Bool))
;; Query for any function which can be composed with `h`, with any type signature, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. $G h) $Type) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. $G h) $Type) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',G,h],Type],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',_422414,h],_422706],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',_422414,h],_422706],kb,rb,[fromNumber,3]],[synthesize,[:,['.',_422414,h],_422706],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',_422414,h],_422706],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',_1976,h],_2000],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',_1976,h],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',_1976,h],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',_1976,h],_2000],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; Long list
;; Query for any function which can be composed with `h`, taking a `Number` and returning any type, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. $G h) 
      (-> Number $Out)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. $G h) 
      (-> Number $Out)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',G,h],[->,'Number',Out]],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',_477790,h],[->,'Number',_478106]],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',_477790,h],[->,'Number',_478106]],kb,rb,[fromNumber,3]],[synthesize,[:,['.',_477790,h],[->,'Number',_478106]],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',_477790,h],[->,'Number',_478106]],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',_1994,h],[->,'Number',_2036]],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',_1994,h],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',_1994,h],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',_1994,h],[->,'Number',_2036]],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; No answer, since `h` doesn't take Number
;; Query for any function which can be composed with `g` and take any input type and return String, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In String)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In String)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,F],[->,In,'String']],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,_50538],[->,_50838,'String']],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,_50538],[->,_50838,'String']],kb,rb,[fromNumber,3]],[synthesize,[:,['.',g,_50538],[->,_50838,'String']],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,_50538],[->,_50838,'String']],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',g,_2000],[->,_2030,'String']],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',g,_2000],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',g,_2000],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',g,_2000],[->,_2030,'String']],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; No answer, since `g` doesn't return string
;; Query for any function which can be composed with `g`, taking any input type and return Bool, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In Bool)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In Bool)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,F],[->,In,'Bool']],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,_132058],[->,_132358,'Bool']],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,_132058],[->,_132358,'Bool']],kb,rb,[fromNumber,3]],[synthesize,[:,['.',g,_132058],[->,_132358,'Bool']],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,_132058],[->,_132358,'Bool']],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',g,_2000],[->,_2030,'Bool']],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',g,_2000],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',g,_2000],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',g,_2000],[->,_2030,'Bool']],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; (: (. g f) (-> Number Bool)), (: (. g (. f h)) (-> Bool Bool)), (: (. g (. f (. h g))) (-> String Bool))
;; Query for any function composition of at most depth 4
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb 
    (fromNumber 4)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb 
    (fromNumber 4)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,[fromNumber,4]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_213176,_213478],kb,rb,[fromNumber,4]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_213176,_213478],kb,rb,[fromNumber,4]],[synthesize,[:,_213176,_213478],kb,rb,[fromNumber,4]]],RET),depth(2))
            -->(2,eval('&self',[[:,_213176,_213478],kb,rb,[fromNumber,4]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,4],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,4,0],'Z',['S',[fromNumber,[-,4,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,4,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,4,0],[==,4,0]],RET),depth(10))
                            -->(7,eval('&self',[<,4,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,4,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,4,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,4,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,4,1],0],'Z',['S',[fromNumber,[-,[-,4,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,4,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,4,1],0],[==,[-,4,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,4,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,4,1],RET),depth(19))
                                          <--(15,retval(3))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,4,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,4,1],RET),depth(19))
                                          <--(17,retval(3))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,4,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,4,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,4,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,4,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,4,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,4,1],1],0],[==,[-,[-,4,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,4,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,4,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,4,1],RET),depth(26))
                                                        <--(25,retval(3))
                                                    <--(24,retval(2))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,4,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,4,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,4,1],RET),depth(26))
                                                        <--(28,retval(3))
                                                    <--(27,retval(2))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,4,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,4,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,4,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,4,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,4,1],1],1],0],[==,[-,[-,[-,4,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,4,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,4,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,4,1],RET),depth(33))
                                                                      <--(37,retval(3))
                                                                  <--(36,retval(2))
                                                              <--(35,retval(1))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,4,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,4,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,4,1],RET),depth(33))
                                                                      <--(41,retval(3))
                                                                  <--(40,retval(2))
                                                              <--(39,retval(1))
                                                          <--(38,retval('False'))
                                                      <--(33,retval('False'))
                                                    -->(42,eval('&self',['S',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]]],RET),depth(24))
                                                        -->(43,eval('&self',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]],RET),depth(26))
                                                          -->(44,eval('&self',[if,[<=,[-,[-,[-,[-,4,1],1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,[-,4,1],1],1],1],1]]]],RET),depth(27))
                                                              -->(45,eval('&self',[<=,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(29))
                                                                -->(46,eval('&self',[or,[<,[-,[-,[-,[-,4,1],1],1],1],0],[==,[-,[-,[-,[-,4,1],1],1],1],0]],RET),depth(30))
                                                                    -->(47,eval('&self',[<,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(32))
                                                                        -->(48,eval('&self',[-,[-,[-,[-,4,1],1],1],1],RET),depth(34))
                                                                            -->(49,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(36))
                                                                                -->(50,eval('&self',[-,[-,4,1],1],RET),depth(38))
                                                                                    -->(51,eval('&self',[-,4,1],RET),depth(40))
                                                                                    <--(51,retval(3))
                                                                                <--(50,retval(2))
                                                                            <--(49,retval(1))
                                                                        <--(48,retval(0))
                                                                    <--(47,retval('False'))
                                                                    -->(52,eval('&self',[==,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(32))
                                                                        -->(53,eval('&self',[-,[-,[-,[-,4,1],1],1],1],RET),depth(34))
                                                                            -->(54,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(36))
                                                                                -->(55,eval('&self',[-,[-,4,1],1],RET),depth(38))
                                                                                    -->(56,eval('&self',[-,4,1],RET),depth(40))
                                                                                    <--(56,retval(3))
                                                      -->(57,eval('&self',['S','Z'],RET),depth(25))
                                                  -->(58,eval('&self',['S','Z'],RET),depth(23))
                                            -->(59,eval('&self',['S',['S','Z']],RET),depth(20))
                                                -->(60,eval('&self',['S','Z'],RET),depth(22))
                                                -->(61,eval('&self',['S','Z'],RET),depth(22))
                                              -->(62,eval('&self',['S','Z'],RET),depth(21))
                                        -->(63,eval('&self',['S',['S','Z']],RET),depth(18))
                                            -->(64,eval('&self',['S','Z'],RET),depth(20))
                                            -->(65,eval('&self',['S','Z'],RET),depth(20))
                                          -->(66,eval('&self',['S','Z'],RET),depth(19))
                                        -->(67,eval('&self',['S','Z'],RET),depth(18))
                                  -->(68,eval('&self',['S',['S',['S','Z']]],RET),depth(15))
                                      -->(69,eval('&self',['S',['S','Z']],RET),depth(17))
                                          -->(70,eval('&self',['S','Z'],RET),depth(19))
                                          -->(71,eval('&self',['S','Z'],RET),depth(19))
                                      -->(72,eval('&self',['S',['S','Z']],RET),depth(17))
                                          -->(73,eval('&self',['S','Z'],RET),depth(19))
                                          -->(74,eval('&self',['S','Z'],RET),depth(19))
                                    -->(75,eval('&self',['S',['S','Z']],RET),depth(16))
                                        -->(76,eval('&self',['S','Z'],RET),depth(18))
                                        -->(77,eval('&self',['S','Z'],RET),depth(18))
                              -->(78,eval('&self',['S',['S',['S','Z']]],RET),depth(13))
                                  -->(79,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(80,eval('&self',['S','Z'],RET),depth(17))
                                      -->(81,eval('&self',['S','Z'],RET),depth(17))
                                  -->(82,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(83,eval('&self',['S','Z'],RET),depth(17))
                                      -->(84,eval('&self',['S','Z'],RET),depth(17))
                                -->(85,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(86,eval('&self',['S','Z'],RET),depth(16))
                                    -->(87,eval('&self',['S','Z'],RET),depth(16))
                              -->(88,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(89,eval('&self',['S','Z'],RET),depth(15))
                                  -->(90,eval('&self',['S','Z'],RET),depth(15))
                        -->(91,eval('&self',['S',['S',['S',['S','Z']]]],RET),depth(10))
                            -->(92,eval('&self',['S',['S',['S','Z']]],RET),depth(12))
                                -->(93,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(94,eval('&self',['S','Z'],RET),depth(16))
                                    -->(95,eval('&self',['S','Z'],RET),depth(16))
                                -->(96,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(97,eval('&self',['S','Z'],RET),depth(16))
                                    -->(98,eval('&self',['S','Z'],RET),depth(16))
                            -->(99,eval('&self',['S',['S',['S','Z']]],RET),depth(12))
                                -->(100,eval('&self',['S',['S','Z']],RET),depth(14))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span><span class="ansi32">% 15,533,088 inferences, 3.213 CPU in 3.213 seconds (100% CPU, 4834752 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/baseline_compat/hyperon-pln_metta/synthesis/SynthesizeTest.metta.html" )

</pre>
</body>

</html>
