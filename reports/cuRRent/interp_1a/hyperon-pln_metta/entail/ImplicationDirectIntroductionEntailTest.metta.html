<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/experiments/self-contained-synthesize.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/experiments/self-contained-synthesize.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/experiments/self-contained-synthesize.metta')
:- dynamic file_answers/3.


;;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Pr',[->,'Number','TruthValue']])
</span><span class="ansi38-255165000">  (: Pr 
    (-> Number TruthValue))
</span>

;; Simple Truth Value.  A Second order probability TV constructor,
;; i.e. probability and confidence.  The probability is in fact the
;; mode of the corresponding beta distribution.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[<=,X,Y],[or,[<,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'STV',[->,'Number','Number','TruthValue']])
</span><span class="ansi38-255165000">  (: STV 
    (-> Number Number TruthValue))
</span>

;;;;;;;;;;;;;;;
;; Constants ;;
;;;;;;;;;;;;;;;
;; For now the underlying beta distributions have a Jeffreys prior,
;; i.e. the prior alpha and beta are 0.5.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'prior-alpha',[->,'Number']])
</span><span class="ansi38-255165000">  (: prior-alpha 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['prior-alpha'],0.5)
</span><span class="ansi38-255165000">  (= 
    (prior-alpha) 0.5)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'prior-beta',[->,'Number']])
</span><span class="ansi38-255165000">  (: prior-beta 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['prior-beta'],0.5)
</span><span class="ansi38-255165000">  (= 
    (prior-beta) 0.5)
</span>

;; Lookahead
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,lookahead,[->,'Number']])
</span><span class="ansi38-255165000">  (: lookahead 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[lookahead],1.0)
</span><span class="ansi38-255165000">  (= 
    (lookahead) 1.0)
</span>

;; Maximum supported count (till +inf is supported, possibly).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'max-count',[->,'Number']])
</span><span class="ansi38-255165000">  (: max-count 
    (-> Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,'Z'],0])
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['max-count'],1000000000.0)
</span><span class="ansi38-255165000">  (= 
    (max-count) 1000000000.0)
</span>

;;;;;;;;;;;;;
;; Methods ;;
;;;;;;;;;;;;;
;; Convert count to confidence using the formula
;;
;; confidence = count / (count + lookahead)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'count->confidence',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: count->confidence 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['count->confidence',Cnt],[/,Cnt,[+,Cnt,[lookahead]]])
</span><span class="ansi38-255165000">  (= 
    (count->confidence $Cnt) 
    (/ $Cnt 
      (+ $Cnt 
        (lookahead))))
</span>

;; Convert confidence to count using the formula
;;
;; count = (confidence * lookahead) / (1 - confidence)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,['S',K]],[+,1,[fromNat,K]]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'confidence->count',[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: confidence->count 
    (-> Number Number))
</span>

;;; Given a function call, produce records of that function call.
;;; There can be multiple records with only one call due to the
;;; non-determinism of MeTTa.  Each record is represented by (â· f x y)
;;; which can be read as
;;;
;;; "under f, the image of x is y"
;;;
;;; â· was chosen because it is described as IMAGE OF in UTF-8.  It is
;;; the MeTTa equivalent of ExecutionLink in Atomese.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['confidence->count',Conf],[if,[approxEq,1.0,Conf,1.0e-9],['max-count'],[/,[*,Conf,[lookahead]],[-,1.0,Conf]]])
</span><span class="ansi38-255165000">  (= 
    (confidence->count $Conf) 
    (if 
      (approxEq 1.0 $Conf 1.0e-9) 
      (max-count) 
      (/ 
        (* $Conf 
          (lookahead)) 
        (- 1.0 $Conf))))
</span>

;; Increment the negative count of a given truth value, by
;; incrementing its total count without incrementing the positive
;; count.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-neg-count',[->,'TruthValue','TruthValue']])
</span><span class="ansi38-255165000">  (: inc-neg-count 
    (-> TruthValue TruthValue))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['inc-neg-count',['STV',S,C]],['let*',[[Tot_cnt,['confidence->count',C]],[Pos_cnt,[*,S,Tot_cnt]],[New_tot_cnt,[+,Tot_cnt,1]]],['STV',[/,Pos_cnt,New_tot_cnt],['count->confidence',New_tot_cnt]]])
</span><span class="ansi38-255165000">  (= 
    (inc-neg-count 
      (STV $S $C)) 
    (let* 
      ( ($Tot_cnt 
          (confidence->count $C)) 
        ($Pos_cnt 
          (* $S $Tot_cnt)) 
        ($New_tot_cnt 
          (+ $Tot_cnt 1))) 
      (STV 
        (/ $Pos_cnt $New_tot_cnt) 
        (count->confidence $New_tot_cnt))))
</span>

;; Increment the positive count of a given truth value, by
;; incrementing its total count and its positive count.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'inc-pos-count',[->,'TruthValue','TruthValue']])
</span><span class="ansi38-255165000">  (: inc-pos-count 
    (-> TruthValue TruthValue))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2,Arg3,Arg4]],['â\x8A\·',F,[Arg1,Arg2,Arg3,Arg4],[F,Arg1,Arg2,Arg3,Arg4]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2 $Arg3 $Arg4)) 
    (â· $F 
      ($Arg1 $Arg2 $Arg3 $Arg4) 
      ($F $Arg1 $Arg2 $Arg3 $Arg4)))
</span>

;;; Enumerate all programs up to a given depth that are consistent with
;;; the query, using the given axioms and rules.
;;;
;;; The arguments are:
;;;
;;; $query: an Atom under the form (: TERM TYPE).  The atom may contain
;;;         free variables within TERM and TYPE to form various sort of
;;;         queries, such as:
;;;         1. Backward chaining: (: $term (Inheritance $x Mammal))
;;;         2. Forward chaining: (: ($rule $premise AXIOM) $type)
;;;         3. Mixed chaining: (: ($rule $premise AXIOM) (Inheritance $x Mammal))
;;;         4. Type checking: (: TERM TYPE)
;;;         5. Type inference: (: TERM $type)
;;;
;;; $axiom: a nullary function to axiom, to non-deterministically pick
;;;         up an axiom.  An axiom is an Atom of the form
;;;         (: TERM TYPE).
;;;
;;; $rule: a nullary function to rule, to non-deterministically pick up
;;;        a rule.  A rule is a function mapping premises to
;;;        conclusion, where premises and conclusion have the form
;;;        (: TERM TYPE).
;;;
;;; $depth: a Nat representing the maximum depth of the generated
;;;         programs.
;;;
;;; up to a given depth that are consistent with the query, using the
;;; provided rule and axiom non-deterministic functions.  An axiom is
;;; an Atom of the form
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,synthesize,[->,'Atom',[->,'Atom'],[->,'Atom'],'Nat','Atom']])
</span><span class="ansi38-255165000">  (: synthesize 
    (-> Atom 
      (-> Atom) 
      (-> Atom) Nat Atom))
</span>

;;; Nullary rule (axiom)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['inc-pos-count',['STV',S,C]],['let*',[[Tot_cnt,['confidence->count',C]],[Pos_cnt,[*,S,Tot_cnt]],[New_pos_cnt,[+,Pos_cnt,1]],[New_tot_cnt,[+,Tot_cnt,1]]],['STV',[/,New_pos_cnt,New_tot_cnt],['count->confidence',New_tot_cnt]]])
</span><span class="ansi38-255165000">  (= 
    (inc-pos-count 
      (STV $S $C)) 
    (let* 
      ( ($Tot_cnt 
          (confidence->count $C)) 
        ($Pos_cnt 
          (* $S $Tot_cnt)) 
        ($New_pos_cnt 
          (+ $Pos_cnt 1)) 
        ($New_tot_cnt 
          (+ $Tot_cnt 1))) 
      (STV 
        (/ $New_pos_cnt $New_tot_cnt) 
        (count->confidence $New_tot_cnt))))
</span>

;; Return the first order probability mode of the second order
;; distribution associated to a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mode,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mode 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Axiom,Rule,Depth],[case,[Axiom],[[Query,Query]]]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Axiom $Rule $Depth) 
    (case 
      ($Axiom) 
      ( ($Query $Query))))
</span>

;;; Binary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Bl','True']],1.0)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl True)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Bl','False']],0.0)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Bl False)) 0.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['Pr',Pr]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (Pr $Pr)) $Pr)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mode,['STV',Pr,_]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mode 
      (STV $Pr $_)) $Pr)
</span>

;; Return the total count of a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the count
;; is assumed to be a very large number (cause +inf does not seem to
;; be supported at the moment).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,count,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['Bl',_]],['max-count'])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Bl $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['Pr',_]],['max-count'])
</span><span class="ansi38-255165000">  (= 
    (count 
      (Pr $_)) 
    (max-count))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Axiom,Rule,['S',K]],[case,[Rule],[[[:,Ructor,[->,Premise1,Premise2,Conclusion]],[case,Query,[[[:,[Ructor,Proof1,Proof2],Conclusion],[case,[synthesize,[:,Proof1,Premise1],Axiom,Rule,K],[[[:,Proof1,Premise1],[case,[synthesize,[:,Proof2,Premise2],Axiom,Rule,K],[[[:,Proof2,Premise2],Query]]]]]]]]]]]]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Axiom $Rule 
      (S $K)) 
    (case 
      ($Rule) 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Conclusion)) 
          (case $Query 
            ( ( (: 
                  ($Ructor $Proof1 $Proof2) $Conclusion) 
                (case 
                  (synthesize 
                    (: $Proof1 $Premise1) $Axiom $Rule $K) 
                  ( ( (: $Proof1 $Premise1) 
                      (case 
                        (synthesize 
                          (: $Proof2 $Premise2) $Axiom $Rule $K) 
                        ( ( (: $Proof2 $Premise2) $Query)))))))))))))
</span>

;;; Knowledge base
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,kb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: kb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[count,['STV',_,Conf]],['confidence->count',Conf])
</span><span class="ansi38-255165000">  (= 
    (count 
      (STV $_ $Conf)) 
    (confidence->count $Conf))
</span>

;; Return the confidence of a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the
;; confidence is assumed to be 1.0.  For truth values capturing a
;; notion of confidence, such as STV, the formula to convert a count
;; into confidence is as follows
;;
;; confidence = count / (count + lookahead)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,confidence,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: confidence 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['Bl',_]],1.0)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Bl $_)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['Pr',_]],1.0)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (Pr $_)) 1.0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[kb],[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]])
</span><span class="ansi38-255165000">  (= 
    (kb) 
    (superpose 
      ( (: f 
          (-> Number String)) 
        (: g 
          (-> String Bool)) 
        (: h 
          (-> Bool Number)) 
        (: i 
          (-> String Number Bool)))))
</span>

;;; Rule base
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,rb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: rb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[confidence,['STV',_,Conf]],Conf)
</span><span class="ansi38-255165000">  (= 
    (confidence 
      (STV $_ $Conf)) $Conf)
</span>

;; Return the positive count of a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'pos-count',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: pos-count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['pos-count',Tv],[*,[mode,Tv],[count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (pos-count $Tv) 
    (* 
      (mode $Tv) 
      (count $Tv)))
</span>

;; Return the negative count of a truth value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'neg-count',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: neg-count 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['neg-count',Tv],[*,[-,1,[mode,Tv]],[count,Tv]])
</span><span class="ansi38-255165000">  (= 
    (neg-count $Tv) 
    (* 
      (- 1 
        (mode $Tv)) 
      (count $Tv)))
</span>

;; Return the posterior alpha of a truth value
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'post-alpha',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post-alpha 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[rb],[superpose,[[:,->,[->,B,C],[->,A,B],[->,A,C]],[:,.:,[->,[->,C,D],[->,A,B,C],[->,A,B,D]]]]]])
</span><span class="ansi38-255165000">  (= 
    (rb) 
    (superpose 
      ( (: -> 
          (-> $B $C) 
          (-> $A $B) 
          (-> $A $C)) 
        (: .: 
          (-> 
            (-> $C $D) 
            (-> $A $B $C) 
            (-> $A $B $D))))))
</span>

;; Function composition
;; Blackbird
;;; Test program synthesizer
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['post-alpha',Tv],[+,['prior-alpha'],['pos-count',Tv]])
</span><span class="ansi38-255165000">  (= 
    (post-alpha $Tv) 
    (+ 
      (prior-alpha) 
      (pos-count $Tv)))
</span>

;; Return the posterior beta of a truth value
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'post-beta',[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: post-beta 
    (-> TruthValue Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['post-beta',Tv],[+,['prior-beta'],['neg-count',Tv]])
</span><span class="ansi38-255165000">  (= 
    (post-beta $Tv) 
    (+ 
      (prior-beta) 
      (neg-count $Tv)))
</span>

<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb Z))

</span>;; Return the first order probability mean of the second order
;; distribution associated to a truth value.  For truth values not
;; capturing a notion of confidence, such as Bl or Pr then the
;; confidence is assumed to be 1.0.  For truth values capturing a
;; notion of confidence, such as STV, a beta distribution is assumed.
<span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,'Z']],OUT).

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,mean,[->,'TruthValue','Number']])
</span><span class="ansi38-255165000">  (: mean 
    (-> TruthValue Number))
</span>

; Evaluation took 0.004 secs. (4.16 milliseconds) 
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Bl','True']],1.0)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl True)) 1.0)
</span>

NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: $_337670 $_337972) kb rb Z) 
    (: f 
      (-> Number String)))

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Bl','False']],0.0)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Bl False)) 0.0)
</span>

; Evaluation took 0.009 secs. (8.80 milliseconds) 
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['Pr',Pr]],Pr)
</span><span class="ansi38-255165000">  (= 
    (mean 
      (Pr $Pr)) $Pr)
</span>

NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: $_337670 $_337972) kb rb Z) 
    (: g 
      (-> String Bool)))

</span>; Evaluation took 0.013 secs. (13.08 milliseconds) 
NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: $_337670 $_337972) kb rb Z) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[mean,['STV',Pr,Conf]],['let*',[[A,['post-alpha',['STV',Pr,Conf]]],[B,['post-beta',['STV',Pr,Conf]]]],[/,A,[+,A,B]]])
</span><span class="ansi38-255165000">  (= 
    (mean 
      (STV $Pr $Conf)) 
    (let* 
      ( ($A 
          (post-alpha 
            (STV $Pr $Conf))) 
        ($B 
          (post-beta 
            (STV $Pr $Conf)))) 
      (/ $A 
        (+ $A $B))))
</span>

      <--(9,retval('Empty'))
<span class="ansi33"> Empty

</span>; Evaluation took 0.017 secs. (17.44 milliseconds) 
NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: $_337670 $_337972) kb rb Z) 
    (: i 
      (-> String Number Bool)))

</span>;; (: f (-> Number String)), (: g (-> String Bool)), (: h (-> Bool Number)), (: i (-> String Number Bool))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'direct-introduction-base-formula',[->,'Bool','TruthValue']])
</span><span class="ansi38-255165000">  (: direct-introduction-base-formula 
    (-> Bool TruthValue))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['direct-introduction-base-formula',Qa],['STV',['bool->number',Qa],['count->confidence',1]])
</span><span class="ansi38-255165000">  (= 
    (direct-introduction-base-formula $Qa) 
    (STV 
      (bool->number $Qa) 
      (count->confidence 1)))
</span>

;; Alternate implication direct introduction formula.  Inductive case,
;; meaning the piece of evidence gets aggregated to another truth
;; value.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'direct-introduction-recursive-formula',[->,'Bool','TruthValue','TruthValue']])
</span><span class="ansi38-255165000">  (: direct-introduction-recursive-formula 
    (-> Bool TruthValue TruthValue))
</span>

<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','String']],kb,rb,'Z']],OUT).

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['direct-introduction-recursive-formula','False',['STV',PQs,PQc]],['inc-neg-count',['STV',PQs,PQc]])
</span><span class="ansi38-255165000">  (= 
    (direct-introduction-recursive-formula False 
      (STV $PQs $PQc)) 
    (inc-neg-count 
      (STV $PQs $PQc)))
</span>

; Evaluation took 0.004 secs. (4.46 milliseconds) 
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['direct-introduction-recursive-formula','True',['STV',PQs,PQc]],['inc-pos-count',['STV',PQs,PQc]])
</span><span class="ansi38-255165000">  (= 
    (direct-introduction-recursive-formula True 
      (STV $PQs $PQc)) 
    (inc-pos-count 
      (STV $PQs $PQc)))
</span>

      <--(8,retval('Empty'))
<span class="ansi33"> Empty

</span>NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: $_406914 
        (-> Number String)) kb rb Z) 
    (: f 
      (-> Number String)))

</span>;; (: f (-> Number String))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['â\x8A\¢',['â\x89\\x9E\',['â\x86\\x92\',P,Q],['ETV','Empty',['STV',1,0]]]])
</span><span class="ansi38-255165000">  (â¢ 
    (â 
      (â $P $Q) 
      (ETV Empty 
        (STV 1 0))))
</span>

;; Recursive step (inductive rule):
;;
;; (p a) â patv
;; (q a) â qatv
;; pâq â (ETV ev pqtv)
;; a â ev
;; â¢
;; pâq â (ETV (insert a ev) tv)
;;
;; where tv is calculated as defined further below.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',['â\x8A\¢',['â\x89\\x9E\',[P,A],Patv],['â\x89\\x9E\',[Q,A],Qatv],['â\x89\\x9E\',['â\x86\\x92\',P,Q],['ETV',Ev,Pqtv]],['â\x88\\x89\',A,Ev],['â\x89\\x9E\',['â\x86\\x92\',P,Q],['ETV',[insert,A,Ev],[idi_formula,Patv,Qtv,Pqtv]]]])
</span><span class="ansi38-255165000">  (â¢ 
    (â 
      ($P $A) $Patv) 
    (â 
      ($Q $A) $Qatv) 
    (â 
      (â $P $Q) 
      (ETV $Ev $Pqtv)) 
    (â $A $Ev) 
    (â 
      (â $P $Q) 
      (ETV 
        (insert $A $Ev) 
        (idi_formula $Patv $Qtv $Pqtv))))
</span>

      <--(0,retval('Empty'))
<span class="ansi38-250144246">; !(record synthesize 
</span><span class="ansi33"> Empty

</span>;; Premises
;; Conclusion
;; TODO: add equality like
;;
;; (= (â¢ ....) ....)
;;
;; to relate inference tree and inference rules
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))
<span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'String','Number','Number']],kb,rb,['S','Z']]],OUT).

</span><span class="ansi38-000068000">!("========== Test formula ==========")

</span>      -->(11,'&self',["========== Test formula =========="],depth(1))
<span class="ansi33">  ("========== Test formula ==========")

</span><span class="ansi31">
! (assertEqualToResult 
    ("========== Test formula ==========") ())
(@ ! 
  (assertEqual 
    ( ("========== Test formula ==========")) ()))
write_pass_fail_result("ENTAIL.IMPLICATIONDIRECTINTRODUCTIONENTAILTEST.105",exec,["========== Test formula =========="],'FAIL',[],[["========== Test formula =========="]])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!(idi_formula 
  (Bl True) 
  (Bl False) 
  (STV 1 0))

</span>      -->(12,'&self',[idi_formula,['Bl','True'],['Bl','False'],['STV',1,0]],depth(1))
          -->(13,'&self',['Bl','True'],depth(3))
          -->(14,'&self',['Bl','True'],depth(3))
          -->(15,'&self',['Bl','False'],depth(3))
          -->(16,'&self',['STV',1,0],depth(3))
          -->(17,'&self',['Bl','True'],depth(3))
          -->(18,'&self',['Bl','False'],depth(3))
          -->(19,'&self',['STV',1,0],depth(3))
<span class="ansi33">  (idi_formula 
    (Bl True) 
    (Bl False) 
    (STV 1 0))

</span>      -->(0,'&self',[record,synthesize,[[:,_457648,[->,'String','Number','Number']],kb,rb,['S','Z']]],depth(1))
          -->(1,'&self',[->,'String','Number','Number'],depth(3))
        -->(2,'&self',['â\x8A\·',synthesize,[[:,_457648,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_457648,[->,'String','Number','Number']],kb,rb,['S','Z']]],depth(2))
            -->(3,'&self',[[:,_457648,[->,'String','Number','Number']],kb,rb,['S','Z']],depth(4))
<span class="ansi31">
! (assertEqualToResult 
    (idi_formula 
      (Bl True) 
      (Bl False) 
      (STV 1 0)) 
    ( ("========== Test inductive rule ==========")))
(@ ! 
  (assertEqual 
    ( (idi_formula 
        (Bl True) 
        (Bl False) 
        (STV 1 0))) 
    ( ("========== Test inductive rule =========="))))
                -->(4,'&self',['S','Z'],depth(6))
write_pass_fail_result("ENTAIL.IMPLICATIONDIRECTINTRODUCTIONENTAILTEST.106",exec,[idi_formula,['Bl','True'],['Bl','False'],['STV',1,0]],'FAIL',[["========== Test inductive rule =========="]],[[idi_formula,['Bl','True'],['Bl','False'],['STV',1,0]]])

</span>

--------------------------------------------------------------------------
;; Test axiom
            -->(5,'&self',[synthesize,[:,_457648,[->,'String','Number','Number']],kb,rb,['S','Z']],depth(4))
                -->(6,'&self',[->,'String','Number','Number'],depth(6))
              -->(7,'&self',[case,[kb],[[[:,_457648,[->,'String','Number','Number']],[:,_457648,[->,'String','Number','Number']]]]],depth(5))
                  -->(8,'&self',[kb],depth(7))
                    -->(9,'&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],depth(8))
                        -->(10,'&self',[:,f,[->,'Number','String']],depth(10))
                            -->(11,'&self',[->,'Number','String'],depth(12))
                            -->(12,'&self',[->,'Number','String'],depth(12))
                            -->(13,'&self',[->,'Number','String'],depth(12))
                      -->(14,'&self',[:,f,[->,'Number','String']],depth(9))
                          -->(15,'&self',[->,'Number','String'],depth(11))
                          -->(16,'&self',[->,'Number','String'],depth(11))
                          -->(17,'&self',[->,'Number','String'],depth(11))
                  -->(18,'&self',[:,_506406,[->,'String','Number','Number']],depth(7))
                      -->(19,'&self',[->,'String','Number','Number'],depth(9))
<span class="ansi38-000068000">!("========== Test axiom ==========")

</span>      -->(20,'&self',["========== Test axiom =========="],depth(1))
                      -->(20,'&self',[->,'String','Number','Number'],depth(9))
<span class="ansi33">  ("========== Test axiom ==========")

</span>                      -->(21,'&self',[->,'String','Number','Number'],depth(9))
                        -->(22,'&self',[:,g,[->,'String','Bool']],depth(10))
                            -->(23,'&self',[->,'String','Bool'],depth(12))
                            -->(24,'&self',[->,'String','Bool'],depth(12))
                            -->(25,'&self',[->,'String','Bool'],depth(12))
<span class="ansi31">
! (assertEqualToResult 
    ("========== Test axiom ==========") ())
(@ ! 
  (assertEqual 
    ( ("========== Test axiom ==========")) ()))
write_pass_fail_result("ENTAIL.IMPLICATIONDIRECTINTRODUCTIONENTAILTEST.107",exec,["========== Test axiom =========="],'FAIL',[],[["========== Test axiom =========="]])

</span>

--------------------------------------------------------------------------
                      -->(26,'&self',[:,g,[->,'String','Bool']],depth(9))
                          -->(27,'&self',[->,'String','Bool'],depth(11))
                          -->(28,'&self',[->,'String','Bool'],depth(11))
                          -->(29,'&self',[->,'String','Bool'],depth(11))
                  -->(30,'&self',[:,_506406,[->,'String','Number','Number']],depth(7))
                      -->(31,'&self',[->,'String','Number','Number'],depth(9))
                      -->(32,'&self',[->,'String','Number','Number'],depth(9))
                      -->(33,'&self',[->,'String','Number','Number'],depth(9))
                        -->(34,'&self',[:,h,[->,'Bool','Number']],depth(10))
                            -->(35,'&self',[->,'Bool','Number'],depth(12))
                            -->(36,'&self',[->,'Bool','Number'],depth(12))
                            -->(37,'&self',[->,'Bool','Number'],depth(12))
                      -->(38,'&self',[:,h,[->,'Bool','Number']],depth(9))
                          -->(39,'&self',[->,'Bool','Number'],depth(11))
                          -->(40,'&self',[->,'Bool','Number'],depth(11))
<span class="ansi38-000068000">!(match &self 
  (â¢ 
    (â 
      (â P Q) $Tv)) $Tv)

</span>                          -->(41,'&self',[->,'Bool','Number'],depth(11))
                  -->(42,'&self',[:,_5410,[->,'String','Number','Number']],depth(7))
      -->(21,'&self',[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['â\x86\\x92\','P','Q'],_416352]],_416352],depth(1))
                      -->(43,'&self',[->,'String','Number','Number'],depth(9))
        -->(22,'&self',['ETV','Empty',['STV',1,0]],depth(2))
            -->(23,'&self',['STV',1,0],depth(4))
                      -->(44,'&self',[->,'String','Number','Number'],depth(9))
                      -->(45,'&self',[->,'String','Number','Number'],depth(9))
<span class="ansi33">  (ETV Empty 
    (STV 1 0))
</span><span class="ansi32">['Tv'=['ETV','Empty',['STV',1,0]]]
</span>

      <--(21,retval(['ETV','Empty',['STV',1,0]]))
                        -->(46,'&self',[:,i,[->,'String','Number','Bool']],depth(10))
                            -->(47,'&self',[->,'String','Number','Bool'],depth(12))
;; Test inductive rule
                            -->(48,'&self',[->,'String','Number','Bool'],depth(12))
                            -->(49,'&self',[->,'String','Number','Bool'],depth(12))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                      -->(50,'&self',[:,i,[->,'String','Number','Bool']],depth(9))
                          -->(51,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(52,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(53,'&self',[->,'String','Number','Bool'],depth(11))
                  -->(54,'&self',[:,_5410,[->,'String','Number','Number']],depth(7))
                      -->(55,'&self',[->,'String','Number','Number'],depth(9))
<span class="ansi38-000068000">!("========== Test inductive rule ==========")

</span>                      -->(56,'&self',[->,'String','Number','Number'],depth(9))
      -->(24,'&self',["========== Test inductive rule =========="],depth(1))
<span class="ansi33">  ("========== Test inductive rule ==========")

</span>                      -->(57,'&self',[->,'String','Number','Number'],depth(9))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(58,'&self',[case,[rb],[[[:,_29658,[->,_29676,_29682,_29688]],[case,[:,_2866,[->,'String','Number','Number']],[[[:,[_29658,_29748,_29754],_29688],[case,[synthesize,[:,_29748,_29676],kb,rb,'Z'],[[[:,_29748,_29676],[case,[synthesize,[:,_29754,_29682],kb,rb,'Z'],[[[:,_29754,_29682],[:,_2866,[->,'String','Number','Number']]]]]]]]]]]]]],depth(5))
                  -->(59,'&self',[rb],depth(7))
                    -->(60,'&self',[superpose,[[:,->,[->,_32356,_32362],[->,_32380,_32356],[->,_32380,_32362]],[:,.:,[->,[->,_32362,_32464],[->,_32380,_32356,_32362],[->,_32380,_32356,_32464]]]]],depth(8))
                        -->(61,'&self',[:,->,[->,_32356,_32362],[->,_32380,_32356],[->,_32380,_32362]],depth(10))
                            -->(62,'&self',[->,_32356,_32362],depth(12))
                            -->(63,'&self',[->,_32380,_32356],depth(12))
                            -->(64,'&self',[->,_32380,_32362],depth(12))
                      -->(65,'&self',[:,->,[->,_32356,_32362],[->,_32380,_32356],[->,_32380,_32362]],depth(9))
                          -->(66,'&self',[->,_32356,_32362],depth(11))
                          -->(67,'&self',[->,_32380,_32356],depth(11))
                          -->(68,'&self',[->,_32380,_32362],depth(11))
                  -->(69,'&self',[:,_31336,[->,_31354,_31360,_31366]],depth(7))
                  <--(69,retval('True'))
                        -->(70,'&self',[:,.:,[->,[->,_32362,_32464],[->,_32380,_32356,_32362],[->,_32380,_32356,_32464]]],depth(10))
                            -->(71,'&self',[->,[->,_32362,_32464],[->,_32380,_32356,_32362],[->,_32380,_32356,_32464]],depth(12))
                                -->(72,'&self',[->,_32362,_32464],depth(14))
                                -->(73,'&self',[->,_32380,_32356,_32362],depth(14))
                                <--(73,retval([->|'True']))
                                  -->(74,'&self',[->|'True'],depth(15))
                                -->(75,'&self',[->,==,_32356,_32464],depth(14))
                                <--(75,retval([->|'True']))
                                  -->(76,'&self',[->|'True'],depth(15))
                            <--(71,retval([->,[->,_43430,_43436],[->|'True'],[->|'True']]))
                              -->(77,'&self',[->,[->,_32362,_32464],[->|'True'],[->|'True']],depth(13))
                                  -->(78,'&self',[->,_32362,_32464],depth(15))
                                  -->(79,'&self',[->|'True'],depth(15))
                                  -->(80,'&self',[->|'True'],depth(15))
                        <--(70,retval([:,.:,[->,[->,_46066,_46072],[->|'True'],[->|'True']]]))
                          -->(81,'&self',[:,.:,[->,[->,_32362,_32464],[->|'True'],[->|'True']]],depth(11))
                              -->(82,'&self',[->,[->,_32362,_32464],[->|'True'],[->|'True']],depth(13))
                                  -->(83,'&self',[->,_32362,_32464],depth(15))
                                  -->(84,'&self',[->|'True'],depth(15))
                                  -->(85,'&self',[->|'True'],depth(15))
                    <--(60,retval([:,.:,[->,[->,_49536,_49542],[->|'True'],[->|'True']]]))
                      -->(86,'&self',[:,.:,[->,[->,_32362,_32464],[->|'True'],[->|'True']]],depth(9))
                          -->(87,'&self',[->,[->,_32362,_32464],[->|'True'],[->|'True']],depth(11))
                              -->(88,'&self',[->,_32362,_32464],depth(13))
                              -->(89,'&self',[->|'True'],depth(13))
                              -->(90,'&self',[->|'True'],depth(13))
                  -->(91,'&self',[case,[:,_31390,[->,'String','Number','Number']],[[[:,[.:,_31462,_31468],[->|'True']],[case,[synthesize,[:,_31462,[->,_32362,_32464]],kb,rb,'Z'],[[[:,_31462,[->,_32362,_32464]],[case,[synthesize,[:,_31468,[->|'True']],kb,rb,'Z'],[[[:,_31468,[->|'True']],[:,_31390,[->,'String','Number','Number']]]]]]]]]]],depth(7))
                      -->(92,'&self',[:,_31390,[->,'String','Number','Number']],depth(9))
                          -->(93,'&self',[->,'String','Number','Number'],depth(11))
                          -->(94,'&self',[->,'String','Number','Number'],depth(11))
                          -->(95,'&self',[->,'String','Number','Number'],depth(11))
                      -->(96,'&self',[:,[.:,_53348,_53354],[->|'True']],depth(9))
                          -->(97,'&self',[.:,_53348,_53354],depth(11))
                          -->(98,'&self',[->|'True'],depth(11))
                  <--(91,retval(fail))
                  <--(59,retval([superpose,[[:,->,[->,_32830,_32836],[->,_32854,_32830],[->,_32854,_32836]],[:,.:,[->,[->,_32836,_32938],[->,_32854,_32830,_32836],[->,_32854,_32830,_32938]]]]]))
              <--(58,retval(fail))
            <--(5,retval([case,[rb],[[[:,_30552,[->,_30570,_30576,_30582]],[case,[:,_30612,[->,'String','Number','Number']],[[[:,[_30552,_30684,_30690],_30582],[case,[synthesize,[:,_30684,_30570],kb,rb,'Z'],[[[:,_30684,_30570],[case,[synthesize,[:,_30690,_30576],kb,rb,'Z'],[[[:,_30690,_30576],[:,_30612,[->,'String','Number','Number']]]]]]]]]]]]]]))
        <--(2,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_4598,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_4598,[->,'String','Number','Number']],kb,rb,['S','Z']]]))
;; (: (.: h i) (-> String Number Number))
<span class="ansi38-000068000">!(let* 
  ( ($Pa 
      (â 
        (P 42) 
        (Bl True))) 
    ($Qa 
      (â 
        (Q 42) 
        (Bl False))) 
    ($Pq 
      (â 
        (â P Q) 
        (ETV Empty 
          (STV 1 0)))) 
    ($An 
      (â 42 Empty))) 
  (match &self 
    (â¢ $Pa $Qa $Pq $An $Conclusion) $Conclusion))

</span>      -->(25,'&self',['let*',[[_480762,['â\x89\\x9E\',['P',42],['Bl','True']]],[_481124,['â\x89\\x9E\',['Q',42],['Bl','False']]],[_481486,['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]]],[_481888,['â\x88\\x89\',42,'Empty']]],[match,'&self',['â\x8A\¢',_480762,_481124,_481486,_481888,_483394],_483394]],depth(1))
          -->(26,'&self',['â\x89\\x9E\',['P',42],['Bl','True']],depth(3))
              -->(27,'&self',['P',42],depth(5))
              -->(28,'&self',['P',42],depth(5))
              -->(29,'&self',['Bl','True'],depth(5))
              -->(30,'&self',['P',42],depth(5))
              -->(31,'&self',['Bl','True'],depth(5))
          -->(32,'&self',['let*',[[_481124,['â\x89\\x9E\',['Q',42],['Bl','False']]],[_481486,['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]]],[_481888,['â\x88\\x89\',42,'Empty']]],[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['P',42],['Bl','True']],_481124,_481486,_481888,_483394],_483394]],depth(3))
              -->(33,'&self',['â\x89\\x9E\',['Q',42],['Bl','False']],depth(5))
                  -->(34,'&self',['Q',42],depth(7))
                  -->(35,'&self',['Q',42],depth(7))
                  -->(36,'&self',['Bl','False'],depth(7))
                  -->(37,'&self',['Q',42],depth(7))
                  -->(38,'&self',['Bl','False'],depth(7))
              -->(39,'&self',['let*',[[_481486,['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]]],[_481888,['â\x88\\x89\',42,'Empty']]],[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['P',42],['Bl','True']],['â\x89\\x9E\',['Q',42],['Bl','False']],_481486,_481888,_483394],_483394]],depth(5))
                  -->(40,'&self',['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]],depth(7))
                      -->(41,'&self',['â\x86\\x92\','P','Q'],depth(9))
                      -->(42,'&self',['â\x86\\x92\','P','Q'],depth(9))
                      -->(43,'&self',['ETV','Empty',['STV',1,0]],depth(9))
                          -->(44,'&self',['STV',1,0],depth(11))
                      -->(45,'&self',['â\x86\\x92\','P','Q'],depth(9))
                      -->(46,'&self',['ETV','Empty',['STV',1,0]],depth(9))
                          -->(47,'&self',['STV',1,0],depth(11))
                  -->(48,'&self',['let*',[[_481888,['â\x88\\x89\',42,'Empty']]],[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['P',42],['Bl','True']],['â\x89\\x9E\',['Q',42],['Bl','False']],['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]],_481888,_483394],_483394]],depth(7))
                      -->(49,'&self',['â\x88\\x89\',42,'Empty'],depth(9))
                      -->(50,'&self',['let*',[],[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['P',42],['Bl','True']],['â\x89\\x9E\',['Q',42],['Bl','False']],['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]],['â\x88\\x89\',42,'Empty'],_483394],_483394]],depth(9))
                          -->(51,'&self',[match,'&self',['â\x8A\¢',['â\x89\\x9E\',['P',42],['Bl','True']],['â\x89\\x9E\',['Q',42],['Bl','False']],['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]],['â\x88\\x89\',42,'Empty'],_483394],_483394],depth(11))
                            -->(52,'&self',['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_502694,['STV',1,0]]]],depth(12))
                                -->(53,'&self',['â\x86\\x92\','P','Q'],depth(14))
                                -->(54,'&self',['â\x86\\x92\','P','Q'],depth(14))
                                -->(55,'&self',['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_502694,['STV',1,0]]],depth(14))
                                    -->(56,'&self',[insert,42,'Empty'],depth(16))
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))

</span>                                    -->(57,'&self',[idi_formula,['Bl','True'],_502694,['STV',1,0]],depth(16))
                                        -->(58,'&self',['Bl','True'],depth(18))
                                        -->(59,'&self',['Bl','True'],depth(18))
                                        -->(60,'&self',['STV',1,0],depth(18))
<span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))
</span>                                        -->(61,'&self',['Bl','True'],depth(18))
                                        -->(62,'&self',['STV',1,0],depth(18))
<span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(99,'&self',[record,synthesize,[[:,_74050,[->,'Number','Bool']],kb,rb,['S','Z']]],depth(1))
                                -->(63,'&self',['â\x86\\x92\','P','Q'],depth(14))
          -->(100,'&self',[->,'Number','Bool'],depth(3))
                                -->(64,'&self',['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_502694,['STV',1,0]]],depth(14))
                                    -->(65,'&self',[insert,42,'Empty'],depth(16))
                                    -->(66,'&self',[idi_formula,['Bl','True'],_502694,['STV',1,0]],depth(16))
                                        -->(67,'&self',['Bl','True'],depth(18))
                                        -->(68,'&self',['Bl','True'],depth(18))
                                        -->(69,'&self',['STV',1,0],depth(18))
                                        -->(70,'&self',['Bl','True'],depth(18))
                                        -->(71,'&self',['STV',1,0],depth(18))
                        -->(72,'&self',['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_502694,['STV',1,0]]]],depth(10))
                            -->(73,'&self',['â\x86\\x92\','P','Q'],depth(12))
                            -->(74,'&self',['â\x86\\x92\','P','Q'],depth(12))
                            -->(75,'&self',['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_502694,['STV',1,0]]],depth(12))
                                -->(76,'&self',[insert,42,'Empty'],depth(14))
                                -->(77,'&self',[idi_formula,['Bl','True'],_502694,['STV',1,0]],depth(14))
                                    -->(78,'&self',['Bl','True'],depth(16))
                                    -->(79,'&self',['Bl','True'],depth(16))
                                    -->(80,'&self',['STV',1,0],depth(16))
                                    -->(81,'&self',['Bl','True'],depth(16))
                                    -->(82,'&self',['STV',1,0],depth(16))
                            -->(83,'&self',['â\x86\\x92\','P','Q'],depth(12))
                            -->(84,'&self',['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_4200,['STV',1,0]]],depth(12))
                                -->(85,'&self',[insert,42,'Empty'],depth(14))
                                -->(86,'&self',[idi_formula,['Bl','True'],_4200,['STV',1,0]],depth(14))
                                    -->(87,'&self',['Bl','True'],depth(16))
                                    -->(88,'&self',['Bl','True'],depth(16))
                                    -->(89,'&self',['STV',1,0],depth(16))
                                    -->(90,'&self',['Bl','True'],depth(16))
                                    -->(91,'&self',['STV',1,0],depth(16))
                    -->(92,'&self',['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_4200,['STV',1,0]]]],depth(8))
                        -->(93,'&self',['â\x86\\x92\','P','Q'],depth(10))
                        -->(94,'&self',['â\x86\\x92\','P','Q'],depth(10))
                        -->(95,'&self',['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_4200,['STV',1,0]]],depth(10))
                            -->(96,'&self',[insert,42,'Empty'],depth(12))
                            -->(97,'&self',[idi_formula,['Bl','True'],_4200,['STV',1,0]],depth(12))
                                -->(98,'&self',['Bl','True'],depth(14))
                                -->(99,'&self',['Bl','True'],depth(14))
                                -->(100,'&self',['STV',1,0],depth(14))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; (: (. g f) (-> Number Bool))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi33">  (â 
    (â P Q) 
    (ETV 
      (insert 42 Empty) 
      (idi_formula 
        (Bl True) $_4200 
        (STV 1 0))))
</span><span class="ansi32">['Conclusion'=['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV',[insert,42,'Empty'],[idi_formula,['Bl','True'],_4200,['STV',1,0]]]],'An'=['â\x88\\x89\',42,'Empty'],'Pq'=['â\x89\\x9E\',['â\x86\\x92\','P','Q'],['ETV','Empty',['STV',1,0]]],'Qa'=['â\x89\\x9E\',['Q',42],['Bl','False']],'Pa'=['â\x89\\x9E\',['P',42],['Bl','True']]]
</span>

<span class="ansi32">% 2,510,558 inferences, 3.918 CPU in 3.945 seconds (99% CPU, 640763 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-pln_metta/entail/ImplicationDirectIntroductionEntailTest.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 0
</span><span class="ansi31">Failures: 3
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_1a/hyperon-pln_metta/entail/ImplicationDirectIntroductionEntailTest.metta.html" )
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,'&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],depth(1))
          -->(1,'&self',['.',g,f],depth(3))
        -->(2,'&self',['â\x8A\·',synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],depth(2))
            -->(3,'&self',[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],depth(4))
                -->(4,'&self',['S','Z'],depth(6))
            -->(5,'&self',[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],depth(4))
                -->(6,'&self',['.',g,f],depth(6))
              -->(7,'&self',[case,[kb],[[[:,['.',g,f],[->,'Number','Bool']],[:,['.',g,f],[->,'Number','Bool']]]]],depth(5))
                  -->(8,'&self',[kb],depth(7))
                    -->(9,'&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],depth(8))
                        -->(10,'&self',[:,f,[->,'Number','String']],depth(10))
                            -->(11,'&self',[->,'Number','String'],depth(12))
                            -->(12,'&self',[->,'Number','String'],depth(12))
                            -->(13,'&self',[->,'Number','String'],depth(12))
                      -->(14,'&self',[:,f,[->,'Number','String']],depth(9))
                          -->(15,'&self',[->,'Number','String'],depth(11))
                          -->(16,'&self',[->,'Number','String'],depth(11))
                          -->(17,'&self',[->,'Number','String'],depth(11))
                  -->(18,'&self',[:,['.',g,f],[->,'Number','Bool']],depth(7))
                      -->(19,'&self',['.',g,f],depth(9))
                      -->(20,'&self',['.',g,f],depth(9))
                      -->(21,'&self',[->,'Number','Bool'],depth(9))
                      -->(22,'&self',['.',g,f],depth(9))
                      -->(23,'&self',[->,'Number','Bool'],depth(9))
                        -->(24,'&self',[:,g,[->,'String','Bool']],depth(10))
                            -->(25,'&self',[->,'String','Bool'],depth(12))
                            -->(26,'&self',[->,'String','Bool'],depth(12))
                            -->(27,'&self',[->,'String','Bool'],depth(12))
                      -->(28,'&self',[:,g,[->,'String','Bool']],depth(9))
                          -->(29,'&self',[->,'String','Bool'],depth(11))
                          -->(30,'&self',[->,'String','Bool'],depth(11))
                          -->(31,'&self',[->,'String','Bool'],depth(11))
                  -->(32,'&self',[:,['.',g,f],[->,'Number','Bool']],depth(7))
                      -->(33,'&self',['.',g,f],depth(9))
                      -->(34,'&self',['.',g,f],depth(9))
                      -->(35,'&self',[->,'Number','Bool'],depth(9))
                      -->(36,'&self',['.',g,f],depth(9))
                      -->(37,'&self',[->,'Number','Bool'],depth(9))
                        -->(38,'&self',[:,h,[->,'Bool','Number']],depth(10))
                            -->(39,'&self',[->,'Bool','Number'],depth(12))
                            -->(40,'&self',[->,'Bool','Number'],depth(12))
                            -->(41,'&self',[->,'Bool','Number'],depth(12))
                      -->(42,'&self',[:,h,[->,'Bool','Number']],depth(9))
                          -->(43,'&self',[->,'Bool','Number'],depth(11))
                          -->(44,'&self',[->,'Bool','Number'],depth(11))
                          -->(45,'&self',[->,'Bool','Number'],depth(11))
                  -->(46,'&self',[:,['.',g,f],[->,'Number','Bool']],depth(7))
                      -->(47,'&self',['.',g,f],depth(9))
                      -->(48,'&self',['.',g,f],depth(9))
                      -->(49,'&self',[->,'Number','Bool'],depth(9))
                      -->(50,'&self',['.',g,f],depth(9))
                      -->(51,'&self',[->,'Number','Bool'],depth(9))
                        -->(52,'&self',[:,i,[->,'String','Number','Bool']],depth(10))
                            -->(53,'&self',[->,'String','Number','Bool'],depth(12))
                            -->(54,'&self',[->,'String','Number','Bool'],depth(12))
                            -->(55,'&self',[->,'String','Number','Bool'],depth(12))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                      -->(56,'&self',[:,i,[->,'String','Number','Bool']],depth(9))
                          -->(57,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(58,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(59,'&self',[->,'String','Number','Bool'],depth(11))
                  -->(60,'&self',[:,['.',g,f],[->,'Number','Bool']],depth(7))
                      -->(61,'&self',['.',g,f],depth(9))
                      -->(62,'&self',['.',g,f],depth(9))
                      -->(63,'&self',[->,'Number','Bool'],depth(9))
                      -->(64,'&self',['.',g,f],depth(9))
                      -->(65,'&self',[->,'Number','Bool'],depth(9))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(66,'&self',[case,[rb],[[[:,_197992,[->,_198010,_198016,_198022]],[case,[:,['.',g,f],[->,'Number','Bool']],[[[:,[_197992,_198082,_198088],_198022],[case,[synthesize,[:,_198082,_198010],kb,rb,'Z'],[[[:,_198082,_198010],[case,[synthesize,[:,_198088,_198016],kb,rb,'Z'],[[[:,_198088,_198016],[:,['.',g,f],[->,'Number','Bool']]]]]]]]]]]]]],depth(5))
                  -->(67,'&self',[rb],depth(7))
                    -->(68,'&self',[superpose,[[:,->,[->,_200738,_200744],[->,_200762,_200738],[->,_200762,_200744]],[:,.:,[->,[->,_200744,_200846],[->,_200762,_200738,_200744],[->,_200762,_200738,_200846]]]]],depth(8))
                        -->(69,'&self',[:,->,[->,_200738,_200744],[->,_200762,_200738],[->,_200762,_200744]],depth(10))
                            -->(70,'&self',[->,_200738,_200744],depth(12))
                            -->(71,'&self',[->,_200762,_200738],depth(12))
                            -->(72,'&self',[->,_200762,_200744],depth(12))
                      -->(73,'&self',[:,->,[->,_200738,_200744],[->,_200762,_200738],[->,_200762,_200744]],depth(9))
                          -->(74,'&self',[->,_200738,_200744],depth(11))
                          -->(75,'&self',[->,_200762,_200738],depth(11))
                          -->(76,'&self',[->,_200762,_200744],depth(11))
                  -->(77,'&self',[:,_199706,[->,_199724,_199730,_199736]],depth(7))
                  <--(77,retval('True'))
                        -->(78,'&self',[:,.:,[->,[->,_200744,_200846],[->,_200762,_200738,_200744],[->,_200762,_200738,_200846]]],depth(10))
                            -->(79,'&self',[->,[->,_200744,_200846],[->,_200762,_200738,_200744],[->,_200762,_200738,_200846]],depth(12))
                                -->(80,'&self',[->,_200744,_200846],depth(14))
                                -->(81,'&self',[->,_200762,_200738,_200744],depth(14))
                                <--(81,retval([->|'True']))
                                  -->(82,'&self',[->|'True'],depth(15))
                                -->(83,'&self',[->,==,_200738,_200846],depth(14))
                                <--(83,retval([->|'True']))
                                  -->(84,'&self',[->|'True'],depth(15))
                            <--(79,retval([->,[->,_211812,_211818],[->|'True'],[->|'True']]))
                              -->(85,'&self',[->,[->,_200744,_200846],[->|'True'],[->|'True']],depth(13))
                                  -->(86,'&self',[->,_200744,_200846],depth(15))
                                  -->(87,'&self',[->|'True'],depth(15))
                                  -->(88,'&self',[->|'True'],depth(15))
                        <--(78,retval([:,.:,[->,[->,_214448,_214454],[->|'True'],[->|'True']]]))
                          -->(89,'&self',[:,.:,[->,[->,_200744,_200846],[->|'True'],[->|'True']]],depth(11))
                              -->(90,'&self',[->,[->,_200744,_200846],[->|'True'],[->|'True']],depth(13))
                                  -->(91,'&self',[->,_200744,_200846],depth(15))
                                  -->(92,'&self',[->|'True'],depth(15))
                                  -->(93,'&self',[->|'True'],depth(15))
                    <--(68,retval([:,.:,[->,[->,_217918,_217924],[->|'True'],[->|'True']]]))
                      -->(94,'&self',[:,.:,[->,[->,_200744,_200846],[->|'True'],[->|'True']]],depth(9))
                          -->(95,'&self',[->,[->,_200744,_200846],[->|'True'],[->|'True']],depth(11))
                              -->(96,'&self',[->,_200744,_200846],depth(13))
                              -->(97,'&self',[->|'True'],depth(13))
                              -->(98,'&self',[->|'True'],depth(13))
                  -->(99,'&self',[case,[:,['.',g,f],[->,'Number','Bool']],[[[:,[.:,_199844,_199850],[->|'True']],[case,[synthesize,[:,_199844,[->,_200744,_200846]],kb,rb,'Z'],[[[:,_199844,[->,_200744,_200846]],[case,[synthesize,[:,_199850,[->|'True']],kb,rb,'Z'],[[[:,_199850,[->|'True']],[:,['.',g,f],[->,'Number','Bool']]]]]]]]]]],depth(7))
                      -->(100,'&self',[:,['.',g,f],[->,'Number','Bool']],depth(9))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; (: (. g f) (-> Number Bool))
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],Type],kb,rb,['S','Z']]],OUT).

</span>      -->(0,'&self',[record,synthesize,[[:,['.',g,f],_242738],kb,rb,['S','Z']]],depth(1))
          -->(1,'&self',['.',g,f],depth(3))
        -->(2,'&self',['â\x8A\·',synthesize,[[:,['.',g,f],_242738],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_242738],kb,rb,['S','Z']]],depth(2))
            -->(3,'&self',[[:,['.',g,f],_242738],kb,rb,['S','Z']],depth(4))
                -->(4,'&self',['S','Z'],depth(6))
            -->(5,'&self',[synthesize,[:,['.',g,f],_242738],kb,rb,['S','Z']],depth(4))
                -->(6,'&self',['.',g,f],depth(6))
              -->(7,'&self',[case,[kb],[[[:,['.',g,f],_242738],[:,['.',g,f],_242738]]]],depth(5))
                  -->(8,'&self',[kb],depth(7))
                    -->(9,'&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],depth(8))
                        -->(10,'&self',[:,f,[->,'Number','String']],depth(10))
                            -->(11,'&self',[->,'Number','String'],depth(12))
                            -->(12,'&self',[->,'Number','String'],depth(12))
                            -->(13,'&self',[->,'Number','String'],depth(12))
                      -->(14,'&self',[:,f,[->,'Number','String']],depth(9))
                          -->(15,'&self',[->,'Number','String'],depth(11))
                          -->(16,'&self',[->,'Number','String'],depth(11))
                          -->(17,'&self',[->,'Number','String'],depth(11))
                  -->(18,'&self',[:,['.',g,f],_257656],depth(7))
                      -->(19,'&self',['.',g,f],depth(9))
                      -->(20,'&self',['.',g,f],depth(9))
                      -->(21,'&self',['.',g,f],depth(9))
                        -->(22,'&self',[:,g,[->,'String','Bool']],depth(10))
                            -->(23,'&self',[->,'String','Bool'],depth(12))
                            -->(24,'&self',[->,'String','Bool'],depth(12))
                            -->(25,'&self',[->,'String','Bool'],depth(12))
                      -->(26,'&self',[:,g,[->,'String','Bool']],depth(9))
                          -->(27,'&self',[->,'String','Bool'],depth(11))
                          -->(28,'&self',[->,'String','Bool'],depth(11))
                          -->(29,'&self',[->,'String','Bool'],depth(11))
                  -->(30,'&self',[:,['.',g,f],_257656],depth(7))
                      -->(31,'&self',['.',g,f],depth(9))
                      -->(32,'&self',['.',g,f],depth(9))
                      -->(33,'&self',['.',g,f],depth(9))
                        -->(34,'&self',[:,h,[->,'Bool','Number']],depth(10))
                            -->(35,'&self',[->,'Bool','Number'],depth(12))
                            -->(36,'&self',[->,'Bool','Number'],depth(12))
                            -->(37,'&self',[->,'Bool','Number'],depth(12))
                      -->(38,'&self',[:,h,[->,'Bool','Number']],depth(9))
                          -->(39,'&self',[->,'Bool','Number'],depth(11))
                          -->(40,'&self',[->,'Bool','Number'],depth(11))
                          -->(41,'&self',[->,'Bool','Number'],depth(11))
                  -->(42,'&self',[:,['.',g,f],_257656],depth(7))
                      -->(43,'&self',['.',g,f],depth(9))
                      -->(44,'&self',['.',g,f],depth(9))
                      -->(45,'&self',['.',g,f],depth(9))
                        -->(46,'&self',[:,i,[->,'String','Number','Bool']],depth(10))
                            -->(47,'&self',[->,'String','Number','Bool'],depth(12))
                            -->(48,'&self',[->,'String','Number','Bool'],depth(12))
                            -->(49,'&self',[->,'String','Number','Bool'],depth(12))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                      -->(50,'&self',[:,i,[->,'String','Number','Bool']],depth(9))
                          -->(51,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(52,'&self',[->,'String','Number','Bool'],depth(11))
                          -->(53,'&self',[->,'String','Number','Bool'],depth(11))
                  -->(54,'&self',[:,['.',g,f],_257656],depth(7))
                      -->(55,'&self',['.',g,f],depth(9))
                      -->(56,'&self',['.',g,f],depth(9))
                      -->(57,'&self',['.',g,f],depth(9))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(58,'&self',[case,[rb],[[[:,_307446,[->,_307464,_307470,_307476]],[case,[:,['.',g,f],_242738],[[[:,[_307446,_307536,_307542],_307476],[case,[synthesize,[:,_307536,_307464],kb,rb,'Z'],[[[:,_307536,_307464],[case,[synthesize,[:,_307542,_307470],kb,rb,'Z'],[[[:,_307542,_307470],[:,['.',g,f],_242738]]]]]]]]]]]]],depth(5))
                  -->(59,'&self',[rb],depth(7))
                    -->(60,'&self',[superpose,[[:,->,[->,_310120,_310126],[->,_310144,_310120],[->,_310144,_310126]],[:,.:,[->,[->,_310126,_310228],[->,_310144,_310120,_310126],[->,_310144,_310120,_310228]]]]],depth(8))
                        -->(61,'&self',[:,->,[->,_310120,_310126],[->,_310144,_310120],[->,_310144,_310126]],depth(10))
                            -->(62,'&self',[->,_310120,_310126],depth(12))
                            -->(63,'&self',[->,_310144,_310120],depth(12))
                            -->(64,'&self',[->,_310144,_310126],depth(12))
                      -->(65,'&self',[:,->,[->,_310120,_310126],[->,_310144,_310120],[->,_310144,_310126]],depth(9))
                          -->(66,'&self',[->,_310120,_310126],depth(11))
                          -->(67,'&self',[->,_310144,_310120],depth(11))
                          -->(68,'&self',[->,_310144,_310126],depth(11))
                  -->(69,'&self',[:,_309106,[->,_309124,_309130,_309136]],depth(7))
                  <--(69,retval('True'))
                        -->(70,'&self',[:,.:,[->,[->,_310126,_310228],[->,_310144,_310120,_310126],[->,_310144,_310120,_310228]]],depth(10))
                            -->(71,'&self',[->,[->,_310126,_310228],[->,_310144,_310120,_310126],[->,_310144,_310120,_310228]],depth(12))
                                -->(72,'&self',[->,_310126,_310228],depth(14))
                                -->(73,'&self',[->,_310144,_310120,_310126],depth(14))
                                <--(73,retval([->|'True']))
                                  -->(74,'&self',[->|'True'],depth(15))
                                -->(75,'&self',[->,==,_310120,_310228],depth(14))
                                <--(75,retval([->|'True']))
                                  -->(76,'&self',[->|'True'],depth(15))
                            <--(71,retval([->,[->,_321194,_321200],[->|'True'],[->|'True']]))
                              -->(77,'&self',[->,[->,_310126,_310228],[->|'True'],[->|'True']],depth(13))
                                  -->(78,'&self',[->,_310126,_310228],depth(15))
                                  -->(79,'&self',[->|'True'],depth(15))
                                  -->(80,'&self',[->|'True'],depth(15))
                        <--(70,retval([:,.:,[->,[->,_323830,_323836],[->|'True'],[->|'True']]]))
                          -->(81,'&self',[:,.:,[->,[->,_310126,_310228],[->|'True'],[->|'True']]],depth(11))
                              -->(82,'&self',[->,[->,_310126,_310228],[->|'True'],[->|'True']],depth(13))
                                  -->(83,'&self',[->,_310126,_310228],depth(15))
                                  -->(84,'&self',[->|'True'],depth(15))
                                  -->(85,'&self',[->|'True'],depth(15))
                    <--(60,retval([:,.:,[->,[->,_327300,_327306],[->|'True'],[->|'True']]]))
                      -->(86,'&self',[:,.:,[->,[->,_310126,_310228],[->|'True'],[->|'True']]],depth(9))
                          -->(87,'&self',[->,[->,_310126,_310228],[->|'True'],[->|'True']],depth(11))
                              -->(88,'&self',[->,_310126,_310228],depth(13))
                              -->(89,'&self',[->|'True'],depth(13))
                              -->(90,'&self',[->|'True'],depth(13))
                  -->(91,'&self',[case,[:,['.',g,f],_309184],[[[:,[.:,_309226,_309232],[->|'True']],[case,[synthesize,[:,_309226,[->,_310126,_310228]],kb,rb,'Z'],[[[:,_309226,[->,_310126,_310228]],[case,[synthesize,[:,_309232,[->|'True']],kb,rb,'Z'],[[[:,_309232,[->|'True']],[:,['.',g,f],_309184]]]]]]]]]],depth(7))
                      -->(92,'&self',[:,['.',g,f],_309184],depth(9))
                          -->(93,'&self',['.',g,f],depth(11))
                          -->(94,'&self',['.',g,f],depth(11))
                          -->(95,'&self',['.',g,f],depth(11))
                      -->(96,'&self',[:,[.:,_331112,_331118],[->|'True']],depth(9))
                          -->(97,'&self',[.:,_331112,_331118],depth(11))
                          -->(98,'&self',[->|'True'],depth(11))
                  <--(91,retval(fail))
                  <--(59,retval([superpose,[[:,->,[->,_310594,_310600],[->,_310618,_310594],[->,_310618,_310600]],[:,.:,[->,[->,_310600,_310702],[->,_310618,_310594,_310600],[->,_310618,_310594,_310702]]]]]))
              <--(58,retval(fail))
            <--(5,retval([case,[rb],[[[:,_308328,[->,_308346,_308352,_308358]],[case,[:,['.',g,f],_308412],[[[:,[_308328,_308454,_308460],_308358],[case,[synthesize,[:,_308454,_308346],kb,rb,'Z'],[[[:,_308454,_308346],[case,[synthesize,[:,_308460,_308352],kb,rb,'Z'],[[[:,_308460,_308352],[:,['.',g,f],_308412]]]]]]]]]]]]]))
        <--(2,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',g,f],_253056],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_253056],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,['S','Z']]],OUT).

</span>      -->(99,'&self',[record,synthesize,[[:,_353276,_353578],kb,rb,['S','Z']]],depth(1))
          -->(100,'&self',['S','Z'],depth(3))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: $_353276 $_353578) kb rb 
      (S Z)) 
    (: f 
      (-> Number String)))

</span>NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: $_353276 $_353578) kb rb 
      (S Z)) 
    (: g 
      (-> String Bool)))

</span>NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: $_353276 $_353578) kb rb 
      (S Z)) 
    (: h 
      (-> Bool Number)))

</span>NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: $_353276 $_353578) kb rb 
      (S Z)) 
    (: i 
      (-> String Number Bool)))

</span>;; (: f (-> Number String)), ..., (: (. f h) (-> Bool String)), ...
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,In,'Bool']],kb,rb,[fromNumber,2]]],OUT).

</span>      -->(0,'&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,_457382,'Bool']],kb,rb,[fromNumber,2]]],depth(1))
          -->(1,'&self',['.',g,f],depth(3))
        -->(2,'&self',['â\x8A\·',synthesize,[[:,['.',['.',g,f],h],[->,_457382,'Bool']],kb,rb,[fromNumber,2]],[synthesize,[:,['.',['.',g,f],h],[->,_457382,'Bool']],kb,rb,[fromNumber,2]]],depth(2))
            -->(3,'&self',[[:,['.',['.',g,f],h],[->,_457382,'Bool']],kb,rb,[fromNumber,2]],depth(4))
                -->(4,'&self',[fromNumber,2],depth(6))
                  -->(5,'&self',[if,[<=,2,0],'Z',['S',[fromNumber,[-,2,1]]]],depth(7))
                      -->(6,'&self',[<=,2,0],depth(9))
                        -->(7,'&self',[or,[<,2,0],[==,2,0]],depth(10))
                            -->(8,'&self',[<,2,0],depth(12))
                            <--(8,retval('False'))
                            -->(9,'&self',[==,2,0],depth(12))
                            <--(9,retval('False'))
                        <--(7,retval('False'))
                      -->(10,'&self',['S',[fromNumber,[-,2,1]]],depth(9))
                          -->(11,'&self',[fromNumber,[-,2,1]],depth(11))
                              -->(12,'&self',[-,2,1],depth(13))
                              <--(12,retval(1))
                              -->(13,'&self',[fromNumber,1],depth(13))
                                -->(14,'&self',[if,[<=,1,0],'Z',['S',[fromNumber,[-,1,1]]]],depth(14))
                                    -->(15,'&self',[<=,1,0],depth(16))
                                      -->(16,'&self',[or,[<,1,0],[==,1,0]],depth(17))
                                          -->(17,'&self',[<,1,0],depth(19))
                                          <--(17,retval('False'))
                                          -->(18,'&self',[==,1,0],depth(19))
                                          <--(18,retval('False'))
                                      <--(16,retval('False'))
                                    -->(19,'&self',['S',[fromNumber,[-,1,1]]],depth(16))
                                        -->(20,'&self',[fromNumber,[-,1,1]],depth(18))
                                            -->(21,'&self',[-,1,1],depth(20))
                                            <--(21,retval(0))
                                            -->(22,'&self',[fromNumber,0],depth(20))
                                              -->(23,'&self',[if,[<=,0,0],'Z',['S',[fromNumber,[-,0,1]]]],depth(21))
                                                  -->(24,'&self',[<=,0,0],depth(23))
                                                    -->(25,'&self',[or,[<,0,0],[==,0,0]],depth(24))
                                                        -->(26,'&self',[<,0,0],depth(26))
                                                        <--(26,retval('False'))
                                                        -->(27,'&self',[==,0,0],depth(26))
                                                        <--(27,retval('True'))
                                                    <--(25,retval('True'))
                                      -->(28,'&self',['S','Z'],depth(17))
                                  -->(29,'&self',['S','Z'],depth(15))
                            -->(30,'&self',['S','Z'],depth(12))
                        -->(31,'&self',['S',['S','Z']],depth(10))
                            -->(32,'&self',['S','Z'],depth(12))
                    -->(33,'&self',['S',['S','Z']],depth(8))
                        -->(34,'&self',['S','Z'],depth(10))
              -->(35,'&self',[[:,['.',['.',g,f],h],[->,_457382,'Bool']],kb,rb,['S',['S','Z']]],depth(5))
                  -->(36,'&self',['S',['S','Z']],depth(7))
                      -->(37,'&self',['S','Z'],depth(9))

</pre>
</body>

</html>
