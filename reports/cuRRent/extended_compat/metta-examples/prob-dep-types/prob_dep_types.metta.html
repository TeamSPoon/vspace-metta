<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta")
%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta:1 
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta')
1=[True, False]
2=[()]
3=[Red, Green, Red, Blue]
4=[()]
5=[True, False, Red, Green, Red, Blue]
6=[()]
7=[False, True, Green, Blue, Green, Red]
8=[()]
9=[(thunk (random Red (random Green Blue))), (thunk (ColPerm (sample (ColDist))))]
10=[()]
11=[Red, Green, Red, Blue, Green, Blue, Green, Red]
12=[()]
13=[(thunk (f (sample (Bernoulli)))), (thunk (HybridPerm (sample (HybridDist))))]
14=[()]
15=[True, False, Red, Green, Red, Blue, False, True, Green, Blue, Green, Red]
16=[()]
17=2.46user 0.01system 0:02.47elapsed 99%CPU (0avgtext+0avgdata 34160maxresident)k
17=0inputs+0outputs (0major+3745minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 1, ['True', 'False']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 2, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 3, ['Red', 'Green', 'Red', 'Blue']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 4, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 5, ['True', 'False', 'Red', 'Green', 'Red', 'Blue']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 6, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 7, ['False', 'True', 'Green', 'Blue', 'Green', 'Red']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 8, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 9, [[thunk, [random, 'Red', [random, 'Green', 'Blue']]], [thunk, ['ColPerm', [sample, ['ColDist']]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 10, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 11, ['Red', 'Green', 'Red', 'Blue', 'Green', 'Blue', 'Green', 'Red']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 12, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 13, [[thunk, [f, [sample, ['Bernoulli']]]], [thunk, ['HybridPerm', [sample, ['HybridDist']]]]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 14, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 15, ['True', 'False', 'Red', 'Green', 'Red', 'Blue', 'False', 'True', 'Green', 'Blue', 'Green', 'Red']).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta', 16, [[]]).

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Distribution',[->,'Type','Type']])
</span><span class="ansi38-255165000">(: Distribution (-> Type Type))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Union',[->,'Type','Type','Type']])
</span><span class="ansi38-255165000">(: Union (-> Type Type Type))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Union',T1,T2],T1])
</span><span class="ansi38-255165000">(= (Union $T1 $T2) $T1)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Union',T1,T2],T2])
</span><span class="ansi38-255165000">(= (Union $T1 $T2) $T2)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,random,[->,T1,T2,['Union',T1,T2]]])
</span><span class="ansi38-255165000">(: random (-> $T1 $T2 (Union $T1 $T2)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[random,A,B],A])
</span><span class="ansi38-255165000">(= (random $A $B) $A)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[random,A,B],B])
</span><span class="ansi38-255165000">(= (random $A $B) $B)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,sample,[->,['Distribution',T1],T1]])
</span><span class="ansi38-255165000">(: sample (-> (Distribution $T1) $T1))
</span>

;;(: thunk (-> $t1 (Distribution $t1)))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,thunk,[->,'Atom',['Distribution',T1]]])
</span><span class="ansi38-255165000">(: thunk (-> Atom (Distribution $T1)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[sample,[thunk,A]],A])
</span><span class="ansi38-255165000">(= (sample (thunk $A)) $A)
</span>

;;;; Bernoulli example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Bool','Type'])
</span><span class="ansi38-255165000">(: Bool Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'True','Bool'])
</span><span class="ansi38-255165000">(: True Bool)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'False','Bool'])
</span><span class="ansi38-255165000">(: False Bool)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Bernoulli',['Distribution','Bool']])
</span><span class="ansi38-255165000">(: Bernoulli (Distribution Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Bernoulli'],[thunk,[random,'True','False']]])
</span><span class="ansi38-255165000">(= (Bernoulli) (thunk (random True False)))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (Bernoulli))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (Bernoulli)) (True False))

</span><span class="ansi38-250144246">; !(sample (Bernoulli))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['Bernoulli']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['Bernoulli']],['True','False']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.01">;; PROB-DEP-TYPES.PROB-DEP-TYPES.01</h3>
          -->(1,eval('&self',[sample,['Bernoulli']],RET),depth(3))
              -->(2,eval('&self',['Bernoulli'],RET),depth(5))
                    -->(3,eval('&self',[random,'True','False'],RET),depth(8))
                        -->(4,eval('&self','True',RET),depth(10))
                    <--(3,retval('True'))
                  -->(5,eval('&self',thunk,RET),depth(7))
                    -->(6,eval('&self',[random,'True','False'],RET),depth(8))
                        -->(7,eval('&self','True',RET),depth(10))
                    -->(8,eval('&self',thunk,RET),depth(8))
                    -->(9,eval('&self','True',RET),depth(8))
                    <--(6,retval('True'))
              <--(2,retval([thunk,'True']))
          <--(1,retval('True'))
; 
; EVAL TEST
; took 0.002 secs. (1.59 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (False True)))
</span>%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta:1550 
%~ eval_call(apply('True',[]),TF)
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (False True))

</span>      <--(0,retval([got,'True',expected,['False','True']]))
<span class="ansi38-013099040">!(assertEqualToResult (sample (Bernoulli)) (True False))

</span><span class="ansi38-250144246">; !(sample (Bernoulli))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['Bernoulli']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['Bernoulli']],['True','False']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.02">;; PROB-DEP-TYPES.PROB-DEP-TYPES.02</h3>
          -->(1,eval('&self',[sample,['Bernoulli']],RET),depth(3))
              -->(2,eval('&self',['Bernoulli'],RET),depth(5))
                    -->(3,eval('&self',[random,'True','False'],RET),depth(8))
                        -->(4,eval('&self','True',RET),depth(10))
                    <--(3,retval('True'))
                  -->(5,eval('&self',thunk,RET),depth(7))
                    -->(6,eval('&self',[random,'True','False'],RET),depth(8))
                        -->(7,eval('&self','True',RET),depth(10))
                    -->(8,eval('&self',thunk,RET),depth(8))
                    -->(9,eval('&self','True',RET),depth(8))
                    <--(6,retval('True'))
              <--(2,retval([thunk,'True']))
          <--(1,retval('True'))
; 
; EVAL TEST
; took 0.002 secs. (2.08 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (False True)))
</span>%~ eval_call(apply('True',[]),TF)
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (False True))

</span>      <--(0,retval([got,'True',expected,['False','True']]))
;;;; Colors example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Color','Type'])
</span><span class="ansi38-255165000">(: Color Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Red','Color'])
</span><span class="ansi38-255165000">(: Red Color)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Green','Color'])
</span><span class="ansi38-255165000">(: Green Color)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Blue','Color'])
</span><span class="ansi38-255165000">(: Blue Color)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'ColDist',['Distribution','Color']])
</span><span class="ansi38-255165000">(: ColDist (Distribution Color))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['ColDist'],[thunk,[random,'Red',[random,'Green','Blue']]]])
</span><span class="ansi38-255165000">(= (ColDist) (thunk (random Red (random Green Blue))))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (ColDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (ColDist)) (Red Green Red Blue))

</span><span class="ansi38-250144246">; !(sample (ColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['ColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['ColDist']],['Red','Green','Red','Blue']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.03">;; PROB-DEP-TYPES.PROB-DEP-TYPES.03</h3>
          -->(1,eval('&self',[sample,['ColDist']],RET),depth(3))
              -->(2,eval('&self',['ColDist'],RET),depth(5))
                    -->(3,eval('&self',[random,'Green','Blue'],RET),depth(8))
                        -->(4,eval('&self','Green',RET),depth(10))
                    -->(5,eval('&self',[random,'Red','Green'],RET),depth(8))
                        -->(6,eval('&self','Red',RET),depth(10))
                    <--(5,retval('Red'))
                    <--(3,retval('Green'))
                  -->(7,eval('&self',thunk,RET),depth(7))
                    -->(8,eval('&self',[random,'Red',[random,'Green','Blue']],RET),depth(8))
                        -->(9,eval('&self','Red',RET),depth(10))
                    <--(8,retval('Red'))
              <--(2,retval([thunk,'Red']))
          <--(1,retval('Red'))
; 
; EVAL TEST
; took 0.003 secs. (2.91 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (Red) (Blue Green Red)))
</span>      <--(0,retval([got,['Red'],expected,['Blue','Green','Red']]))
Deterministic: <span class="ansi33">
(got (Red) expected (Blue Green Red))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (ColDist)) (Red Green Red Blue))

</span><span class="ansi38-250144246">; !(sample (ColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['ColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['ColDist']],['Red','Green','Red','Blue']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.04">;; PROB-DEP-TYPES.PROB-DEP-TYPES.04</h3>
          -->(1,eval('&self',[sample,['ColDist']],RET),depth(3))
              -->(2,eval('&self',['ColDist'],RET),depth(5))
                    -->(3,eval('&self',[random,'Green','Blue'],RET),depth(8))
                        -->(4,eval('&self','Green',RET),depth(10))
                    -->(5,eval('&self',[random,'Red','Green'],RET),depth(8))
                        -->(6,eval('&self','Red',RET),depth(10))
                    <--(5,retval('Red'))
                    <--(3,retval('Green'))
                  -->(7,eval('&self',thunk,RET),depth(7))
                    -->(8,eval('&self',[random,'Red',[random,'Green','Blue']],RET),depth(8))
                        -->(9,eval('&self','Red',RET),depth(10))
                    <--(8,retval('Red'))
              <--(2,retval([thunk,'Red']))
          <--(1,retval('Red'))
; 
; EVAL TEST
; took 0.003 secs. (2.84 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (Red) (Blue Green Red)))
</span>      <--(0,retval([got,['Red'],expected,['Blue','Green','Red']]))
Deterministic: <span class="ansi33">
(got (Red) expected (Blue Green Red))

</span>;;;; Hybrid example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[f,'True'],[sample,['Bernoulli']]])
</span><span class="ansi38-255165000">(= (f True) (sample (Bernoulli)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[f,'False'],[sample,['ColDist']]])
</span><span class="ansi38-255165000">(= (f False) (sample (ColDist)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Bool_U_Color','Type'])
</span><span class="ansi38-255165000">(: Bool_U_Color Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Bool_U_Color'],['Union','Bool','Color']])
</span><span class="ansi38-255165000">(= (Bool_U_Color) (Union Bool Color))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'HybridDist',['Distribution',['Bool_U_Color']]])
</span><span class="ansi38-255165000">(: HybridDist (Distribution (Bool_U_Color)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['HybridDist'],[thunk,[f,[sample,['Bernoulli']]]]])
</span><span class="ansi38-255165000">(= (HybridDist) (thunk (f (sample (Bernoulli)))))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (HybridDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (HybridDist)) (True False Red Green Red Blue))

</span><span class="ansi38-250144246">; !(sample (HybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['HybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['HybridDist']],['True','False','Red','Green','Red','Blue']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.05">;; PROB-DEP-TYPES.PROB-DEP-TYPES.05</h3>
          -->(1,eval('&self',[sample,['HybridDist']],RET),depth(3))
              -->(2,eval('&self',['HybridDist'],RET),depth(5))
                    -->(3,eval('&self',['Bernoulli'],RET),depth(8))
                          -->(4,eval('&self',[random,'True','False'],RET),depth(11))
                              -->(5,eval('&self','True',RET),depth(13))
                          <--(4,retval('True'))
                        -->(6,eval('&self',thunk,RET),depth(10))
                          -->(7,eval('&self',[random,'True','False'],RET),depth(11))
                              -->(8,eval('&self','True',RET),depth(13))
                          -->(9,eval('&self',thunk,RET),depth(11))
                          <--(7,retval('True'))
                    <--(3,retval([thunk,'True']))
              <--(2,retval([thunk,'True']))
          <--(1,retval('True'))
; 
; EVAL TEST
; took 0.008 secs. (8.20 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (Blue False Green Red True)))
</span>%~ eval_call(apply('True',[]),TF)
Switched off tracing. For a longer trace !(pragma! tracelen 101))
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (Blue False Green Red True))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (HybridDist)) (True False Red Green Red Blue))

</span><span class="ansi38-250144246">; !(sample (HybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['HybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['HybridDist']],['True','False','Red','Green','Red','Blue']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.06">;; PROB-DEP-TYPES.PROB-DEP-TYPES.06</h3>
          -->(1,eval('&self',[sample,['HybridDist']],RET),depth(3))
              -->(2,eval('&self',['HybridDist'],RET),depth(5))
                    -->(3,eval('&self',['Bernoulli'],RET),depth(8))
                          -->(4,eval('&self',[random,'True','False'],RET),depth(11))
                              -->(5,eval('&self','True',RET),depth(13))
                          <--(4,retval('True'))
                        -->(6,eval('&self',thunk,RET),depth(10))
                          -->(7,eval('&self',[random,'True','False'],RET),depth(11))
                              -->(8,eval('&self','True',RET),depth(13))
                          -->(9,eval('&self',thunk,RET),depth(11))
                          <--(7,retval('True'))
                    <--(3,retval([thunk,'True']))
              <--(2,retval([thunk,'True']))
          <--(1,retval('True'))
; 
; EVAL TEST
; took 0.014 secs. (14.34 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (Blue False Green Red True)))
</span>%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta:2727 
%~ eval_call(apply('True',[]),TF)
Switched off tracing. For a longer trace !(pragma! tracelen 101))
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (Blue False Green Red True))

</span>;;;; Permutation example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Not',[->,'Bool','Bool']])
</span><span class="ansi38-255165000">(: Not (-> Bool Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Not','True'],'False'])
</span><span class="ansi38-255165000">(= (Not True) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['Not','False'],'True'])
</span><span class="ansi38-255165000">(= (Not False) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'ColPerm',[->,'Color','Color']])
</span><span class="ansi38-255165000">(: ColPerm (-> Color Color))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['ColPerm','Red'],'Green'])
</span><span class="ansi38-255165000">(= (ColPerm Red) Green)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['ColPerm','Green'],'Blue'])
</span><span class="ansi38-255165000">(= (ColPerm Green) Blue)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['ColPerm','Blue'],'Red'])
</span><span class="ansi38-255165000">(= (ColPerm Blue) Red)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'HybridPerm',[->,['Bool_U_Color'],['Bool_U_Color']]])
</span><span class="ansi38-255165000">(: HybridPerm (-> (Bool_U_Color) (Bool_U_Color)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['HybridPerm',A],['Not',A]])
</span><span class="ansi38-255165000">(= (HybridPerm $A) (Not $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['HybridPerm',A],['ColPerm',A]])
</span><span class="ansi38-255165000">(= (HybridPerm $A) (ColPerm $A))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(HybridPerm (sample (HybridDist)))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (HybridPerm (sample (HybridDist))) (False True Green Blue Green Red))

</span><span class="ansi38-250144246">; !(HybridPerm (sample (HybridDist)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['HybridPerm',[sample,['HybridDist']]],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,['HybridPerm',[sample,['HybridDist']]],['False','True','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.07">;; PROB-DEP-TYPES.PROB-DEP-TYPES.07</h3>
          -->(1,eval('&self',['HybridPerm',[sample,['HybridDist']]],RET),depth(3))
                -->(2,eval('&self',['HybridDist'],RET),depth(6))
                      -->(3,eval('&self',['Bernoulli'],RET),depth(9))
                            -->(4,eval('&self',[random,'True','False'],RET),depth(12))
                                -->(5,eval('&self','True',RET),depth(14))
                            <--(4,retval('True'))
                          -->(6,eval('&self',thunk,RET),depth(11))
                            -->(7,eval('&self',[random,'True','False'],RET),depth(12))
                                -->(8,eval('&self','True',RET),depth(14))
                            -->(9,eval('&self',thunk,RET),depth(12))
                            <--(7,retval('True'))
                      <--(3,retval([thunk,'True']))
                <--(2,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.018 secs. (18.01 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (False (ColPerm True)) (Blue False Green Red True)))
</span>Deterministic: <span class="ansi33">
(got (False (ColPerm True)) expected (Blue False Green Red True))

</span><span class="ansi38-013099040">!(assertEqualToResult (HybridPerm (sample (HybridDist))) (False True Green Blue Green Red))

</span><span class="ansi38-250144246">; !(HybridPerm (sample (HybridDist)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['HybridPerm',[sample,['HybridDist']]],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,['HybridPerm',[sample,['HybridDist']]],['False','True','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.08">;; PROB-DEP-TYPES.PROB-DEP-TYPES.08</h3>
          -->(1,eval('&self',['HybridPerm',[sample,['HybridDist']]],RET),depth(3))
                -->(2,eval('&self',['HybridDist'],RET),depth(6))
                      -->(3,eval('&self',['Bernoulli'],RET),depth(9))
                            -->(4,eval('&self',[random,'True','False'],RET),depth(12))
                                -->(5,eval('&self','True',RET),depth(14))
                            <--(4,retval('True'))
                          -->(6,eval('&self',thunk,RET),depth(11))
                            -->(7,eval('&self',[random,'True','False'],RET),depth(12))
                                -->(8,eval('&self','True',RET),depth(14))
                            -->(9,eval('&self',thunk,RET),depth(12))
                            <--(7,retval('True'))
                      <--(3,retval([thunk,'True']))
                <--(2,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.020 secs. (19.77 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (False (ColPerm True)) (Blue False Green Red True)))
</span>Deterministic: <span class="ansi33">
(got (False (ColPerm True)) expected (Blue False Green Red True))

</span>;;;; Second-order color example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'ColDistPermuted',['Distribution','Color']])
</span><span class="ansi38-255165000">(: ColDistPermuted (Distribution Color))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['ColDistPermuted'],[thunk,['ColPerm',[sample,['ColDist']]]]])
</span><span class="ansi38-255165000">(= (ColDistPermuted) (thunk (ColPerm (sample (ColDist)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'SecondOrderColDist',['Distribution',['Distribution','Color']]])
</span><span class="ansi38-255165000">(: SecondOrderColDist (Distribution (Distribution Color)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['SecondOrderColDist'],[thunk,[random,['ColDist'],['ColDistPermuted']]]])
</span><span class="ansi38-255165000">(= (SecondOrderColDist) (thunk (random (ColDist) (ColDistPermuted))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'FlattenedColDist',['Distribution','Color']])
</span><span class="ansi38-255165000">(: FlattenedColDist (Distribution Color))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['FlattenedColDist'],[thunk,[sample,[sample,['SecondOrderColDist']]]]])
</span><span class="ansi38-255165000">(= (FlattenedColDist) (thunk (sample (sample (SecondOrderColDist)))))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (SecondOrderColDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (SecondOrderColDist)) ((thunk (random Red (random Green Blue))) (thunk (ColPerm (sample (ColDist))))))

</span><span class="ansi38-250144246">; !(sample (SecondOrderColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['SecondOrderColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['SecondOrderColDist']],[[thunk,[random,'Red',[random,'Green','Blue']]],[thunk,['ColPerm',[sample,['ColDist']]]]]],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.09">;; PROB-DEP-TYPES.PROB-DEP-TYPES.09</h3>
          -->(1,eval('&self',[sample,['SecondOrderColDist']],RET),depth(3))
              -->(2,eval('&self',['SecondOrderColDist'],RET),depth(5))
                    -->(3,eval('&self',['ColDist'],RET),depth(8))
                          -->(4,eval('&self',[random,'Green','Blue'],RET),depth(11))
                              -->(5,eval('&self','Green',RET),depth(13))
                          -->(6,eval('&self',[random,'Red','Green'],RET),depth(11))
                              -->(7,eval('&self','Red',RET),depth(13))
                          <--(6,retval('Red'))
                          <--(4,retval('Green'))
                        -->(8,eval('&self',thunk,RET),depth(10))
                          -->(9,eval('&self',[random,'Red',[random,'Green','Blue']],RET),depth(11))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.020 secs. (20.45 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  ((thunk Red)) ((thunk (ColPerm (sample (ColDist)))) (thunk (random Red (random Green Blue))))))
</span>NDet Result(0): <span class="ansi33">
(got ((thunk Red)) expected ((thunk Green) (thunk Red)))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (SecondOrderColDist)) ((thunk (random Red (random Green Blue))) (thunk (ColPerm (sample (ColDist))))))

</span><span class="ansi38-250144246">; !(sample (SecondOrderColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['SecondOrderColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['SecondOrderColDist']],[[thunk,[random,'Red',[random,'Green','Blue']]],[thunk,['ColPerm',[sample,['ColDist']]]]]],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.10">;; PROB-DEP-TYPES.PROB-DEP-TYPES.10</h3>
          -->(1,eval('&self',[sample,['SecondOrderColDist']],RET),depth(3))
              -->(2,eval('&self',['SecondOrderColDist'],RET),depth(5))
                    -->(3,eval('&self',['ColDist'],RET),depth(8))
                          -->(4,eval('&self',[random,'Green','Blue'],RET),depth(11))
                              -->(5,eval('&self','Green',RET),depth(13))
                          -->(6,eval('&self',[random,'Red','Green'],RET),depth(11))
                              -->(7,eval('&self','Red',RET),depth(13))
                          <--(6,retval('Red'))
                          <--(4,retval('Green'))
                        -->(8,eval('&self',thunk,RET),depth(10))
                          -->(9,eval('&self',[random,'Red',[random,'Green','Blue']],RET),depth(11))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.014 secs. (14.08 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  ((thunk Red)) ((thunk (ColPerm (sample (ColDist)))) (thunk (random Red (random Green Blue))))))
</span>NDet Result(0): <span class="ansi33">
(got ((thunk Red)) expected ((thunk Green) (thunk Red)))

</span><span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (FlattenedColDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (FlattenedColDist)) (Red Green Red Blue Green Blue Green Red))

</span><span class="ansi38-250144246">; !(sample (FlattenedColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['FlattenedColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['FlattenedColDist']],['Red','Green','Red','Blue','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.11">;; PROB-DEP-TYPES.PROB-DEP-TYPES.11</h3>
          -->(1,eval('&self',[sample,['FlattenedColDist']],RET),depth(3))
              -->(2,eval('&self',['FlattenedColDist'],RET),depth(5))
                    -->(3,eval('&self',['SecondOrderColDist'],RET),depth(8))
                          -->(4,eval('&self',['ColDist'],RET),depth(11))
                                -->(5,eval('&self',[random,'Green','Blue'],RET),depth(14))
                                    -->(6,eval('&self','Green',RET),depth(16))
                                -->(7,eval('&self',[random,'Red','Green'],RET),depth(14))
                                    -->(8,eval('&self','Red',RET),depth(16))
                                <--(7,retval('Red'))
                                <--(5,retval('Green'))
                              -->(9,eval('&self',thunk,RET),depth(13))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.022 secs. (22.45 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (Red) (Blue Green Red)))
</span>Deterministic: <span class="ansi33">
(got (Red) expected (Blue Green Red))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (FlattenedColDist)) (Red Green Red Blue Green Blue Green Red))

</span><span class="ansi38-250144246">; !(sample (FlattenedColDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['FlattenedColDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['FlattenedColDist']],['Red','Green','Red','Blue','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.12">;; PROB-DEP-TYPES.PROB-DEP-TYPES.12</h3>
          -->(1,eval('&self',[sample,['FlattenedColDist']],RET),depth(3))
              -->(2,eval('&self',['FlattenedColDist'],RET),depth(5))
                    -->(3,eval('&self',['SecondOrderColDist'],RET),depth(8))
                          -->(4,eval('&self',['ColDist'],RET),depth(11))
                                -->(5,eval('&self',[random,'Green','Blue'],RET),depth(14))
                                    -->(6,eval('&self','Green',RET),depth(16))
                                -->(7,eval('&self',[random,'Red','Green'],RET),depth(14))
                                    -->(8,eval('&self','Red',RET),depth(16))
                                <--(7,retval('Red'))
                                <--(5,retval('Green'))
                              -->(9,eval('&self',thunk,RET),depth(13))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.033 secs. (32.86 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (Red) (Blue Green Red)))
</span>Deterministic: <span class="ansi33">
(got (Red) expected (Blue Green Red))

</span>;;;; Second-order hybrid example
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'HybridDistPermuted',['Distribution',['Bool_U_Color']]])
</span><span class="ansi38-255165000">(: HybridDistPermuted (Distribution (Bool_U_Color)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['HybridDistPermuted'],[thunk,['HybridPerm',[sample,['HybridDist']]]]])
</span><span class="ansi38-255165000">(= (HybridDistPermuted) (thunk (HybridPerm (sample (HybridDist)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'SecondOrderHybridDist',['Distribution',['Distribution',['Bool_U_Color']]]])
</span><span class="ansi38-255165000">(: SecondOrderHybridDist (Distribution (Distribution (Bool_U_Color))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['SecondOrderHybridDist'],[thunk,[random,['HybridDist'],['HybridDistPermuted']]]])
</span><span class="ansi38-255165000">(= (SecondOrderHybridDist) (thunk (random (HybridDist) (HybridDistPermuted))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'FlattenedHybridDist',['Distribution',['Bool_U_Color']]])
</span><span class="ansi38-255165000">(: FlattenedHybridDist (Distribution (Bool_U_Color)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['FlattenedHybridDist'],[thunk,[sample,[sample,['SecondOrderHybridDist']]]]])
</span><span class="ansi38-255165000">(= (FlattenedHybridDist) (thunk (sample (sample (SecondOrderHybridDist)))))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (SecondOrderHybridDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (SecondOrderHybridDist)) ((thunk (f (sample (Bernoulli)))) (thunk (HybridPerm (sample (HybridDist))))))

</span><span class="ansi38-250144246">; !(sample (SecondOrderHybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['SecondOrderHybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['SecondOrderHybridDist']],[[thunk,[f,[sample,['Bernoulli']]]],[thunk,['HybridPerm',[sample,['HybridDist']]]]]],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.13">;; PROB-DEP-TYPES.PROB-DEP-TYPES.13</h3>
          -->(1,eval('&self',[sample,['SecondOrderHybridDist']],RET),depth(3))
              -->(2,eval('&self',['SecondOrderHybridDist'],RET),depth(5))
                    -->(3,eval('&self',['HybridDist'],RET),depth(8))
                          -->(4,eval('&self',['Bernoulli'],RET),depth(11))
                                -->(5,eval('&self',[random,'True','False'],RET),depth(14))
                                    -->(6,eval('&self','True',RET),depth(16))
                                <--(5,retval('True'))
                              -->(7,eval('&self',thunk,RET),depth(13))
                                -->(8,eval('&self',[random,'True','False'],RET),depth(14))
                                    -->(9,eval('&self','True',RET),depth(16))
                                <--(8,retval('True'))
                          <--(4,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.069 secs. (69.11 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  ((thunk True)) ((thunk (HybridPerm (sample (HybridDist)))) (thunk (f (sample (Bernoulli)))))))
</span>NDet Result(0): <span class="ansi33">
(got ((thunk True)) expected ((thunk False) (thunk True)))

</span>NDet Result(1): <span class="ansi33">
(got ((thunk True)) expected ((thunk (ColPerm True)) (thunk True)))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (SecondOrderHybridDist)) ((thunk (f (sample (Bernoulli)))) (thunk (HybridPerm (sample (HybridDist))))))

</span><span class="ansi38-250144246">; !(sample (SecondOrderHybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['SecondOrderHybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['SecondOrderHybridDist']],[[thunk,[f,[sample,['Bernoulli']]]],[thunk,['HybridPerm',[sample,['HybridDist']]]]]],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.14">;; PROB-DEP-TYPES.PROB-DEP-TYPES.14</h3>
          -->(1,eval('&self',[sample,['SecondOrderHybridDist']],RET),depth(3))
              -->(2,eval('&self',['SecondOrderHybridDist'],RET),depth(5))
                    -->(3,eval('&self',['HybridDist'],RET),depth(8))
                          -->(4,eval('&self',['Bernoulli'],RET),depth(11))
                                -->(5,eval('&self',[random,'True','False'],RET),depth(14))
                                    -->(6,eval('&self','True',RET),depth(16))
                                <--(5,retval('True'))
                              -->(7,eval('&self',thunk,RET),depth(13))
                                -->(8,eval('&self',[random,'True','False'],RET),depth(14))
                                    -->(9,eval('&self','True',RET),depth(16))
                                <--(8,retval('True'))
                          <--(4,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.067 secs. (67.22 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  ((thunk True)) ((thunk (HybridPerm (sample (HybridDist)))) (thunk (f (sample (Bernoulli)))))))
</span>NDet Result(0): <span class="ansi33">
(got ((thunk True)) expected ((thunk False) (thunk True)))

</span>NDet Result(1): <span class="ansi33">
(got ((thunk True)) expected ((thunk (ColPerm True)) (thunk True)))

</span><span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(sample (FlattenedHybridDist))
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult (sample (FlattenedHybridDist)) (True False Red Green Red Blue False True Green Blue Green Red))

</span><span class="ansi38-250144246">; !(sample (FlattenedHybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['FlattenedHybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['FlattenedHybridDist']],['True','False','Red','Green','Red','Blue','False','True','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.15">;; PROB-DEP-TYPES.PROB-DEP-TYPES.15</h3>
          -->(1,eval('&self',[sample,['FlattenedHybridDist']],RET),depth(3))
              -->(2,eval('&self',['FlattenedHybridDist'],RET),depth(5))
                    -->(3,eval('&self',['SecondOrderHybridDist'],RET),depth(8))
                          -->(4,eval('&self',['HybridDist'],RET),depth(11))
                                -->(5,eval('&self',['Bernoulli'],RET),depth(14))
                                      -->(6,eval('&self',[random,'True','False'],RET),depth(17))
                                          -->(7,eval('&self','True',RET),depth(19))
                                      <--(6,retval('True'))
                                    -->(8,eval('&self',thunk,RET),depth(16))
                                      -->(9,eval('&self',[random,'True','False'],RET),depth(17))
                                      <--(9,retval('True'))
                                <--(5,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.103 secs. (103.26 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (Blue False Green Red True)))
</span>%~ eval_call(apply('True',[]),TF)
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (Blue False Green Red True))

</span><span class="ansi38-013099040">!(assertEqualToResult (sample (FlattenedHybridDist)) (True False Red Green Red Blue False True Green Blue Green Red))

</span><span class="ansi38-250144246">; !(sample (FlattenedHybridDist))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[sample,['FlattenedHybridDist']],OUT).

</span>      -->(0,eval('&self',[assertEqualToResult,[sample,['FlattenedHybridDist']],['True','False','Red','Green','Red','Blue','False','True','Green','Blue','Green','Red']],RET),depth(1))
<h3 id="PROB-DEP-TYPES.PROB-DEP-TYPES.16">;; PROB-DEP-TYPES.PROB-DEP-TYPES.16</h3>
          -->(1,eval('&self',[sample,['FlattenedHybridDist']],RET),depth(3))
              -->(2,eval('&self',['FlattenedHybridDist'],RET),depth(5))
                    -->(3,eval('&self',['SecondOrderHybridDist'],RET),depth(8))
                          -->(4,eval('&self',['HybridDist'],RET),depth(11))
                                -->(5,eval('&self',['Bernoulli'],RET),depth(14))
                                      -->(6,eval('&self',[random,'True','False'],RET),depth(17))
                                          -->(7,eval('&self','True',RET),depth(19))
                                      <--(6,retval('True'))
                                    -->(8,eval('&self',thunk,RET),depth(16))
                                      -->(9,eval('&self',[random,'True','False'],RET),depth(17))
                                      <--(9,retval('True'))
                                <--(5,retval([thunk,'True']))
Switched off tracing. For a longer trace !(pragma! tracelen 101)); 
; EVAL TEST
; took 0.125 secs. (124.54 milliseconds) 
<span class="ansi31">(loonit_failureR (equal_enough_for_test  (True) (Blue False Green Red True)))
</span>%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta:3645 
%~ eval_call(apply('True',[]),TF)
%~ eval_call(apply('True',[]),TF)
NDet Result(0): <span class="ansi33">
(got True expected (Blue False Green Red True))

</span><span class="ansi32">% 2,664,897 inferences, 1.591 CPU in 4.264 seconds (37% CPU, 1674983 Lips)
</span> (= "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 0
</span><span class="ansi31">Failures: 16
</span><br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/prob-dep-types/prob_dep_types.metta.html" )

</pre>
</body>

</html>
