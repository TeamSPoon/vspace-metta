<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta')
1=[(), (), (), (), (), (), (), (), (), (), (), ()]
2=[GroundingSpace-0x555b9c5de458, GroundingSpace-0x555b9c5e5048, (: If (-> Bool Atom Atom)), (: If (-> Bool Atom Atom)), (= $then $then), (= () ()), (: If (-> Bool Atom Atom Atom)), (: If (-> Bool Atom Atom Atom)), (= $else $else), (= $then $then), (= ((Error (superpose $Ev1) superpose expects single expression as an argument) (Error (superpose $Ev2) superpose expects single expression as an argument)) ((Error (superpose $Ev1) superpose expects single expression as an argument) (Error (superpose $Ev2) superpose expects single expression as an argument))), (= (if (> $1 $2) $1 $2) (if (> $1 $2) $1 $2)), (= (if (< $1 $2) $1 $2) (if (< $1 $2) $1 $2)), (= (if (< $x 0) (- 0 $x) $x) (if (< $x 0) (- 0 $x) $x)), (: sequential (-> Expression %Undefined%)), (= (Error (superpose $1) superpose expects single expression as an argument) (Error (superpose $1) superpose expects single expression as an argument)), (: do (-> Expression %Undefined%)), (= 0 0), (= 1 1), (= () ()), (= () (If (< $C $N) (BuildTupleCounts (1 (Error (superpose $TOld) superpose expects single expression as an argument)) (+ $C 1) $N))), (= (If (< $C $N) (BuildTupleCounts (1 (Error (superpose $TOld) superpose expects single expression as an argument)) (+ $C 1) $N)) ()), (= (If (< $C $N) (BuildTupleCounts (1 (Error (superpose $TOld) superpose expects single expression as an argument)) (+ $C 1) $N)) (If (< $C $N) (BuildTupleCounts (1 (Error (superpose $TOld) superpose expects single expression as an argument)) (+ $C 1) $N))), (: CountElement (-> Expression Number)), (= 1 1), (= 2 2), (= 3 3), (= 4 4), (= 5 5), (= 6 6), (= 7 7), (= 8 8), (= 9 9), (= 10 10), (= 11 11), (= 12 12), (: CollapseCardinality (-> Expression Number)), (= 1 1)]
3=8.51user 0.11system 0:08.79elapsed 98%CPU (0avgtext+0avgdata 33864maxresident)k
3=42208inputs+0outputs (262major+3506minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta', 1, [[], [], [], [], [], [], [], [], [], [], [], []]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta', 2, ['GroundingSpace-0x555b9c5de458', 'GroundingSpace-0x555b9c5e5048', [:, 'If', [->, 'Bool', 'Atom', 'Atom']], [:, 'If', [->, 'Bool', 'Atom', 'Atom']], [=, Then, Then], [=, [], []], [:, 'If', [->, 'Bool', 'Atom', 'Atom', 'Atom']], [:, 'If', [->, 'Bool', 'Atom', 'Atom', 'Atom']], [=, Else, Else], [=, Then, Then], [=, [['Error', [superpose, Ev1], superpose, expects, single, expression, as, an, argument], ['Error', [superpose, Ev2], superpose, expects, single, expression, as, an, argument]], [['Error', [superpose, Ev1], superpose, expects, single, expression, as, an, argument], ['Error', [superpose, Ev2], superpose, expects, single, expression, as, an, argument]]], [=, [if, [>, Num1, Num2], Num1, Num2], [if, [>, Num1, Num2], Num1, Num2]], [=, [if, [<, Num1, Num2], Num1, Num2], [if, [<, Num1, Num2], Num1, Num2]], [=, [if, [<, X, 0], [-, 0, X], X], [if, [<, X, 0], [-, 0, X], X]], [:, sequential, [->, 'Expression', '%Undefined%']], [=, ['Error', [superpose, Num1], superpose, expects, single, expression, as, an, argument], ['Error', [superpose, Num1], superpose, expects, single, expression, as, an, argument]], [:, do, [->, 'Expression', '%Undefined%']], [=, 0, 0], [=, 1, 1], [=, [], []], [=, [], ['If', [<, C, N], ['BuildTupleCounts', [1, ['Error', [superpose, TOld], superpose, expects, single, expression, as, an, argument]], [+, C, 1], N]]], [=, ['If', [<, C, N], ['BuildTupleCounts', [1, ['Error', [superpose, TOld], superpose, expects, single, expression, as, an, argument]], [+, C, 1], N]], []], [=, ['If', [<, C, N], ['BuildTupleCounts', [1, ['Error', [superpose, TOld], superpose, expects, single, expression, as, an, argument]], [+, C, 1], N]], ['If', [<, C, N], ['BuildTupleCounts', [1, ['Error', [superpose, TOld], superpose, expects, single, expression, as, an, argument]], [+, C, 1], N]]], [:, 'CountElement', [->, 'Expression', 'Number']], [=, 1, 1], [=, 2, 2], [=, 3, 3], [=, 4, 4], [=, 5, 5], [=, 6, 6], [=, 7, 7], [=, 8, 8], [=, 9, 9], [=, 10, 10], [=, 11, 11], [=, 12, 12], [:, 'CollapseCardinality', [->, 'Expression', 'Number']], [=, 1, 1]]).

;;; stdlib extension
;;;(assert Equals 0.11111 0.11112)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,'If',[->,'Bool','Atom','Atom']])
</span><span class="ansi38-255165000">(: If 
  (-> Bool Atom Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['If','True',Then],Then])
</span><span class="ansi38-255165000">(= 
  (If True $Then) $Then)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['If','False',Then],[]])
</span><span class="ansi38-255165000">(= 
  (If False $Then) ())
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,'If',[->,'Bool','Atom','Atom','Atom']])
</span><span class="ansi38-255165000">(: If 
  (-> Bool Atom Atom Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['If',Cond,Then,Else],[if,Cond,Then,Else]])
</span><span class="ansi38-255165000">(= 
  (If $Cond $Then $Else) 
  (if $Cond $Then $Else))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleConcat',Ev1,Ev2],[collapse,[superpose,[[superpose,Ev1],[superpose,Ev2]]]]])
</span><span class="ansi38-255165000">(= 
  (TupleConcat $Ev1 $Ev2) 
  (collapse 
    (superpose 
      ( (superpose $Ev1) 
        (superpose $Ev2)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[max,Num1,Num2],['If',[>,Num1,Num2],Num1,Num2]])
</span><span class="ansi38-255165000">(= 
  (max $Num1 $Num2) 
  (If 
    (> $Num1 $Num2) $Num1 $Num2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[min,Num1,Num2],['If',[<,Num1,Num2],Num1,Num2]])
</span><span class="ansi38-255165000">(= 
  (min $Num1 $Num2) 
  (If 
    (< $Num1 $Num2) $Num1 $Num2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[abs,X],['If',[<,X,0],[-,0,X],X]])
</span><span class="ansi38-255165000">(= 
  (abs $X) 
  (If 
    (< $X 0) 
    (- 0 $X) $X))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,sequential,[->,'Expression','%Undefined%']])
</span><span class="ansi38-255165000">(: sequential 
  (-> Expression %Undefined%))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[sequential,Num1],[superpose,Num1]])
</span><span class="ansi38-255165000">(= 
  (sequential $Num1) 
  (superpose $Num1))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,do,[->,'Expression','%Undefined%']])
</span><span class="ansi38-255165000">(: do 
  (-> Expression %Undefined%))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[do,Num1],[case,Num1,[]]])
</span><span class="ansi38-255165000">(= 
  (do $Num1) 
  (case $Num1 ()))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[]],0])
</span><span class="ansi38-255165000">(= 
  (TupleCount ()) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1]],1])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1)) 1)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['BuildTupleCounts',TOld,C,N],[let,T,[collapse,[superpose,[1,[superpose,TOld]]]],[superpose,[['add-atom','&self',[=,['TupleCount',T],[+,C,2]]],['If',[<,C,N],['BuildTupleCounts',T,[+,C,1],N]]]]]])
</span><span class="ansi38-255165000">(= 
  (BuildTupleCounts $TOld $C $N) 
  (let $T 
    (collapse 
      (superpose 
        (1 
          (superpose $TOld)))) 
    (superpose 
      ( (add-atom &self 
          (= 
            (TupleCount $T) 
            (+ $C 2))) 
        (If 
          (< $C $N) 
          (BuildTupleCounts $T 
            (+ $C 1) $N))))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,'CountElement',[->,'Expression','Number']])
</span><span class="ansi38-255165000">(: CountElement 
  (-> Expression Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['CountElement',X],[case,X,[[Y,1]]]])
</span><span class="ansi38-255165000">(= 
  (CountElement $X) 
  (case $X 
    ( ($Y 1))))
</span>

;;;Build for count up to 100 (takes a few sec but it is worth it if space or generally collapse counts are often needed)
<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(BuildTupleCounts 
  (1) 0 10)
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult 
  (BuildTupleCounts 
    (1) 0 10) 
  (() () () () () () () () () () () ()))

</span><span class="ansi38-250144246">; !(BuildTupleCounts (1) 0 10)
</span><span class="ansi38-218112214">% DEBUG:   eval('&self',['BuildTupleCounts',[1],0,10],OUT).

</span>    -->(0,eval('&self',[assertEqualToResult,['BuildTupleCounts',[1],0,10],[[],[],[],[],[],[],[],[],[],[],[],[]]],RET),depth(0))
<h3 id="NARS-EXTRAS.NARS-BUILDTUPLECOUNTS.01">;; NARS-EXTRAS.NARS-BUILDTUPLECOUNTS.01</h3>
      -->(1,eval('&self',['BuildTupleCounts',[1],0,10],RET),depth(1))
          -->(2,eval('&self',[collapse,[superpose,[1,[superpose,[1]]]]],RET),depth(3))
            -->(3,eval('&self',[superpose,[1,[superpose,[1]]]],RET),depth(4))
              -->(4,eval('&self',[superpose,[1]],RET),depth(5))
              <--(4,retval(1))
            <--(3,retval(1))
                  -->(5,subst_args('&self',[1,1],RET),depth(7))
                -->(6,subst_args('&self',[1,1],RET),depth(6))
          <--(2,retval([1,1]))
          -->(7,eval('&self',[superpose,[['add-atom','&self',[=,['TupleCount',[1,1]],[+,0,2]]],['If',[<,0,10],['BuildTupleCounts',[1,1],[+,0,1],10]]]],RET),depth(3))
            -->(8,eval('&self',['add-atom','&self',[=,['TupleCount',[1,1]],[+,0,2]]],RET),depth(4))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1]],[+,0,2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1)) 
  (+ 0 2))
</span>

            <--(8,retval('Empty'))
            -->(9,eval('&self',['If',[<,0,10],['BuildTupleCounts',[1,1],[+,0,1],10]],RET),depth(4))
              -->(10,eval('&self',[<,0,10],RET),depth(5))
              -->(11,eval('&self',['BuildTupleCounts',[1,1],[+,0,1],10],RET),depth(5))
                  -->(12,eval('&self',[collapse,[superpose,[1,[superpose,[1,1]]]]],RET),depth(7))
                    -->(13,eval('&self',[superpose,[1,[superpose,[1,1]]]],RET),depth(8))
                      -->(14,eval('&self',[superpose,[1,1]],RET),depth(9))
                      <--(14,retval(1))
                    <--(13,retval(1))
                  <--(12,retval([1,1,1]))
                  -->(17,eval('&self',[superpose,[['add-atom','&self',[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]]],['If',[<,[+,0,1],10],['BuildTupleCounts',[1,1,1],[+,[+,0,1],1],10]]]],RET),depth(7))
                    -->(18,eval('&self',['add-atom','&self',[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]]],RET),depth(8))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1)) 
  (+ 
    (+ 0 1) 2))
</span>

                    <--(18,retval('Empty'))
                    -->(19,eval('&self',['If',[<,[+,0,1],10],['BuildTupleCounts',[1,1,1],[+,[+,0,1],1],10]],RET),depth(8))
                      -->(20,eval('&self',[<,[+,0,1],10],RET),depth(9))
                      -->(22,eval('&self',['BuildTupleCounts',[1,1,1],[+,[+,0,1],1],10],RET),depth(9))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1)) 
  (+ 
    (+ 
      (+ 0 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 0 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 0 1) 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 0 1) 1) 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 0 1) 1) 1) 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 0 1) 1) 1) 1) 1) 1) 1) 2))
</span>

; Switched off tracing. For a longer trace: !(pragma! trace-length 101)<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 2))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]])
</span><span class="ansi38-255165000">(= 
  (TupleCount 
    (1 1 1 1 1 1 1 1 1 1 1 1)) 
  (+ 
    (+ 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 1) 2))
</span>

                      <--(22,retval(fail))
                      <--(20,retval('True'))
                    <--(19,retval(fail))
                  <--(17,retval(fail))
              <--(11,retval(fail))
              <--(10,retval('True'))
            <--(9,retval(fail))
          <--(7,retval(fail))
      <--(1,retval(fail))
; 
; EVAL TEST
; took 0.029 secs. (29.05 milliseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough_for_test  () 
    (())))
</span>    <--(0,retval('Empty'))
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,'CollapseCardinality',[->,'Expression','Number']])
</span><span class="ansi38-255165000">(: CollapseCardinality 
  (-> Expression Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['CollapseCardinality',Expression],['TupleCount',[collapse,['CountElement',Expression]]]])
</span><span class="ansi38-255165000">(= 
  (CollapseCardinality $Expression) 
  (TupleCount 
    (collapse 
      (CountElement $Expression))))
</span>

<span class="ansi38-255165000">;; In file as:  
</span><span class="ansi1 ansi38-255238088">!(get-atoms &self)
</span>;; To unit test case:
<span class="ansi38-013099040">!(assertEqualToResult 
  (get-atoms &self) 
  (GroundingSpace-0x555b9c5de458 GroundingSpace-0x555b9c5e5048 
    (: If 
      (-> Bool Atom Atom)) 
    (: If 
      (-> Bool Atom Atom)) 
    (= $Then $Then) 
    (= () ()) 
    (: If 
      (-> Bool Atom Atom Atom)) 
    (: If 
      (-> Bool Atom Atom Atom)) 
    (= $Else $Else) 
    (= $Then $Then) 
    (= 
      ( (Error 
          (superpose $Ev1) superpose expects single expression as an argument) 
        (Error 
          (superpose $Ev2) superpose expects single expression as an argument)) 
      ( (Error 
          (superpose $Ev1) superpose expects single expression as an argument) 
        (Error 
          (superpose $Ev2) superpose expects single expression as an argument))) 
    (= 
      (if 
        (> $Num1 $Num2) $Num1 $Num2) 
      (if 
        (> $Num1 $Num2) $Num1 $Num2)) 
    (= 
      (if 
        (< $Num1 $Num2) $Num1 $Num2) 
      (if 
        (< $Num1 $Num2) $Num1 $Num2)) 
    (= 
      (if 
        (< $X 0) 
        (- 0 $X) $X) 
      (if 
        (< $X 0) 
        (- 0 $X) $X)) 
    (: sequential 
      (-> Expression %Undefined%)) 
    (= 
      (Error 
        (superpose $Num1) superpose expects single expression as an argument) 
      (Error 
        (superpose $Num1) superpose expects single expression as an argument)) 
    (: do 
      (-> Expression %Undefined%)) 
    (= 0 0) 
    (= 1 1) 
    (= () ()) 
    (= () 
      (If 
        (< $C $N) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $TOld) superpose expects single expression as an argument)) 
          (+ $C 1) $N))) 
    (= 
      (If 
        (< $C $N) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $TOld) superpose expects single expression as an argument)) 
          (+ $C 1) $N)) ()) 
    (= 
      (If 
        (< $C $N) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $TOld) superpose expects single expression as an argument)) 
          (+ $C 1) $N)) 
      (If 
        (< $C $N) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $TOld) superpose expects single expression as an argument)) 
          (+ $C 1) $N))) 
    (: CountElement 
      (-> Expression Number)) 
    (= 1 1) 
    (= 2 2) 
    (= 3 3) 
    (= 4 4) 
    (= 5 5) 
    (= 6 6) 
    (= 7 7) 
    (= 8 8) 
    (= 9 9) 
    (= 10 10) 
    (= 11 11) 
    (= 12 12) 
    (: CollapseCardinality 
      (-> Expression Number)) 
    (= 1 1)))

</span><span class="ansi38-250144246">; !(get-atoms &self)
</span><span class="ansi38-218112214">% DEBUG:   eval('&self',['get-atoms','&self'],OUT).

</span>    -->(0,eval('&self',[assertEqualToResult,['get-atoms','&self'],['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom']],[=,_100802,_100802],[=,[],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,_101594,_101594],[=,_100802,_100802],[=,[['Error',[superpose,_102862],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_103246],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_102862],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_103246],superpose,expects,single,expression,as,an,argument]]],[=,[if,[>,_104414,_104716],_104414,_104716],[if,[>,_104414,_104716],_104414,_104716]],[=,[if,[<,_104414,_104716],_104414,_104716],[if,[<,_104414,_104716],_104414,_104716]],[=,[if,[<,_109350,0],[-,0,_109350],_109350],[if,[<,_109350,0],[-,0,_109350],_109350]],[:,sequential,[->,'Expression','%Undefined%']],[=,['Error',[superpose,_104414],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_104414],superpose,expects,single,expression,as,an,argument]],[:,do,[->,'Expression','%Undefined%']],[=,0,0],[=,1,1],[=,[],[]],[=,[],['If',[<,_112182,_112466],['BuildTupleCounts',[1,['Error',[superpose,_112814],superpose,expects,single,expression,as,an,argument]],[+,_112182,1],_112466]]],[=,['If',[<,_112182,_112466],['BuildTupleCounts',[1,['Error',[superpose,_112814],superpose,expects,single,expression,as,an,argument]],[+,_112182,1],_112466]],[]],[=,['If',[<,_112182,_112466],['BuildTupleCounts',[1,['Error',[superpose,_112814],superpose,expects,single,expression,as,an,argument]],[+,_112182,1],_112466]],['If',[<,_112182,_112466],['BuildTupleCounts',[1,['Error',[superpose,_112814],superpose,expects,single,expression,as,an,argument]],[+,_112182,1],_112466]]],[:,'CountElement',[->,'Expression','Number']],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[:,'CollapseCardinality',[->,'Expression','Number']],[=,1,1]]],RET),depth(0))
<h3 id="NARS-EXTRAS.NARS-BUILDTUPLECOUNTS.02">;; NARS-EXTRAS.NARS-BUILDTUPLECOUNTS.02</h3>
      -->(1,eval('&self',['get-atoms','&self'],RET),depth(1))
      <--(1,retval([=,['CollapseCardinality',_176436],['TupleCount',[collapse,['CountElement',_176436]]]]))
; 
; EVAL TEST
; took 0.000856 secs. (856.10 microseconds) 
<span class="ansi31">(loonit_failureR 
  (equal_enough_for_test  
    ( (: Any Type) 
      (: Atom Type) 
      (: Bool Type) 
      (: ErrorType Type) 
      (: Expression Type) 
      (: Number Type) 
      (: ReturnType Type) 
      (: Space Type) 
      (: Symbol Type) 
      (: MemoizedState Type) 
      (: Type Type) 
      (: %Undefined% Type) 
      (: Variable Type) 
      (: match 
        (-> Space Atom Atom %Undefined%)) 
      (: remove-atom 
        (-> Space Atom EmptyType)) 
      (: add-atom 
        (-> Space Atom EmptyType)) 
      (: get-atoms 
        (-> Space Atom)) 
      (: car-atom 
        (-> Expression Atom)) 
      (: cdr-atom 
        (-> Expression Expression)) 
      (: let 
        (-> Atom %Undefined% Atom Atom)) 
      (: let* 
        (-> Expression Atom Atom)) 
      (: and 
        (-> Bool Bool Bool)) 
      (: or 
        (-> Bool Bool Bool)) 
      (: case 
        (-> Expression Atom Atom)) 
      (: unify 
        (-> Atom Atom Atom Atom %Undefined%)) 
      (: if 
        (-> Bool Atom Atom $_180354)) 
      (: % 
        (-> Number Number Number)) 
      (: * 
        (-> Number Number Number)) 
      (: - 
        (-> Number Number Number)) 
      (: + 
        (-> Number Number Number)) 
      (: combine 
        (-> $_180096 $_180096 $_180096)) 
      (: bind! 
        (-> Symbol %Undefined% EmptyType)) 
      (: import! 
        (-> Space Atom EmptyType)) 
      (: get-type 
        (-> Atom Type)) 
      (: If 
        (-> Bool Atom Atom)) 
      (= 
        (If True $_179868) $_179868) 
      (= 
        (If False $_179826) ()) 
      (: If 
        (-> Bool Atom Atom Atom)) 
      (= 
        (If $_179694 $_179700 $_179706) 
        (if $_179694 $_179700 $_179706)) 
      (= 
        (TupleConcat $_179592 $_179598) 
        (collapse 
          (superpose 
            ( (superpose $_179592) 
              (superpose $_179598))))) 
      (= 
        (max $_179508 $_179514) 
        (If 
          (> $_179508 $_179514) $_179508 $_179514)) 
      (= 
        (min $_179424 $_179430) 
        (If 
          (< $_179424 $_179430) $_179424 $_179430)) 
      (= 
        (abs $_179328) 
        (If 
          (< $_179328 0) 
          (- 0 $_179328) $_179328)) 
      (: sequential 
        (-> Expression %Undefined%)) 
      (= 
        (sequential $_179238) 
        (superpose $_179238)) 
      (: do 
        (-> Expression %Undefined%)) 
      (= 
        (do $_179142) 
        (case $_179142 ())) 
      (= 
        (TupleCount ()) 0) 
      (= 
        (TupleCount 
          (1)) 1) 
      (= 
        (BuildTupleCounts $_178776 $_178782 $_178788) 
        (let $_178806 
          (collapse 
            (superpose 
              (1 
                (superpose $_178776)))) 
          (superpose 
            ( (add-atom &self 
                (= 
                  (TupleCount $_178806) 
                  (+ $_178782 2))) 
              (If 
                (< $_178782 $_178788) 
                (BuildTupleCounts $_178806 
                  (+ $_178782 1) $_178788)))))) 
      (: CountElement 
        (-> Expression Number)) 
      (= 
        (CountElement $_178662) 
        (case $_178662 
          ( ($_178698 1)))) 
      (= 
        (TupleCount 
          (1 1)) 
        (+ 0 2)) 
      (= 
        (TupleCount 
          (1 1 1)) 
        (+ 
          (+ 0 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1)) 
        (+ 
          (+ 
            (+ 0 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 0 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 0 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 0 1) 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 0 1) 1) 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 0 1) 1) 1) 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 
                        (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 
                        (+ 
                          (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
      (= 
        (TupleCount 
          (1 1 1 1 1 1 1 1 1 1 1 1)) 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 
                        (+ 
                          (+ 
                            (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
      (: CollapseCardinality 
        (-> Expression Number)) 
      (= 
        (CollapseCardinality $_176502) 
        (TupleCount 
          (collapse 
            (CountElement $_176502))))) 
    (GroundingSpace-0x555b9c5de458 GroundingSpace-0x555b9c5e5048 
      (: CollapseCardinality 
        (-> Expression Number)) 
      (: CountElement 
        (-> Expression Number)) 
      (: If 
        (-> Bool Atom Atom)) 
      (: If 
        (-> Bool Atom Atom Atom)) 
      (: do 
        (-> Expression %Undefined%)) 
      (: sequential 
        (-> Expression %Undefined%)) 
      (= $_100802 $_100802) 
      (= $_101594 $_101594) 
      (= 0 0) 
      (= 1 1) 
      (= 2 2) 
      (= 3 3) 
      (= 4 4) 
      (= 5 5) 
      (= 6 6) 
      (= 7 7) 
      (= 8 8) 
      (= 9 9) 
      (= 10 10) 
      (= 11 11) 
      (= 12 12) 
      (= () ()) 
      (= () 
        (If 
          (< $_112182 $_112466) 
          (BuildTupleCounts 
            (1 
              (Error 
                (superpose $_112814) superpose expects single expression as an argument)) 
            (+ $_112182 1) $_112466))) 
      (= 
        (Error 
          (superpose $_104414) superpose expects single expression as an argument) 
        (Error 
          (superpose $_104414) superpose expects single expression as an argument)) 
      (= 
        (If 
          (< $_112182 $_112466) 
          (BuildTupleCounts 
            (1 
              (Error 
                (superpose $_112814) superpose expects single expression as an argument)) 
            (+ $_112182 1) $_112466)) ()) 
      (= 
        (If 
          (< $_112182 $_112466) 
          (BuildTupleCounts 
            (1 
              (Error 
                (superpose $_112814) superpose expects single expression as an argument)) 
            (+ $_112182 1) $_112466)) 
        (If 
          (< $_112182 $_112466) 
          (BuildTupleCounts 
            (1 
              (Error 
                (superpose $_112814) superpose expects single expression as an argument)) 
            (+ $_112182 1) $_112466))) 
      (= 
        (if 
          (< $_104414 $_104716) $_104414 $_104716) 
        (if 
          (< $_104414 $_104716) $_104414 $_104716)) 
      (= 
        (if 
          (< $_109350 0) 
          (- 0 $_109350) $_109350) 
        (if 
          (< $_109350 0) 
          (- 0 $_109350) $_109350)) 
      (= 
        (if 
          (> $_104414 $_104716) $_104414 $_104716) 
        (if 
          (> $_104414 $_104716) $_104414 $_104716)) 
      (= 
        ( (Error 
            (superpose $_102862) superpose expects single expression as an argument) 
          (Error 
            (superpose $_103246) superpose expects single expression as an argument)) 
        ( (Error 
            (superpose $_102862) superpose expects single expression as an argument) 
          (Error 
            (superpose $_103246) superpose expects single expression as an argument))))))
</span>        -->(2,eval('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(2))
              -->(3,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(5))
        <--(2,retval([[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_35922]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_36150,_36150,_36150]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_36384],_36384],[=,['If','False',_36426],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_36516,_36522,_36528],[if,_36516,_36522,_36528]],[=,['TupleConcat',_36588,_36594],[collapse,[superpose,[[superpose,_36588],[superpose,_36594]]]]],[=,[max,_36690,_36696],['If',[>,_36690,_36696],_36690,_36696]],[=,[min,_36774,_36780],['If',[<,_36774,_36780],_36774,_36780]],[=,[abs,_36858],['If',[<,_36858,0],[-,0,_36858],_36858]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_36996],[superpose,_36996]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_37086],[case,_37086,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_37218,_37224,_37230],[let,_37248,[collapse,[superpose,[1,[superpose,_37218]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_37248],[+,_37224,2]]],['If',[<,_37224,_37230],['BuildTupleCounts',_37248,[+,_37224,1],_37230]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_37548],[case,_37548,[[_37584,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_39708],['TupleCount',[collapse,['CountElement',_39708]]]]]))
        -->(4,eval('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(2))
              -->(5,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(5))
        <--(4,retval(['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_48326,_48326],[=,_48350,_48350],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_48740,_48746],['BuildTupleCounts',[1,['Error',[superpose,_48800],superpose,expects,single,expression,as,an,argument]],[+,_48740,1],_48746]]],[=,['Error',[superpose,_48914],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_48914],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_48740,_48746],['BuildTupleCounts',[1,['Error',[superpose,_48800],superpose,expects,single,expression,as,an,argument]],[+,_48740,1],_48746]],[]],[=,['If',[<,_48740,_48746],['BuildTupleCounts',[1,['Error',[superpose,_48800],superpose,expects,single,expression,as,an,argument]],[+,_48740,1],_48746]],['If',[<,_48740,_48746],['BuildTupleCounts',[1,['Error',[superpose,_48800],superpose,expects,single,expression,as,an,argument]],[+,_48740,1],_48746]]],[=,[if,[<,_48914,_49592],_48914,_49592],[if,[<,_48914,_49592],_48914,_49592]],[=,[if,[<,_49694,0],[-,0,_49694],_49694],[if,[<,_49694,0],[-,0,_49694],_49694]],[=,[if,[>,_48914,_49592],_48914,_49592],[if,[>,_48914,_49592],_48914,_49592]],[=,[['Error',[superpose,_49952],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_50024],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_49952],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_50024],superpose,expects,single,expression,as,an,argument]]]]))
        -->(6,eval('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(2))
              -->(7,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(5))
        <--(6,retval([[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_64482]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_64710,_64710,_64710]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_64944],_64944],[=,['If','False',_64986],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_65076,_65082,_65088],[if,_65076,_65082,_65088]],[=,['TupleConcat',_65148,_65154],[collapse,[superpose,[[superpose,_65148],[superpose,_65154]]]]],[=,[max,_65250,_65256],['If',[>,_65250,_65256],_65250,_65256]],[=,[min,_65334,_65340],['If',[<,_65334,_65340],_65334,_65340]],[=,[abs,_65418],['If',[<,_65418,0],[-,0,_65418],_65418]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_65556],[superpose,_65556]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_65646],[case,_65646,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_65778,_65784,_65790],[let,_65808,[collapse,[superpose,[1,[superpose,_65778]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_65808],[+,_65784,2]]],['If',[<,_65784,_65790],['BuildTupleCounts',_65808,[+,_65784,1],_65790]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_66108],[case,_66108,[[_66144,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_68268],['TupleCount',[collapse,['CountElement',_68268]]]]]))
        -->(8,eval('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(2))
              -->(9,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(5))
        <--(8,retval(['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_76626,_76626],[=,_76650,_76650],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_77040,_77046],['BuildTupleCounts',[1,['Error',[superpose,_77100],superpose,expects,single,expression,as,an,argument]],[+,_77040,1],_77046]]],[=,['Error',[superpose,_77214],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_77214],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_77040,_77046],['BuildTupleCounts',[1,['Error',[superpose,_77100],superpose,expects,single,expression,as,an,argument]],[+,_77040,1],_77046]],[]],[=,['If',[<,_77040,_77046],['BuildTupleCounts',[1,['Error',[superpose,_77100],superpose,expects,single,expression,as,an,argument]],[+,_77040,1],_77046]],['If',[<,_77040,_77046],['BuildTupleCounts',[1,['Error',[superpose,_77100],superpose,expects,single,expression,as,an,argument]],[+,_77040,1],_77046]]],[=,[if,[<,_77214,_77892],_77214,_77892],[if,[<,_77214,_77892],_77214,_77892]],[=,[if,[<,_77994,0],[-,0,_77994],_77994],[if,[<,_77994,0],[-,0,_77994],_77994]],[=,[if,[>,_77214,_77892],_77214,_77892],[if,[>,_77214,_77892],_77214,_77892]],[=,[['Error',[superpose,_78252],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_78324],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_78252],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_78324],superpose,expects,single,expression,as,an,argument]]]]))
            -->(10,subst_args('&self',[got,[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],expected,['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]]],RET),depth(4))
                -->(11,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(6))
                -->(12,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(6))
                -->(13,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(6))
                -->(14,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(6))
          -->(15,subst_args('&self',[got,[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],expected,['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]]],RET),depth(3))
              -->(16,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(5))
              -->(17,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(5))
              -->(18,subst_args('&self',[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_17682]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_17424,_17424,_17424]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_17196],_17196],[=,['If','False',_17154],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_17022,_17028,_17034],[if,_17022,_17028,_17034]],[=,['TupleConcat',_16920,_16926],[collapse,[superpose,[[superpose,_16920],[superpose,_16926]]]]],[=,[max,_16836,_16842],['If',[>,_16836,_16842],_16836,_16842]],[=,[min,_16752,_16758],['If',[<,_16752,_16758],_16752,_16758]],[=,[abs,_16656],['If',[<,_16656,0],[-,0,_16656],_16656]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_16566],[superpose,_16566]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_16470],[case,_16470,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_16104,_16110,_16116],[let,_16134,[collapse,[superpose,[1,[superpose,_16104]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_16134],[+,_16110,2]]],['If',[<,_16110,_16116],['BuildTupleCounts',_16134,[+,_16110,1],_16116]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_15990],[case,_15990,[[_16026,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_13830],['TupleCount',[collapse,['CountElement',_13830]]]]],RET),depth(5))
              -->(19,subst_args('&self',['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_4900,_4900],[=,_5068,_5068],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5488],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],[]],[=,['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]],['If',[<,_6202,_6220],['BuildTupleCounts',[1,['Error',[superpose,_6286],superpose,expects,single,expression,as,an,argument]],[+,_6202,1],_6220]]],[=,[if,[<,_5488,_5506],_5488,_5506],[if,[<,_5488,_5506],_5488,_5506]],[=,[if,[<,_5728,0],[-,0,_5728],_5728],[if,[<,_5728,0],[-,0,_5728],_5728]],[=,[if,[>,_5488,_5506],_5488,_5506],[if,[>,_5488,_5506],_5488,_5506]],[=,[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_5158],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_5242],superpose,expects,single,expression,as,an,argument]]]],RET),depth(5))
    <--(0,retval([got,[[:,'Any','Type'],[:,'Atom','Type'],[:,'Bool','Type'],[:,'ErrorType','Type'],[:,'Expression','Type'],[:,'Number','Type'],[:,'ReturnType','Type'],[:,'Space','Type'],[:,'Symbol','Type'],[:,'MemoizedState','Type'],[:,'Type','Type'],[:,'%Undefined%','Type'],[:,'Variable','Type'],[:,match,[->,'Space','Atom','Atom','%Undefined%']],[:,'remove-atom',[->,'Space','Atom','EmptyType']],[:,'add-atom',[->,'Space','Atom','EmptyType']],[:,'get-atoms',[->,'Space','Atom']],[:,'car-atom',[->,'Expression','Atom']],[:,'cdr-atom',[->,'Expression','Expression']],[:,let,[->,'Atom','%Undefined%','Atom','Atom']],[:,'let*',[->,'Expression','Atom','Atom']],[:,and,[->,'Bool','Bool','Bool']],[:,or,[->,'Bool','Bool','Bool']],[:,case,[->,'Expression','Atom','Atom']],[:,unify,[->,'Atom','Atom','Atom','Atom','%Undefined%']],[:,if,[->,'Bool','Atom','Atom',_145780]],[:,'%',[->,'Number','Number','Number']],[:,*,[->,'Number','Number','Number']],[:,-,[->,'Number','Number','Number']],[:,+,[->,'Number','Number','Number']],[:,combine,[->,_146008,_146008,_146008]],[:,'bind!',[->,'Symbol','%Undefined%','EmptyType']],[:,'import!',[->,'Space','Atom','EmptyType']],[:,'get-type',[->,'Atom','Type']],[:,'If',[->,'Bool','Atom','Atom']],[=,['If','True',_146242],_146242],[=,['If','False',_146284],[]],[:,'If',[->,'Bool','Atom','Atom','Atom']],[=,['If',_146374,_146380,_146386],[if,_146374,_146380,_146386]],[=,['TupleConcat',_146446,_146452],[collapse,[superpose,[[superpose,_146446],[superpose,_146452]]]]],[=,[max,_146548,_146554],['If',[>,_146548,_146554],_146548,_146554]],[=,[min,_146632,_146638],['If',[<,_146632,_146638],_146632,_146638]],[=,[abs,_146716],['If',[<,_146716,0],[-,0,_146716],_146716]],[:,sequential,[->,'Expression','%Undefined%']],[=,[sequential,_146854],[superpose,_146854]],[:,do,[->,'Expression','%Undefined%']],[=,[do,_146944],[case,_146944,[]]],[=,['TupleCount',[]],0],[=,['TupleCount',[1]],1],[=,['BuildTupleCounts',_147076,_147082,_147088],[let,_147106,[collapse,[superpose,[1,[superpose,_147076]]]],[superpose,[['add-atom','&self',[=,['TupleCount',_147106],[+,_147082,2]]],['If',[<,_147082,_147088],['BuildTupleCounts',_147106,[+,_147082,1],_147088]]]]]],[:,'CountElement',[->,'Expression','Number']],[=,['CountElement',_147406],[case,_147406,[[_147442,1]]]],[=,['TupleCount',[1,1]],[+,0,2]],[=,['TupleCount',[1,1,1]],[+,[+,0,1],2]],[=,['TupleCount',[1,1,1,1]],[+,[+,[+,0,1],1],2]],[=,['TupleCount',[1,1,1,1,1]],[+,[+,[+,[+,0,1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1]],[+,[+,[+,[+,[+,0,1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],2]],[=,['TupleCount',[1,1,1,1,1,1,1,1,1,1,1,1]],[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,[+,0,1],1],1],1],1],1],1],1],1],1],2]],[:,'CollapseCardinality',[->,'Expression','Number']],[=,['CollapseCardinality',_149566],['TupleCount',[collapse,['CountElement',_149566]]]]],expected,['GroundingSpace-0x555b9c5de458','GroundingSpace-0x555b9c5e5048',[:,'CollapseCardinality',[->,'Expression','Number']],[:,'CountElement',[->,'Expression','Number']],[:,'If',[->,'Bool','Atom','Atom']],[:,'If',[->,'Bool','Atom','Atom','Atom']],[:,do,[->,'Expression','%Undefined%']],[:,sequential,[->,'Expression','%Undefined%']],[=,_149920,_149920],[=,_149944,_149944],[=,0,0],[=,1,1],[=,2,2],[=,3,3],[=,4,4],[=,5,5],[=,6,6],[=,7,7],[=,8,8],[=,9,9],[=,10,10],[=,11,11],[=,12,12],[=,[],[]],[=,[],['If',[<,_150334,_150340],['BuildTupleCounts',[1,['Error',[superpose,_150394],superpose,expects,single,expression,as,an,argument]],[+,_150334,1],_150340]]],[=,['Error',[superpose,_150508],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_150508],superpose,expects,single,expression,as,an,argument]],[=,['If',[<,_150334,_150340],['BuildTupleCounts',[1,['Error',[superpose,_150394],superpose,expects,single,expression,as,an,argument]],[+,_150334,1],_150340]],[]],[=,['If',[<,_150334,_150340],['BuildTupleCounts',[1,['Error',[superpose,_150394],superpose,expects,single,expression,as,an,argument]],[+,_150334,1],_150340]],['If',[<,_150334,_150340],['BuildTupleCounts',[1,['Error',[superpose,_150394],superpose,expects,single,expression,as,an,argument]],[+,_150334,1],_150340]]],[=,[if,[<,_150508,_151186],_150508,_151186],[if,[<,_150508,_151186],_150508,_151186]],[=,[if,[<,_151288,0],[-,0,_151288],_151288],[if,[<,_151288,0],[-,0,_151288],_151288]],[=,[if,[>,_150508,_151186],_150508,_151186],[if,[>,_150508,_151186],_150508,_151186]],[=,[['Error',[superpose,_151546],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_151618],superpose,expects,single,expression,as,an,argument]],[['Error',[superpose,_151546],superpose,expects,single,expression,as,an,argument],['Error',[superpose,_151618],superpose,expects,single,expression,as,an,argument]]]]]))
Deterministic: <span class="ansi33">
(got 
  ( (: Any Type) 
    (: Atom Type) 
    (: Bool Type) 
    (: ErrorType Type) 
    (: Expression Type) 
    (: Number Type) 
    (: ReturnType Type) 
    (: Space Type) 
    (: Symbol Type) 
    (: MemoizedState Type) 
    (: Type Type) 
    (: %Undefined% Type) 
    (: Variable Type) 
    (: match 
      (-> Space Atom Atom %Undefined%)) 
    (: remove-atom 
      (-> Space Atom EmptyType)) 
    (: add-atom 
      (-> Space Atom EmptyType)) 
    (: get-atoms 
      (-> Space Atom)) 
    (: car-atom 
      (-> Expression Atom)) 
    (: cdr-atom 
      (-> Expression Expression)) 
    (: let 
      (-> Atom %Undefined% Atom Atom)) 
    (: let* 
      (-> Expression Atom Atom)) 
    (: and 
      (-> Bool Bool Bool)) 
    (: or 
      (-> Bool Bool Bool)) 
    (: case 
      (-> Expression Atom Atom)) 
    (: unify 
      (-> Atom Atom Atom Atom %Undefined%)) 
    (: if 
      (-> Bool Atom Atom $_17682)) 
    (: % 
      (-> Number Number Number)) 
    (: * 
      (-> Number Number Number)) 
    (: - 
      (-> Number Number Number)) 
    (: + 
      (-> Number Number Number)) 
    (: combine 
      (-> $_17424 $_17424 $_17424)) 
    (: bind! 
      (-> Symbol %Undefined% EmptyType)) 
    (: import! 
      (-> Space Atom EmptyType)) 
    (: get-type 
      (-> Atom Type)) 
    (: If 
      (-> Bool Atom Atom)) 
    (= 
      (If True $_17196) $_17196) 
    (= 
      (If False $_17154) ()) 
    (: If 
      (-> Bool Atom Atom Atom)) 
    (= 
      (If $_17022 $_17028 $_17034) 
      (if $_17022 $_17028 $_17034)) 
    (= 
      (TupleConcat $_16920 $_16926) 
      (collapse 
        (superpose 
          ( (superpose $_16920) 
            (superpose $_16926))))) 
    (= 
      (max $_16836 $_16842) 
      (If 
        (> $_16836 $_16842) $_16836 $_16842)) 
    (= 
      (min $_16752 $_16758) 
      (If 
        (< $_16752 $_16758) $_16752 $_16758)) 
    (= 
      (abs $_16656) 
      (If 
        (< $_16656 0) 
        (- 0 $_16656) $_16656)) 
    (: sequential 
      (-> Expression %Undefined%)) 
    (= 
      (sequential $_16566) 
      (superpose $_16566)) 
    (: do 
      (-> Expression %Undefined%)) 
    (= 
      (do $_16470) 
      (case $_16470 ())) 
    (= 
      (TupleCount ()) 0) 
    (= 
      (TupleCount 
        (1)) 1) 
    (= 
      (BuildTupleCounts $_16104 $_16110 $_16116) 
      (let $_16134 
        (collapse 
          (superpose 
            (1 
              (superpose $_16104)))) 
        (superpose 
          ( (add-atom &self 
              (= 
                (TupleCount $_16134) 
                (+ $_16110 2))) 
            (If 
              (< $_16110 $_16116) 
              (BuildTupleCounts $_16134 
                (+ $_16110 1) $_16116)))))) 
    (: CountElement 
      (-> Expression Number)) 
    (= 
      (CountElement $_15990) 
      (case $_15990 
        ( ($_16026 1)))) 
    (= 
      (TupleCount 
        (1 1)) 
      (+ 0 2)) 
    (= 
      (TupleCount 
        (1 1 1)) 
      (+ 
        (+ 0 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1)) 
      (+ 
        (+ 
          (+ 0 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 0 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 0 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 0 1) 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 0 1) 1) 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 0 1) 1) 1) 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 
                        (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
    (= 
      (TupleCount 
        (1 1 1 1 1 1 1 1 1 1 1 1)) 
      (+ 
        (+ 
          (+ 
            (+ 
              (+ 
                (+ 
                  (+ 
                    (+ 
                      (+ 
                        (+ 
                          (+ 0 1) 1) 1) 1) 1) 1) 1) 1) 1) 1) 2)) 
    (: CollapseCardinality 
      (-> Expression Number)) 
    (= 
      (CollapseCardinality $_13830) 
      (TupleCount 
        (collapse 
          (CountElement $_13830))))) expected 
  (GroundingSpace-0x555b9c5de458 GroundingSpace-0x555b9c5e5048 
    (: CollapseCardinality 
      (-> Expression Number)) 
    (: CountElement 
      (-> Expression Number)) 
    (: If 
      (-> Bool Atom Atom)) 
    (: If 
      (-> Bool Atom Atom Atom)) 
    (: do 
      (-> Expression %Undefined%)) 
    (: sequential 
      (-> Expression %Undefined%)) 
    (= $_4900 $_4900) 
    (= $_5068 $_5068) 
    (= 0 0) 
    (= 1 1) 
    (= 2 2) 
    (= 3 3) 
    (= 4 4) 
    (= 5 5) 
    (= 6 6) 
    (= 7 7) 
    (= 8 8) 
    (= 9 9) 
    (= 10 10) 
    (= 11 11) 
    (= 12 12) 
    (= () ()) 
    (= () 
      (If 
        (< $_6202 $_6220) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $_6286) superpose expects single expression as an argument)) 
          (+ $_6202 1) $_6220))) 
    (= 
      (Error 
        (superpose $_5488) superpose expects single expression as an argument) 
      (Error 
        (superpose $_5488) superpose expects single expression as an argument)) 
    (= 
      (If 
        (< $_6202 $_6220) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $_6286) superpose expects single expression as an argument)) 
          (+ $_6202 1) $_6220)) ()) 
    (= 
      (If 
        (< $_6202 $_6220) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $_6286) superpose expects single expression as an argument)) 
          (+ $_6202 1) $_6220)) 
      (If 
        (< $_6202 $_6220) 
        (BuildTupleCounts 
          (1 
            (Error 
              (superpose $_6286) superpose expects single expression as an argument)) 
          (+ $_6202 1) $_6220))) 
    (= 
      (if 
        (< $_5488 $_5506) $_5488 $_5506) 
      (if 
        (< $_5488 $_5506) $_5488 $_5506)) 
    (= 
      (if 
        (< $_5728 0) 
        (- 0 $_5728) $_5728) 
      (if 
        (< $_5728 0) 
        (- 0 $_5728) $_5728)) 
    (= 
      (if 
        (> $_5488 $_5506) $_5488 $_5506) 
      (if 
        (> $_5488 $_5506) $_5488 $_5506)) 
    (= 
      ( (Error 
          (superpose $_5158) superpose expects single expression as an argument) 
        (Error 
          (superpose $_5242) superpose expects single expression as an argument)) 
      ( (Error 
          (superpose $_5158) superpose expects single expression as an argument) 
        (Error 
          (superpose $_5242) superpose expects single expression as an argument)))))

</span><span class="ansi32">% 740,780 inferences, 0.333 CPU in 0.333 seconds (100% CPU, 2223803 Lips)
</span> (= "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 1
</span><span class="ansi31">Failures: 1
</span><br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE_20231211101821_1242752_14051.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/nars/nars_extras/NARS_BuildTupleCounts.metta.html" )

</pre>
</body>

</html>
