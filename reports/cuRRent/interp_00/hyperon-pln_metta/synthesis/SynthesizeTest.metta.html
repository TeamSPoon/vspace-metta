<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-218112214 { color: #DA70D6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/SynthesizeTest.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/SynthesizeTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/SynthesizeTest.metta')
:- dynamic file_answers/3.


;;; Setting up a simple knowledge base and rule base for demoing reasoning in MeTTa.
;;; Import modules
<span class="ansi38-013099040">!(import! &self Synthesize.metta)

</span><span class="ansi38-250144246">; !(import! &self Synthesize.metta)
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','Synthesize.metta'],OUT).

</span>      -->(0,eval('&self',['import!','&self','Synthesize.metta'],RET),depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/Synthesize.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/Synthesize.metta')
;;; Import modules
<span class="ansi38-013099040">!(import! &self "../common/Num.metta")

</span><span class="ansi38-250144246">; !(import! &self "../common/Num.metta")
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','../common/Num.metta'],OUT).

</span>      -->(1,eval('&self',['import!','&self','../common/Num.metta'],RET),depth(1))
%~ /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/common/Num.metta:1 
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/common/Num.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/common/Num.metta')
;;; !(import! &self Unify.metta)
;;; Enumerate all programs up to a given depth that are consistent with
;;; the query, using the given axiom non-deterministic functions and rules.
;;;
;;; The arguments are:
;;;
;;; $query: an Atom under the form (: TERM TYPE).  The atom may contain
;;;         free variables within TERM and TYPE to form various sort of
;;;         queries, such as:
;;;         1. Backward chaining: (: $term (Inheritance $x Mammal))
;;;         2. Forward chaining: (: ($rule $premise AXIOM) $type)
;;;         3. Mixed chaining: (: ($rule $premise AXIOM) (Inheritance $x Mammal))
;;;         4. Type checking: (: TERM TYPE)
;;;         5. Type inference: (: TERM $type)
;;;
;;; $kb: a nullary function to axiom, to non-deterministically pick up
;;;      an axiom.  An axiom is an Atom of the form (: TERM TYPE).
;;;
;;; $rb: a nullary function to rule, to non-deterministically pick up a
;;;      rule.  A rule is a function mapping premises to conclusion,
;;;      where premises and conclusion have the form (: TERM TYPE).
;;;
;;; $depth: a Nat representing the maximum depth of the generated
;;;         programs.
;;;
;;; TODO: recurse over curried rules instead of duplicating code over
;;; tuples.
;;; Collection of functions operating on numbers
;;; Define max
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,max,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: max 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[max,X,Y],[if,[>,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (max $X $Y) 
    (if 
      (> $X $Y) $X $Y))
</span>

;;; Define min
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,min,[->,A,A,A]])
</span><span class="ansi38-255165000">  (: min 
    (-> $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[min,X,Y],[if,[<,X,Y],X,Y]])
</span><span class="ansi38-255165000">  (= 
    (min $X $Y) 
    (if 
      (< $X $Y) $X $Y))
</span>

;;; Clamp a number to be within a certain range
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,clamp,[->,A,A,A,A]])
</span><span class="ansi38-255165000">  (: clamp 
    (-> $A $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[clamp,X,L,U],[max,L,[min,U,X]]])
</span><span class="ansi38-255165000">  (= 
    (clamp $X $L $U) 
    (max $L 
      (min $U $X)))
</span>

;;; Define abs
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,abs,[->,A,A]])
</span><span class="ansi38-255165000">  (: abs 
    (-> $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[abs,X],[if,[<,X,0],[*,-1,X],X]])
</span><span class="ansi38-255165000">  (= 
    (abs $X) 
    (if 
      (< $X 0) 
      (* -1 $X) $X))
</span>

;;; Define <=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,<=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: <= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[<=,X,Y],[or,[<,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (<= $X $Y) 
    (or 
      (< $X $Y) 
      (== $X $Y)))
</span>

;;; Define >=
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,>=,[->,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: >= 
    (-> $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[>=,X,Y],[or,[>,X,Y],[==,X,Y]]])
</span><span class="ansi38-255165000">  (= 
    (>= $X $Y) 
    (or 
      (> $X $Y) 
      (== $X $Y)))
</span>

;;; Define approximately equal
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,approxEq,[->,A,A,A,'Bool']])
</span><span class="ansi38-255165000">  (: approxEq 
    (-> $A $A $A Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[approxEq,X,Y,Epsilon],[<=,[abs,[-,X,Y]],Epsilon]])
</span><span class="ansi38-255165000">  (= 
    (approxEq $X $Y $Epsilon) 
    (<= 
      (abs 
        (- $X $Y)) $Epsilon))
</span>

;;; Define Nat
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Nat','Type'])
</span><span class="ansi38-255165000">  (: Nat Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Z','Nat'])
</span><span class="ansi38-255165000">  (: Z Nat)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'S',[->,'Nat','Nat']])
</span><span class="ansi38-255165000">  (: S 
    (-> Nat Nat))
</span>

;;; Define cast functions between Nat and Number
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNumber,[->,'Number','Nat']])
</span><span class="ansi38-255165000">  (: fromNumber 
    (-> Number Nat))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNumber,N],[if,[<=,N,0],'Z',['S',[fromNumber,[-,N,1]]]]])
</span><span class="ansi38-255165000">  (= 
    (fromNumber $N) 
    (if 
      (<= $N 0) Z 
      (S 
        (fromNumber 
          (- $N 1)))))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,fromNat,[->,'Nat','Number']])
</span><span class="ansi38-255165000">  (: fromNat 
    (-> Nat Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,'Z'],0])
</span><span class="ansi38-255165000">  (= 
    (fromNat Z) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[fromNat,['S',K]],[+,1,[fromNat,K]]])
</span><span class="ansi38-255165000">  (= 
    (fromNat 
      (S $K)) 
    (+ 1 
      (fromNat $K)))
</span>

;;; Define a generic less than operator, â©», for Nat.  < cannot be used
;;; because it is a built-in, its type is hardwired and cannot be
;;; overloaded.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Nat','Nat','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Nat Nat Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',_,'Z'],'False'])
</span><span class="ansi38-255165000">  (= 
    (â©» $_ Z) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»','Z',['S',_]],'True'])
</span><span class="ansi38-255165000">  (= 
    (â©» Z 
      (S $_)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',['S',X],['S',Y]],['â©»',X,Y]])
</span><span class="ansi38-255165000">  (= 
    (â©» 
      (S $X) 
      (S $Y)) 
    (â©» $X $Y))
</span>

;;; Overload â©» for Number.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â©»',[->,'Number','Number','Bool']])
</span><span class="ansi38-255165000">  (: â©» 
    (-> Number Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['â©»',X,Y],[<,X,Y]])
</span><span class="ansi38-255165000">  (= 
    (â©» $X $Y) 
    (< $X $Y))
</span>

;;; Return the ceiling of a non negative number.  If the number is
;;; negative it returns 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,ceil,[->,'Number','Number']])
</span><span class="ansi38-255165000">  (: ceil 
    (-> Number Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[ceil,N],[fromNat,[fromNumber,N]]])
</span><span class="ansi38-255165000">  (= 
    (ceil $N) 
    (fromNat 
      (fromNumber $N)))
</span>

;;; Convert Number to Bool.  Anything above 0 converts to True.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'number->bool',[->,'Number','Bool']])
</span><span class="ansi38-255165000">  (: number->bool 
    (-> Number Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['number->bool',X],[<,0,X]])
</span><span class="ansi38-255165000">  (= 
    (number->bool $X) 
    (< 0 $X))
</span>

;;; Convert Bool to Number.  False converts to 0, True converts to 1.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'bool->number',[->,'Bool','Number']])
</span><span class="ansi38-255165000">  (: bool->number 
    (-> Bool Number))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','False'],0])
</span><span class="ansi38-255165000">  (= 
    (bool->number False) 0)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['bool->number','True'],1])
</span><span class="ansi38-255165000">  (= 
    (bool->number True) 1)
</span>

;;; Define a less than type.  Note that it is purposefully different
;;; than â©» as it is a type, not an operator.  Inhabitants of (â x y)
;;; are proofs that x â©» y == True.  For now â is only axiomatized for
;;; Nat.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'â\x8D\\x83\',[->,T,T,'Type']])
</span><span class="ansi38-255165000">  (: â 
    (-> $T $T Type))
</span>

;;; Zero is always less than the successor of something
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['zero-lt-succ-axiom'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (zero-lt-succ-axiom) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['zero-lt-succ-axiom'],[:,'ZeroLTSucc',['â\x8D\\x83\','Z',['S',K]]]])
</span><span class="ansi38-255165000">  (= 
    (zero-lt-succ-axiom) 
    (: ZeroLTSucc 
      (â Z 
        (S $K))))
</span>

;;; If x â y then (S x) â (S y)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,['succ-monotonicity-rule'],[->,'Atom']])
</span><span class="ansi38-255165000">  (: 
    (succ-monotonicity-rule) 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,['succ-monotonicity-rule'],[:,'SuccMonotonicity',[->,['â\x8D\\x83\',X,Y],['â\x8D\\x83\',['S',X],['S',Y]]]]])
</span><span class="ansi38-255165000">  (= 
    (succ-monotonicity-rule) 
    (: SuccMonotonicity 
      (-> 
        (â $X $Y) 
        (â 
          (S $X) 
          (S $Y)))))
</span>

      <--(1,retval('Empty'))
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,synthesize,[->,'Atom',[->,'Atom'],[->,'Atom'],'Nat','Atom']])
</span><span class="ansi38-255165000">  (: synthesize 
    (-> Atom 
      (-> Atom) 
      (-> Atom) Nat Atom))
</span>

;;; Nullary rule (axiom)
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,Depth],[let,Query,[Kb],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb $Depth) 
    (let $Query 
      ($Kb) $Query))
</span>

;;; Unary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise,Conclusion]],[Rb]],[[:,[Ructor,Proof],Conclusion],Query],[[:,Proof,Premise],[synthesize,[:,Proof,Premise],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof) $Conclusion) $Query) 
        ( (: $Proof $Premise) 
          (synthesize 
            (: $Proof $Premise) $Kb $Rb $K))) $Query))
</span>

;;; Binary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K))) $Query))
</span>

;;; Trinary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K))) $Query))
</span>

;;; Quaternary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Premise4,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3,Proof4],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]],[[:,Proof4,Premise4],[synthesize,[:,Proof4,Premise4],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Premise4 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3 $Proof4) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K)) 
        ( (: $Proof4 $Premise4) 
          (synthesize 
            (: $Proof4 $Premise4) $Kb $Rb $K))) $Query))
</span>

;;; Quintenary rule
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[synthesize,Query,Kb,Rb,['S',K]],['let*',[[[:,Ructor,[->,Premise1,Premise2,Premise3,Premise4,Premise5,Conclusion]],[Rb]],[[:,[Ructor,Proof1,Proof2,Proof3,Proof4,Proof5],Conclusion],Query],[[:,Proof1,Premise1],[synthesize,[:,Proof1,Premise1],Kb,Rb,K]],[[:,Proof2,Premise2],[synthesize,[:,Proof2,Premise2],Kb,Rb,K]],[[:,Proof3,Premise3],[synthesize,[:,Proof3,Premise3],Kb,Rb,K]],[[:,Proof4,Premise4],[synthesize,[:,Proof4,Premise4],Kb,Rb,K]],[[:,Proof5,Premise5],[synthesize,[:,Proof5,Premise5],Kb,Rb,K]]],Query]])
</span><span class="ansi38-255165000">  (= 
    (synthesize $Query $Kb $Rb 
      (S $K)) 
    (let* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Premise3 $Premise4 $Premise5 $Conclusion)) 
          ($Rb)) 
        ( (: 
            ($Ructor $Proof1 $Proof2 $Proof3 $Proof4 $Proof5) $Conclusion) $Query) 
        ( (: $Proof1 $Premise1) 
          (synthesize 
            (: $Proof1 $Premise1) $Kb $Rb $K)) 
        ( (: $Proof2 $Premise2) 
          (synthesize 
            (: $Proof2 $Premise2) $Kb $Rb $K)) 
        ( (: $Proof3 $Premise3) 
          (synthesize 
            (: $Proof3 $Premise3) $Kb $Rb $K)) 
        ( (: $Proof4 $Premise4) 
          (synthesize 
            (: $Proof4 $Premise4) $Kb $Rb $K)) 
        ( (: $Proof5 $Premise5) 
          (synthesize 
            (: $Proof5 $Premise5) $Kb $Rb $K))) $Query))
</span>

      <--(0,retval('Empty'))
Last Result(1): <span class="ansi33">Empty

</span><span class="ansi38-013099040">!(import! &self "../common/Record.metta")

</span><span class="ansi38-250144246">; !(import! &self "../common/Record.metta")
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',['import!','&self','../common/Record.metta'],OUT).

</span>      -->(0,eval('&self',['import!','&self','../common/Record.metta'],RET),depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/common/Record.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/common/Record.metta')
;;; Knowledge base
;;; Given a function call, produce records of that function call.
;;; There can be multiple records with only one call due to the
;;; non-determinism of MeTTa.  Each record is represented by (⊷ f x y)
;;; which can be read as
;;;
;;; "under f, the image of x is y"
;;;
;;; It was chosen because it is described as IMAGE OF in UTF-8.  It is
;;; the MeTTa equivalent of ExecutionLink in Atomese.  The character ⊷
;;; has description: IMAGE OF, hexadecimal code: 0x22B7, unicode-math
;;; code: \imageof and latex code: \multimapdotbothB.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg]],['â\x8A\·',F,Arg,[F,Arg]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg)) 
    (â· $F $Arg 
      ($F $Arg)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2]],['â\x8A\·',F,[Arg1,Arg2],[F,Arg1,Arg2]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2)) 
    (â· $F 
      ($Arg1 $Arg2) 
      ($F $Arg1 $Arg2)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2,Arg3]],['â\x8A\·',F,[Arg1,Arg2,Arg3],[F,Arg1,Arg2,Arg3]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2 $Arg3)) 
    (â· $F 
      ($Arg1 $Arg2 $Arg3) 
      ($F $Arg1 $Arg2 $Arg3)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[record,F,[Arg1,Arg2,Arg3,Arg4]],['â\x8A\·',F,[Arg1,Arg2,Arg3,Arg4],[F,Arg1,Arg2,Arg3,Arg4]]])
</span><span class="ansi38-255165000">  (= 
    (record $F 
      ($Arg1 $Arg2 $Arg3 $Arg4)) 
    (â· $F 
      ($Arg1 $Arg2 $Arg3 $Arg4) 
      ($F $Arg1 $Arg2 $Arg3 $Arg4)))
</span>

      <--(0,retval('Empty'))
Deterministic: <span class="ansi33">Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,kb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: kb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[kb],[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]])
</span><span class="ansi38-255165000">  (= 
    (kb) 
    (superpose 
      ( (: f 
          (-> Number String)) 
        (: g 
          (-> String Bool)) 
        (: h 
          (-> Bool Number)) 
        (: i 
          (-> String Number Bool)))))
</span>

;;; Rule base
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,rb,[->,'Atom']])
</span><span class="ansi38-255165000">  (: rb 
    (-> Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[=,[rb],[superpose,[[:,->,[->,B,C],[->,A,B],[->,A,C]],[:,.:,[->,[->,C,D],[->,A,B,C],[->,A,B,D]]]]]])
</span><span class="ansi38-255165000">  (= 
    (rb) 
    (superpose 
      ( (: -> 
          (-> $B $C) 
          (-> $A $B) 
          (-> $A $C)) 
        (: .: 
          (-> 
            (-> $C $D) 
            (-> $A $B $C) 
            (-> $A $B $D))))))
</span>

;; Function composition
;; Blackbird (generalized composition)
;;; Test program synthesizer
;; Query for any function composition of depth 0.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb Z))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,'Z']],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_285058,_285360],kb,rb,'Z']],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_285058,_285360],kb,rb,'Z'],[synthesize,[:,_285058,_285360],kb,rb,'Z']],RET),depth(2))
            -->(2,eval('&self',[[:,_285058,_285360],kb,rb,'Z'],RET),depth(4))
            -->(3,eval('&self',[synthesize,[:,_285058,_285360],kb,rb,'Z'],RET),depth(4))
              -->(4,eval('&self',[let,[:,_285058,_285360],[kb],[:,_285058,_285360]],RET),depth(5))
                  -->(5,eval('&self',[kb],RET),depth(7))
                    -->(6,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(7,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(8,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
              -->(9,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
            -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
          -->(11,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(3))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb Z) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>          -->(12,eval('&self',['â\x8A\·',synthesize,[[:,g,[->,'String','Bool']],kb,rb,'Z'],[:,g,[->,'String','Bool']]],RET),depth(3))
              -->(13,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(5))
              -->(14,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(5))
            -->(15,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(4))
          -->(16,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,'Z'],RET),depth(3))
NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb Z) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>          -->(17,eval('&self',['â\x8A\·',synthesize,[[:,h,[->,'Bool','Number']],kb,rb,'Z'],[:,h,[->,'Bool','Number']]],RET),depth(3))
              -->(18,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(5))
              -->(19,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(5))
            -->(20,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(4))
          -->(21,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,'Z'],RET),depth(3))
NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb Z) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>                    <--(6,retval([:,i,[->,'String','Number','Bool']]))
          -->(22,eval('&self',['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],[:,i,[->,'String','Number','Bool']]],RET),depth(3))
              -->(23,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(5))
              -->(24,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(5))
            -->(25,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(4))
          -->(26,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(3))
NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb Z) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span>                  <--(5,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(4,retval([:,i,[->,'String','Number','Bool']]))
            <--(3,retval([let,[:,_3490,_3496],[kb],[:,_3490,_3496]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,'Z'],[:,i,[->,'String','Number','Bool']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3056,_3062],kb,rb,'Z'],[synthesize,[:,_3056,_3062],kb,rb,'Z']]))
;; (: f (-> Number String)), (: g (-> String Bool)), (: h (-> Bool Number)), (: i (-> String Number Bool))
;; Query for functions from Number to String at depth 0.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number String)) kb rb Z))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','String']],kb,rb,'Z']],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_95796,[->,'Number','String']],kb,rb,'Z']],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_95796,[->,'Number','String']],kb,rb,'Z'],[synthesize,[:,_95796,[->,'Number','String']],kb,rb,'Z']],RET),depth(2))
            -->(2,eval('&self',[[:,_95796,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
            -->(3,eval('&self',[synthesize,[:,_95796,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
              -->(4,eval('&self',[let,[:,_95796,[->,'Number','String']],[kb],[:,_95796,[->,'Number','String']]],RET),depth(5))
                  -->(5,eval('&self',[kb],RET),depth(7))
                    -->(6,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(7,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(8,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
              -->(9,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(5))
            -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(4))
          -->(11,eval('&self',[[:,f,[->,'Number','String']],kb,rb,'Z'],RET),depth(3))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb Z) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Term = f


</span>                    <--(6,retval([:,i,[->,'String','Number','Bool']]))
                  <--(5,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(4,retval([:,f,[->,'Number','String']]))
            <--(3,retval([let,[:,_3548,[->,'Number','String']],[kb],[:,_3548,[->,'Number','String']]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,'Z'],[:,f,[->,'Number','String']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3078,[->,'Number','String']],kb,rb,'Z'],[synthesize,[:,_3078,[->,'Number','String']],kb,rb,'Z']]))
;; (: f (-> Number String))
;; Query for functions of depth 1, from String and Number to Number.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> String Number Number)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'String','Number','Number']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_257104,[->,'String','Number','Number']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_257104,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_257104,[->,'String','Number','Number']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_257104,[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_257104,[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_257104,[->,'String','Number','Number']],[kb],[:,_257104,[->,'String','Number','Number']]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval(fail))
              -->(9,eval('&self',['let*',[[[:,_416508,[->,_416526,_416532]],[rb]],[[:,[_416508,_416580],_416532],[:,_5120,[->,'String','Number','Number']]],[[:,_416580,_416526],[synthesize,[:,_416580,_416526],kb,rb,'Z']]],[:,_5120,[->,'String','Number','Number']]],RET),depth(5))
                  -->(10,eval('&self',[rb],RET),depth(7))
                  <--(10,retval([superpose,[[:,->,[->,_418880,_418886],[->,_418904,_418880],[->,_418904,_418886]],[:,.:,[->,[->,_418886,_418988],[->,_418904,_418880,_418886],[->,_418904,_418880,_418988]]]]]))
                    -->(11,eval('&self',[superpose,[[:,->,[->,_418622,_418628],[->,_418646,_418622],[->,_418646,_418628]],[:,.:,[->,[->,_418628,_418730],[->,_418646,_418622,_418628],[->,_418646,_418622,_418730]]]]],RET),depth(8))
                        -->(12,eval('&self',[:,->,[->,_418622,_418628],[->,_418646,_418622],[->,_418646,_418628]],RET),depth(10))
                      -->(13,eval('&self',[:,->,[->,_418622,_418628],[->,_418646,_418622],[->,_418646,_418628]],RET),depth(9))
                    <--(11,retval([:,.:,[->,[->,_144458,_144464],[->,_144482,_144488,_144458],[->,_144482,_144488,_144464]]]))
              <--(9,retval(fail))
              -->(14,eval('&self',['let*',[[[:,_262708,[->,_262726,_262732,_262738]],[rb]],[[:,[_262708,_262786,_262792],_262738],[:,_1966,[->,'String','Number','Number']]],[[:,_262786,_262726],[synthesize,[:,_262786,_262726],kb,rb,'Z']],[[:,_262792,_262732],[synthesize,[:,_262792,_262732],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(15,eval('&self',[rb],RET),depth(7))
                  <--(15,retval([superpose,[[:,->,[->,_265272,_265278],[->,_265296,_265272],[->,_265296,_265278]],[:,.:,[->,[->,_265278,_265380],[->,_265296,_265272,_265278],[->,_265296,_265272,_265380]]]]]))
                    -->(16,eval('&self',[superpose,[[:,->,[->,_265014,_265020],[->,_265038,_265014],[->,_265038,_265020]],[:,.:,[->,[->,_265020,_265122],[->,_265038,_265014,_265020],[->,_265038,_265014,_265122]]]]],RET),depth(8))
                        -->(17,eval('&self',[:,->,[->,_265014,_265020],[->,_265038,_265014],[->,_265038,_265020]],RET),depth(10))
                      -->(18,eval('&self',[:,->,[->,_265014,_265020],[->,_265038,_265014],[->,_265038,_265020]],RET),depth(9))
                    <--(16,retval([:,.:,[->,[->,_502878,_502884],[->,_502902,_502908,_502878],[->,_502902,_502908,_502884]]]))
                  -->(19,eval('&self',['let*',[[[:,[.:,_7172,_7178],[->,_7852,_7848,_7854]],[:,_1966,[->,'String','Number','Number']]],[[:,_7172,[->,_7850,_7854]],[synthesize,[:,_7172,[->,_7850,_7854]],kb,rb,'Z']],[[:,_7178,[->,_7852,_7848,_7850]],[synthesize,[:,_7178,[->,_7852,_7848,_7850]],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(7))
                      -->(20,eval('&self',['let*',[[[:,_7172,[->,_7850,'Number']],[synthesize,[:,_7172,[->,_7850,'Number']],kb,rb,'Z']],[[:,_7178,[->,'String','Number',_7850]],[synthesize,[:,_7178,[->,'String','Number',_7850]],kb,rb,'Z']]],[:,[.:,_7172,_7178],[->,'String','Number','Number']]],RET),depth(9))
                          -->(21,eval('&self',[synthesize,[:,_7172,[->,_7850,'Number']],kb,rb,'Z'],RET),depth(11))
                            -->(22,eval('&self',[let,[:,_7172,[->,_7850,'Number']],[kb],[:,_7172,[->,_7850,'Number']]],RET),depth(12))
                                -->(23,eval('&self',[kb],RET),depth(14))
                                  -->(24,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(15))
                          -->(25,eval('&self',['let*',[[[:,_3704,[->,'String','Number','Bool']],[synthesize,[:,_3704,[->,'String','Number','Bool']],kb,rb,'Z']]],[:,[.:,h,_3704],[->,'String','Number','Number']]],RET),depth(11))
                              -->(26,eval('&self',[synthesize,[:,_3704,[->,'String','Number','Bool']],kb,rb,'Z'],RET),depth(13))
                                -->(27,eval('&self',[let,[:,_3704,[->,'String','Number','Bool']],[kb],[:,_3704,[->,'String','Number','Bool']]],RET),depth(14))
                                    -->(28,eval('&self',[kb],RET),depth(16))
                                      -->(29,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(29,retval([:,i,[->,'String','Number','Bool']]))
                              -->(30,eval('&self',['let*',[],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(13))
                                      -->(31,eval('&self',[.:,h,i],RET),depth(17))
                              <--(30,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                    -->(32,eval('&self',[.:,h,i],RET),depth(16))
                                  -->(33,eval('&self',[.:,h,i],RET),depth(15))
                                -->(34,eval('&self',[.:,h,i],RET),depth(14))
                              -->(35,eval('&self',[.:,h,i],RET),depth(13))
                            -->(36,eval('&self',[.:,h,i],RET),depth(12))
                          -->(37,eval('&self',[.:,h,i],RET),depth(11))
                        -->(38,eval('&self',[.:,h,i],RET),depth(10))
                      -->(39,eval('&self',[.:,h,i],RET),depth(9))
                    -->(40,eval('&self',[.:,h,i],RET),depth(8))
                  -->(41,eval('&self',[.:,h,i],RET),depth(7))
                -->(42,eval('&self',[.:,h,i],RET),depth(6))
          -->(43,eval('&self',['â\x8A\·',synthesize,[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(3))
              -->(44,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(45,eval('&self',['S','Z'],RET),depth(7))
                      -->(46,eval('&self',[.:,h,i],RET),depth(9))
                  -->(47,eval('&self',['S','Z'],RET),depth(7))
                  -->(48,eval('&self',[.:,h,i],RET),depth(7))
              -->(49,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(50,eval('&self',['S','Z'],RET),depth(7))
                      -->(51,eval('&self',[.:,h,i],RET),depth(9))
                  -->(52,eval('&self',['S','Z'],RET),depth(7))
                  -->(53,eval('&self',[.:,h,i],RET),depth(7))
            -->(54,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(55,eval('&self',['S','Z'],RET),depth(6))
                    -->(56,eval('&self',[.:,h,i],RET),depth(8))
                -->(57,eval('&self',['S','Z'],RET),depth(6))
                -->(58,eval('&self',[.:,h,i],RET),depth(6))
          -->(59,eval('&self',[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],RET),depth(3))
              -->(60,eval('&self',['S','Z'],RET),depth(5))
                  -->(61,eval('&self',[.:,h,i],RET),depth(7))
              -->(62,eval('&self',['S','Z'],RET),depth(5))
              -->(63,eval('&self',[.:,h,i],RET),depth(5))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: 
        (.: h i) 
        (-> String Number Number)) kb rb 
      (S Z)) 
    (: 
      (.: h i) 
      (-> String Number Number)))

</span><span class="ansi32">$Term = 
  (.: h i)


</span>                                    <--(28,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(27,retval([:,i,[->,'String','Number','Bool']]))
                              <--(26,retval([let,[:,_6084,[->,'String','Number','Bool']],[kb],[:,_6084,[->,'String','Number','Bool']]]))
                          <--(25,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                  <--(24,retval([:,i,[->,'String','Number','Bool']]))
                                <--(23,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                            <--(22,retval([:,h,[->,'Bool','Number']]))
                          <--(21,retval([let,[:,_4896,[->,_4914,'Number']],[kb],[:,_4896,[->,_4914,'Number']]]))
                      <--(20,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                  <--(19,retval([:,[.:,h,i],[->,'String','Number','Number']]))
              <--(14,retval([:,[.:,h,i],[->,'String','Number','Number']]))
              -->(64,eval('&self',['let*',[[[:,_20338,[->,_20356,_20362,_20368,_20374]],[rb]],[[:,[_20338,_20422,_20428,_20434],_20374],[:,_1966,[->,'String','Number','Number']]],[[:,_20422,_20356],[synthesize,[:,_20422,_20356],kb,rb,'Z']],[[:,_20428,_20362],[synthesize,[:,_20428,_20362],kb,rb,'Z']],[[:,_20434,_20368],[synthesize,[:,_20434,_20368],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(65,eval('&self',[rb],RET),depth(7))
                  <--(65,retval([superpose,[[:,->,[->,_23094,_23100],[->,_23118,_23094],[->,_23118,_23100]],[:,.:,[->,[->,_23100,_23202],[->,_23118,_23094,_23100],[->,_23118,_23094,_23202]]]]]))
                    -->(66,eval('&self',[superpose,[[:,->,[->,_22836,_22842],[->,_22860,_22836],[->,_22860,_22842]],[:,.:,[->,[->,_22842,_22944],[->,_22860,_22836,_22842],[->,_22860,_22836,_22944]]]]],RET),depth(8))
                        -->(67,eval('&self',[:,->,[->,_22836,_22842],[->,_22860,_22836],[->,_22860,_22842]],RET),depth(10))
                      -->(68,eval('&self',[:,->,[->,_22836,_22842],[->,_22860,_22836],[->,_22860,_22842]],RET),depth(9))
                    <--(66,retval([:,.:,[->,[->,_260700,_260706],[->,_260724,_260730,_260700],[->,_260724,_260730,_260706]]]))
              <--(64,retval(fail))
              -->(69,eval('&self',['let*',[[[:,_378950,[->,_378968,_378974,_378980,_378986,_378992]],[rb]],[[:,[_378950,_379040,_379046,_379052,_379058],_378992],[:,_1966,[->,'String','Number','Number']]],[[:,_379040,_378968],[synthesize,[:,_379040,_378968],kb,rb,'Z']],[[:,_379046,_378974],[synthesize,[:,_379046,_378974],kb,rb,'Z']],[[:,_379052,_378980],[synthesize,[:,_379052,_378980],kb,rb,'Z']],[[:,_379058,_378986],[synthesize,[:,_379058,_378986],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(70,eval('&self',[rb],RET),depth(7))
                  <--(70,retval([superpose,[[:,->,[->,_381898,_381904],[->,_381922,_381898],[->,_381922,_381904]],[:,.:,[->,[->,_381904,_382006],[->,_381922,_381898,_381904],[->,_381922,_381898,_382006]]]]]))
                    -->(71,eval('&self',[superpose,[[:,->,[->,_381640,_381646],[->,_381664,_381640],[->,_381664,_381646]],[:,.:,[->,[->,_381646,_381748],[->,_381664,_381640,_381646],[->,_381664,_381640,_381748]]]]],RET),depth(8))
                        -->(72,eval('&self',[:,->,[->,_381640,_381646],[->,_381664,_381640],[->,_381664,_381646]],RET),depth(10))
                      -->(73,eval('&self',[:,->,[->,_381640,_381646],[->,_381664,_381640],[->,_381664,_381646]],RET),depth(9))
                    <--(71,retval([:,.:,[->,[->,_108528,_108534],[->,_108552,_108558,_108528],[->,_108552,_108558,_108534]]]))
              <--(69,retval(fail))
              -->(74,eval('&self',['let*',[[[:,_226778,[->,_226796,_226802,_226808,_226814,_226820,_226826]],[rb]],[[:,[_226778,_226874,_226880,_226886,_226892,_226898],_226826],[:,_1966,[->,'String','Number','Number']]],[[:,_226874,_226796],[synthesize,[:,_226874,_226796],kb,rb,'Z']],[[:,_226880,_226802],[synthesize,[:,_226880,_226802],kb,rb,'Z']],[[:,_226886,_226808],[synthesize,[:,_226886,_226808],kb,rb,'Z']],[[:,_226892,_226814],[synthesize,[:,_226892,_226814],kb,rb,'Z']],[[:,_226898,_226820],[synthesize,[:,_226898,_226820],kb,rb,'Z']]],[:,_1966,[->,'String','Number','Number']]],RET),depth(5))
                  -->(75,eval('&self',[rb],RET),depth(7))
                  <--(75,retval([superpose,[[:,->,[->,_229918,_229924],[->,_229942,_229918],[->,_229942,_229924]],[:,.:,[->,[->,_229924,_230026],[->,_229942,_229918,_229924],[->,_229942,_229918,_230026]]]]]))
                    -->(76,eval('&self',[superpose,[[:,->,[->,_229660,_229666],[->,_229684,_229660],[->,_229684,_229666]],[:,.:,[->,[->,_229666,_229768],[->,_229684,_229660,_229666],[->,_229684,_229660,_229768]]]]],RET),depth(8))
                        -->(77,eval('&self',[:,->,[->,_229660,_229666],[->,_229684,_229660],[->,_229684,_229666]],RET),depth(10))
                      -->(78,eval('&self',[:,->,[->,_229660,_229666],[->,_229684,_229660],[->,_229684,_229666]],RET),depth(9))
                    <--(76,retval([:,.:,[->,[->,_467524,_467530],[->,_467548,_467554,_467524],[->,_467548,_467554,_467530]]]))
              <--(74,retval(fail))
            <--(5,retval(['let*',[[[:,_7552,[->,_7570,_7576,_7582,_7588,_7594,_7600]],[rb]],[[:,[_7552,_7648,_7654,_7660,_7666,_7672],_7600],[:,_7696,[->,'String','Number','Number']]],[[:,_7648,_7570],[synthesize,[:,_7648,_7570],kb,rb,'Z']],[[:,_7654,_7576],[synthesize,[:,_7654,_7576],kb,rb,'Z']],[[:,_7660,_7582],[synthesize,[:,_7660,_7582],kb,rb,'Z']],[[:,_7666,_7588],[synthesize,[:,_7666,_7588],kb,rb,'Z']],[[:,_7672,_7594],[synthesize,[:,_7672,_7594],kb,rb,'Z']]],[:,_7696,[->,'String','Number','Number']]]))
        <--(1,retval(['â\x8A\·',synthesize,[[:,[.:,h,i],[->,'String','Number','Number']],kb,rb,['S','Z']],[:,[.:,h,i],[->,'String','Number','Number']]]))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3132,[->,'String','Number','Number']],kb,rb,['S','Z']],[synthesize,[:,_3132,[->,'String','Number','Number']],kb,rb,['S','Z']]]))
;; (: (.: h i) (-> String Number Number)))
;; Queries for ANY function from Number to Bool of at most depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term 
      (-> Number Bool)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_94642,[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_94642,[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,_94642,[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_94642,[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_94642,[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_94642,[->,'Number','Bool']],[kb],[:,_94642,[->,'Number','Bool']]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval(fail))
              -->(9,eval('&self',['let*',[[[:,_247536,[->,_247554,_247560]],[rb]],[[:,[_247536,_247608],_247560],[:,_2872,[->,'Number','Bool']]],[[:,_247608,_247554],[synthesize,[:,_247608,_247554],kb,rb,'Z']]],[:,_2872,[->,'Number','Bool']]],RET),depth(5))
                  -->(10,eval('&self',[rb],RET),depth(7))
                  <--(10,retval([superpose,[[:,->,[->,_249902,_249908],[->,_249926,_249902],[->,_249926,_249908]],[:,.:,[->,[->,_249908,_250010],[->,_249926,_249902,_249908],[->,_249926,_249902,_250010]]]]]))
                    -->(11,eval('&self',[superpose,[[:,->,[->,_249644,_249650],[->,_249668,_249644],[->,_249668,_249650]],[:,.:,[->,[->,_249650,_249752],[->,_249668,_249644,_249650],[->,_249668,_249644,_249752]]]]],RET),depth(8))
                        -->(12,eval('&self',[:,->,[->,_249644,_249650],[->,_249668,_249644],[->,_249668,_249650]],RET),depth(10))
                      -->(13,eval('&self',[:,->,[->,_249644,_249650],[->,_249668,_249644],[->,_249668,_249650]],RET),depth(9))
                    <--(11,retval([:,.:,[->,[->,_487508,_487514],[->,_487532,_487538,_487508],[->,_487532,_487538,_487514]]]))
              <--(9,retval(fail))
              -->(14,eval('&self',['let*',[[[:,_93730,[->,_93748,_93754,_93760]],[rb]],[[:,[_93730,_93808,_93814],_93760],[:,_1960,[->,'Number','Bool']]],[[:,_93808,_93748],[synthesize,[:,_93808,_93748],kb,rb,'Z']],[[:,_93814,_93754],[synthesize,[:,_93814,_93754],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(15,eval('&self',[rb],RET),depth(7))
                  <--(15,retval([superpose,[[:,->,[->,_96288,_96294],[->,_96312,_96288],[->,_96312,_96294]],[:,.:,[->,[->,_96294,_96396],[->,_96312,_96288,_96294],[->,_96312,_96288,_96396]]]]]))
                    -->(16,eval('&self',[superpose,[[:,->,[->,_96030,_96036],[->,_96054,_96030],[->,_96054,_96036]],[:,.:,[->,[->,_96036,_96138],[->,_96054,_96030,_96036],[->,_96054,_96030,_96138]]]]],RET),depth(8))
                        -->(17,eval('&self',[:,->,[->,_96030,_96036],[->,_96054,_96030],[->,_96054,_96036]],RET),depth(10))
                      -->(18,eval('&self',[:,->,[->,_96030,_96036],[->,_96054,_96030],[->,_96054,_96036]],RET),depth(9))
                    <--(16,retval([:,.:,[->,[->,_333894,_333900],[->,_333918,_333924,_333894],[->,_333918,_333924,_333900]]]))
                  -->(19,eval('&self',['let*',[[[:,[.:,_93808,_93814],[->,_96054,_96030,_96138]],[:,_1960,[->,'Number','Bool']]],[[:,_93808,[->,_96036,_96138]],[synthesize,[:,_93808,[->,_96036,_96138]],kb,rb,'Z']],[[:,_93814,[->,_96054,_96030,_96036]],[synthesize,[:,_93814,[->,_96054,_96030,_96036]],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(7))
                  <--(19,retval(fail))
              <--(14,retval(fail))
              -->(20,eval('&self',['let*',[[[:,_479026,[->,_479044,_479050,_479056,_479062]],[rb]],[[:,[_479026,_479110,_479116,_479122],_479062],[:,_1960,[->,'Number','Bool']]],[[:,_479110,_479044],[synthesize,[:,_479110,_479044],kb,rb,'Z']],[[:,_479116,_479050],[synthesize,[:,_479116,_479050],kb,rb,'Z']],[[:,_479122,_479056],[synthesize,[:,_479122,_479056],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(21,eval('&self',[rb],RET),depth(7))
                  <--(21,retval([superpose,[[:,->,[->,_481776,_481782],[->,_481800,_481776],[->,_481800,_481782]],[:,.:,[->,[->,_481782,_481884],[->,_481800,_481776,_481782],[->,_481800,_481776,_481884]]]]]))
                    -->(22,eval('&self',[superpose,[[:,->,[->,_481518,_481524],[->,_481542,_481518],[->,_481542,_481524]],[:,.:,[->,[->,_481524,_481626],[->,_481542,_481518,_481524],[->,_481542,_481518,_481626]]]]],RET),depth(8))
                        -->(23,eval('&self',[:,->,[->,_481518,_481524],[->,_481542,_481518],[->,_481542,_481524]],RET),depth(10))
                      -->(24,eval('&self',[:,->,[->,_10978,_10984],[->,_11002,_10978],[->,_11002,_10984]],RET),depth(9))
                    <--(22,retval([:,.:,[->,[->,_207482,_207488],[->,_207506,_207512,_207482],[->,_207506,_207512,_207488]]]))
              <--(20,retval(fail))
              -->(25,eval('&self',['let*',[[[:,_325732,[->,_325750,_325756,_325762,_325768,_325774]],[rb]],[[:,[_325732,_325822,_325828,_325834,_325840],_325774],[:,_1960,[->,'Number','Bool']]],[[:,_325822,_325750],[synthesize,[:,_325822,_325750],kb,rb,'Z']],[[:,_325828,_325756],[synthesize,[:,_325828,_325756],kb,rb,'Z']],[[:,_325834,_325762],[synthesize,[:,_325834,_325762],kb,rb,'Z']],[[:,_325840,_325768],[synthesize,[:,_325840,_325768],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(26,eval('&self',[rb],RET),depth(7))
                  <--(26,retval([superpose,[[:,->,[->,_328674,_328680],[->,_328698,_328674],[->,_328698,_328680]],[:,.:,[->,[->,_328680,_328782],[->,_328698,_328674,_328680],[->,_328698,_328674,_328782]]]]]))
                    -->(27,eval('&self',[superpose,[[:,->,[->,_328416,_328422],[->,_328440,_328416],[->,_328440,_328422]],[:,.:,[->,[->,_328422,_328524],[->,_328440,_328416,_328422],[->,_328440,_328416,_328524]]]]],RET),depth(8))
                        -->(28,eval('&self',[:,->,[->,_328416,_328422],[->,_328440,_328416],[->,_328440,_328422]],RET),depth(10))
                      -->(29,eval('&self',[:,->,[->,_328416,_328422],[->,_328440,_328416],[->,_328440,_328422]],RET),depth(9))
                    <--(27,retval([:,.:,[->,[->,_54948,_54954],[->,_54972,_54978,_54948],[->,_54972,_54978,_54954]]]))
              <--(25,retval(fail))
              -->(30,eval('&self',['let*',[[[:,_173198,[->,_173216,_173222,_173228,_173234,_173240,_173246]],[rb]],[[:,[_173198,_173294,_173300,_173306,_173312,_173318],_173246],[:,_1960,[->,'Number','Bool']]],[[:,_173294,_173216],[synthesize,[:,_173294,_173216],kb,rb,'Z']],[[:,_173300,_173222],[synthesize,[:,_173300,_173222],kb,rb,'Z']],[[:,_173306,_173228],[synthesize,[:,_173306,_173228],kb,rb,'Z']],[[:,_173312,_173234],[synthesize,[:,_173312,_173234],kb,rb,'Z']],[[:,_173318,_173240],[synthesize,[:,_173318,_173240],kb,rb,'Z']]],[:,_1960,[->,'Number','Bool']]],RET),depth(5))
                  -->(31,eval('&self',[rb],RET),depth(7))
                  <--(31,retval([superpose,[[:,->,[->,_176332,_176338],[->,_176356,_176332],[->,_176356,_176338]],[:,.:,[->,[->,_176338,_176440],[->,_176356,_176332,_176338],[->,_176356,_176332,_176440]]]]]))
                    -->(32,eval('&self',[superpose,[[:,->,[->,_176074,_176080],[->,_176098,_176074],[->,_176098,_176080]],[:,.:,[->,[->,_176080,_176182],[->,_176098,_176074,_176080],[->,_176098,_176074,_176182]]]]],RET),depth(8))
                        -->(33,eval('&self',[:,->,[->,_176074,_176080],[->,_176098,_176074],[->,_176098,_176080]],RET),depth(10))
                      -->(34,eval('&self',[:,->,[->,_176074,_176080],[->,_176098,_176074],[->,_176098,_176080]],RET),depth(9))
                    <--(32,retval([:,.:,[->,[->,_413938,_413944],[->,_413962,_413968,_413938],[->,_413962,_413968,_413944]]]))
              <--(30,retval(fail))
            <--(5,retval(['let*',[[[:,_6428,[->,_6446,_6452,_6458,_6464,_6470,_6476]],[rb]],[[:,[_6428,_6524,_6530,_6536,_6542,_6548],_6476],[:,_6572,[->,'Number','Bool']]],[[:,_6524,_6446],[synthesize,[:,_6524,_6446],kb,rb,'Z']],[[:,_6530,_6452],[synthesize,[:,_6530,_6452],kb,rb,'Z']],[[:,_6536,_6458],[synthesize,[:,_6536,_6458],kb,rb,'Z']],[[:,_6542,_6464],[synthesize,[:,_6542,_6464],kb,rb,'Z']],[[:,_6548,_6470],[synthesize,[:,_6548,_6470],kb,rb,'Z']]],[:,_6572,[->,'Number','Bool']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,_3114,[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,_3114,[->,'Number','Bool']],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Queries for the specific `(.g f)` composition, checking if it goes from Number to Bool af depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) 
      (-> Number Bool)) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                    -->(4,eval('&self',['.',g,f],RET),depth(8))
                -->(5,eval('&self',['S','Z'],RET),depth(6))
            -->(6,eval('&self',[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
              -->(7,eval('&self',[let,[:,['.',g,f],[->,'Number','Bool']],[kb],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(8,eval('&self',[kb],RET),depth(7))
                    -->(9,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(10,eval('&self',['let*',[[[:,_247946,[->,_247964,_247970]],[rb]],[[:,[_247946,_248018],_247970],[:,['.',g,f],[->,'Number','Bool']]],[[:,_248018,_247964],[synthesize,[:,_248018,_247964],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(11,eval('&self',[rb],RET),depth(7))
                  <--(11,retval([superpose,[[:,->,[->,_250330,_250336],[->,_250354,_250330],[->,_250354,_250336]],[:,.:,[->,[->,_250336,_250438],[->,_250354,_250330,_250336],[->,_250354,_250330,_250438]]]]]))
                    -->(12,eval('&self',[superpose,[[:,->,[->,_250072,_250078],[->,_250096,_250072],[->,_250096,_250078]],[:,.:,[->,[->,_250078,_250180],[->,_250096,_250072,_250078],[->,_250096,_250072,_250180]]]]],RET),depth(8))
                        -->(13,eval('&self',[:,->,[->,_250072,_250078],[->,_250096,_250072],[->,_250096,_250078]],RET),depth(10))
                      -->(14,eval('&self',[:,->,[->,_250072,_250078],[->,_250096,_250072],[->,_250096,_250078]],RET),depth(9))
                    <--(12,retval([:,.:,[->,[->,_487936,_487942],[->,_487960,_487966,_487936],[->,_487960,_487966,_487942]]]))
              <--(10,retval(fail))
              -->(15,eval('&self',['let*',[[[:,_94146,[->,_94164,_94170,_94176]],[rb]],[[:,[_94146,_94224,_94230],_94176],[:,['.',g,f],[->,'Number','Bool']]],[[:,_94224,_94164],[synthesize,[:,_94224,_94164],kb,rb,'Z']],[[:,_94230,_94170],[synthesize,[:,_94230,_94170],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(16,eval('&self',[rb],RET),depth(7))
                  <--(16,retval([superpose,[[:,->,[->,_96722,_96728],[->,_96746,_96722],[->,_96746,_96728]],[:,.:,[->,[->,_96728,_96830],[->,_96746,_96722,_96728],[->,_96746,_96722,_96830]]]]]))
                    -->(17,eval('&self',[superpose,[[:,->,[->,_96464,_96470],[->,_96488,_96464],[->,_96488,_96470]],[:,.:,[->,[->,_96470,_96572],[->,_96488,_96464,_96470],[->,_96488,_96464,_96572]]]]],RET),depth(8))
                        -->(18,eval('&self',[:,->,[->,_96464,_96470],[->,_96488,_96464],[->,_96488,_96470]],RET),depth(10))
                      -->(19,eval('&self',[:,->,[->,_96464,_96470],[->,_96488,_96464],[->,_96488,_96470]],RET),depth(9))
                    <--(17,retval([:,.:,[->,[->,_334328,_334334],[->,_334352,_334358,_334328],[->,_334352,_334358,_334334]]]))
                  -->(20,eval('&self',['let*',[[[:,[.:,_94224,_94230],[->,_96488,_96464,_96572]],[:,['.',g,f],[->,'Number','Bool']]],[[:,_94224,[->,_96470,_96572]],[synthesize,[:,_94224,[->,_96470,_96572]],kb,rb,'Z']],[[:,_94230,[->,_96488,_96464,_96470]],[synthesize,[:,_94230,[->,_96488,_96464,_96470]],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(7))
                          -->(21,eval('&self',['.',g,f],RET),depth(11))
                  <--(20,retval(fail))
              <--(15,retval(fail))
              -->(22,eval('&self',['let*',[[[:,_20184,[->,_20202,_20208,_20214,_20220]],[rb]],[[:,[_20184,_20268,_20274,_20280],_20220],[:,['.',g,f],[->,'Number','Bool']]],[[:,_20268,_20202],[synthesize,[:,_20268,_20202],kb,rb,'Z']],[[:,_20274,_20208],[synthesize,[:,_20274,_20208],kb,rb,'Z']],[[:,_20280,_20214],[synthesize,[:,_20280,_20214],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(23,eval('&self',[rb],RET),depth(7))
                  <--(23,retval([superpose,[[:,->,[->,_22952,_22958],[->,_22976,_22952],[->,_22976,_22958]],[:,.:,[->,[->,_22958,_23060],[->,_22976,_22952,_22958],[->,_22976,_22952,_23060]]]]]))
                    -->(24,eval('&self',[superpose,[[:,->,[->,_22694,_22700],[->,_22718,_22694],[->,_22718,_22700]],[:,.:,[->,[->,_22700,_22802],[->,_22718,_22694,_22700],[->,_22718,_22694,_22802]]]]],RET),depth(8))
                        -->(25,eval('&self',[:,->,[->,_22694,_22700],[->,_22718,_22694],[->,_22718,_22700]],RET),depth(10))
                      -->(26,eval('&self',[:,->,[->,_22694,_22700],[->,_22718,_22694],[->,_22718,_22700]],RET),depth(9))
                    <--(24,retval([:,.:,[->,[->,_260558,_260564],[->,_260582,_260588,_260558],[->,_260582,_260588,_260564]]]))
              <--(22,retval(fail))
              -->(27,eval('&self',['let*',[[[:,_378808,[->,_378826,_378832,_378838,_378844,_378850]],[rb]],[[:,[_378808,_378898,_378904,_378910,_378916],_378850],[:,['.',g,f],[->,'Number','Bool']]],[[:,_378898,_378826],[synthesize,[:,_378898,_378826],kb,rb,'Z']],[[:,_378904,_378832],[synthesize,[:,_378904,_378832],kb,rb,'Z']],[[:,_378910,_378838],[synthesize,[:,_378910,_378838],kb,rb,'Z']],[[:,_378916,_378844],[synthesize,[:,_378916,_378844],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(28,eval('&self',[rb],RET),depth(7))
                  <--(28,retval([superpose,[[:,->,[->,_381768,_381774],[->,_381792,_381768],[->,_381792,_381774]],[:,.:,[->,[->,_381774,_381876],[->,_381792,_381768,_381774],[->,_381792,_381768,_381876]]]]]))
                    -->(29,eval('&self',[superpose,[[:,->,[->,_381510,_381516],[->,_381534,_381510],[->,_381534,_381516]],[:,.:,[->,[->,_381516,_381618],[->,_381534,_381510,_381516],[->,_381534,_381510,_381618]]]]],RET),depth(8))
                        -->(30,eval('&self',[:,->,[->,_381510,_381516],[->,_381534,_381510],[->,_381534,_381516]],RET),depth(10))
                      -->(31,eval('&self',[:,->,[->,_381510,_381516],[->,_381534,_381510],[->,_381534,_381516]],RET),depth(9))
                    <--(29,retval([:,.:,[->,[->,_108164,_108170],[->,_108188,_108194,_108164],[->,_108188,_108194,_108170]]]))
              <--(27,retval(fail))
              -->(32,eval('&self',['let*',[[[:,_226414,[->,_226432,_226438,_226444,_226450,_226456,_226462]],[rb]],[[:,[_226414,_226510,_226516,_226522,_226528,_226534],_226462],[:,['.',g,f],[->,'Number','Bool']]],[[:,_226510,_226432],[synthesize,[:,_226510,_226432],kb,rb,'Z']],[[:,_226516,_226438],[synthesize,[:,_226516,_226438],kb,rb,'Z']],[[:,_226522,_226444],[synthesize,[:,_226522,_226444],kb,rb,'Z']],[[:,_226528,_226450],[synthesize,[:,_226528,_226450],kb,rb,'Z']],[[:,_226534,_226456],[synthesize,[:,_226534,_226456],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]],RET),depth(5))
                  -->(33,eval('&self',[rb],RET),depth(7))
                  <--(33,retval([superpose,[[:,->,[->,_229566,_229572],[->,_229590,_229566],[->,_229590,_229572]],[:,.:,[->,[->,_229572,_229674],[->,_229590,_229566,_229572],[->,_229590,_229566,_229674]]]]]))
                    -->(34,eval('&self',[superpose,[[:,->,[->,_229308,_229314],[->,_229332,_229308],[->,_229332,_229314]],[:,.:,[->,[->,_229314,_229416],[->,_229332,_229308,_229314],[->,_229332,_229308,_229416]]]]],RET),depth(8))
                        -->(35,eval('&self',[:,->,[->,_229308,_229314],[->,_229332,_229308],[->,_229332,_229314]],RET),depth(10))
                      -->(36,eval('&self',[:,->,[->,_229308,_229314],[->,_229332,_229308],[->,_229332,_229314]],RET),depth(9))
                    <--(34,retval([:,.:,[->,[->,_467172,_467178],[->,_467196,_467202,_467172],[->,_467196,_467202,_467178]]]))
              <--(32,retval(fail))
            <--(6,retval(['let*',[[[:,_7220,[->,_7238,_7244,_7250,_7256,_7262,_7268]],[rb]],[[:,[_7220,_7316,_7322,_7328,_7334,_7340],_7268],[:,['.',g,f],[->,'Number','Bool']]],[[:,_7316,_7238],[synthesize,[:,_7316,_7238],kb,rb,'Z']],[[:,_7322,_7244],[synthesize,[:,_7322,_7244],kb,rb,'Z']],[[:,_7328,_7250],[synthesize,[:,_7328,_7250],kb,rb,'Z']],[[:,_7334,_7256],[synthesize,[:,_7334,_7256],kb,rb,'Z']],[[:,_7340,_7262],[synthesize,[:,_7340,_7262],kb,rb,'Z']]],[:,['.',g,f],[->,'Number','Bool']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],[->,'Number','Bool']],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Type inference for `(. g f)`
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g f) $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,f],Type],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,f],_91528],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,f],_91528],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_91528],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,f],_91528],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                    -->(4,eval('&self',['.',g,f],RET),depth(8))
                -->(5,eval('&self',['S','Z'],RET),depth(6))
            -->(6,eval('&self',[synthesize,[:,['.',g,f],_91528],kb,rb,['S','Z']],RET),depth(4))
              -->(7,eval('&self',[let,[:,['.',g,f],_91528],[kb],[:,['.',g,f],_91528]],RET),depth(5))
                  -->(8,eval('&self',[kb],RET),depth(7))
                    -->(9,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(9,retval([:,i,[->,'String','Number','Bool']]))
                  <--(8,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(7,retval(fail))
              -->(10,eval('&self',['let*',[[[:,_278272,[->,_278290,_278296]],[rb]],[[:,[_278272,_278344],_278296],[:,['.',g,f],_2884]],[[:,_278344,_278290],[synthesize,[:,_278344,_278290],kb,rb,'Z']]],[:,['.',g,f],_2884]],RET),depth(5))
                  -->(11,eval('&self',[rb],RET),depth(7))
                  <--(11,retval([superpose,[[:,->,[->,_280638,_280644],[->,_280662,_280638],[->,_280662,_280644]],[:,.:,[->,[->,_280644,_280746],[->,_280662,_280638,_280644],[->,_280662,_280638,_280746]]]]]))
                    -->(12,eval('&self',[superpose,[[:,->,[->,_280380,_280386],[->,_280404,_280380],[->,_280404,_280386]],[:,.:,[->,[->,_280386,_280488],[->,_280404,_280380,_280386],[->,_280404,_280380,_280488]]]]],RET),depth(8))
                        -->(13,eval('&self',[:,->,[->,_280380,_280386],[->,_280404,_280380],[->,_280404,_280386]],RET),depth(10))
                      -->(14,eval('&self',[:,->,[->,_280380,_280386],[->,_280404,_280380],[->,_280404,_280386]],RET),depth(9))
                    <--(12,retval([:,.:,[->,[->,_518244,_518250],[->,_518268,_518274,_518244],[->,_518268,_518274,_518250]]]))
              <--(10,retval(fail))
              -->(15,eval('&self',['let*',[[[:,_123902,[->,_123920,_123926,_123932]],[rb]],[[:,[_123902,_123980,_123986],_123932],[:,['.',g,f],_1984]],[[:,_123980,_123920],[synthesize,[:,_123980,_123920],kb,rb,'Z']],[[:,_123986,_123926],[synthesize,[:,_123986,_123926],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(16,eval('&self',[rb],RET),depth(7))
                  <--(16,retval([superpose,[[:,->,[->,_126460,_126466],[->,_126484,_126460],[->,_126484,_126466]],[:,.:,[->,[->,_126466,_126568],[->,_126484,_126460,_126466],[->,_126484,_126460,_126568]]]]]))
                    -->(17,eval('&self',[superpose,[[:,->,[->,_126202,_126208],[->,_126226,_126202],[->,_126226,_126208]],[:,.:,[->,[->,_126208,_126310],[->,_126226,_126202,_126208],[->,_126226,_126202,_126310]]]]],RET),depth(8))
                        -->(18,eval('&self',[:,->,[->,_126202,_126208],[->,_126226,_126202],[->,_126226,_126208]],RET),depth(10))
                      -->(19,eval('&self',[:,->,[->,_126202,_126208],[->,_126226,_126202],[->,_126226,_126208]],RET),depth(9))
                    <--(17,retval([:,.:,[->,[->,_364066,_364072],[->,_364090,_364096,_364066],[->,_364090,_364096,_364072]]]))
                  -->(20,eval('&self',['let*',[[[:,[.:,_123980,_123986],[->,_126226,_126202,_126310]],[:,['.',g,f],_1984]],[[:,_123980,[->,_126208,_126310]],[synthesize,[:,_123980,[->,_126208,_126310]],kb,rb,'Z']],[[:,_123986,[->,_126226,_126202,_126208]],[synthesize,[:,_123986,[->,_126226,_126202,_126208]],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(7))
                          -->(21,eval('&self',['.',g,f],RET),depth(11))
                  <--(20,retval(fail))
              <--(15,retval(fail))
              -->(22,eval('&self',['let*',[[[:,_30020,[->,_30038,_30044,_30050,_30056]],[rb]],[[:,[_30020,_30104,_30110,_30116],_30056],[:,['.',g,f],_1984]],[[:,_30104,_30038],[synthesize,[:,_30104,_30038],kb,rb,'Z']],[[:,_30110,_30044],[synthesize,[:,_30110,_30044],kb,rb,'Z']],[[:,_30116,_30050],[synthesize,[:,_30116,_30050],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(23,eval('&self',[rb],RET),depth(7))
                  <--(23,retval([superpose,[[:,->,[->,_32770,_32776],[->,_32794,_32770],[->,_32794,_32776]],[:,.:,[->,[->,_32776,_32878],[->,_32794,_32770,_32776],[->,_32794,_32770,_32878]]]]]))
                    -->(24,eval('&self',[superpose,[[:,->,[->,_32512,_32518],[->,_32536,_32512],[->,_32536,_32518]],[:,.:,[->,[->,_32518,_32620],[->,_32536,_32512,_32518],[->,_32536,_32512,_32620]]]]],RET),depth(8))
                        -->(25,eval('&self',[:,->,[->,_32512,_32518],[->,_32536,_32512],[->,_32536,_32518]],RET),depth(10))
                      -->(26,eval('&self',[:,->,[->,_32512,_32518],[->,_32536,_32512],[->,_32536,_32518]],RET),depth(9))
                    <--(24,retval([:,.:,[->,[->,_270376,_270382],[->,_270400,_270406,_270376],[->,_270400,_270406,_270382]]]))
              <--(22,retval(fail))
              -->(27,eval('&self',['let*',[[[:,_388626,[->,_388644,_388650,_388656,_388662,_388668]],[rb]],[[:,[_388626,_388716,_388722,_388728,_388734],_388668],[:,['.',g,f],_1984]],[[:,_388716,_388644],[synthesize,[:,_388716,_388644],kb,rb,'Z']],[[:,_388722,_388650],[synthesize,[:,_388722,_388650],kb,rb,'Z']],[[:,_388728,_388656],[synthesize,[:,_388728,_388656],kb,rb,'Z']],[[:,_388734,_388662],[synthesize,[:,_388734,_388662],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(28,eval('&self',[rb],RET),depth(7))
                  <--(28,retval([superpose,[[:,->,[->,_391568,_391574],[->,_391592,_391568],[->,_391592,_391574]],[:,.:,[->,[->,_391574,_391676],[->,_391592,_391568,_391574],[->,_391592,_391568,_391676]]]]]))
                    -->(29,eval('&self',[superpose,[[:,->,[->,_391310,_391316],[->,_391334,_391310],[->,_391334,_391316]],[:,.:,[->,[->,_391316,_391418],[->,_391334,_391310,_391316],[->,_391334,_391310,_391418]]]]],RET),depth(8))
                        -->(30,eval('&self',[:,->,[->,_391310,_391316],[->,_391334,_391310],[->,_391334,_391316]],RET),depth(10))
                      -->(31,eval('&self',[:,->,[->,_391310,_391316],[->,_391334,_391310],[->,_391334,_391316]],RET),depth(9))
                    <--(29,retval([:,.:,[->,[->,_117100,_117106],[->,_117124,_117130,_117100],[->,_117124,_117130,_117106]]]))
              <--(27,retval(fail))
              -->(32,eval('&self',['let*',[[[:,_235350,[->,_235368,_235374,_235380,_235386,_235392,_235398]],[rb]],[[:,[_235350,_235446,_235452,_235458,_235464,_235470],_235398],[:,['.',g,f],_1984]],[[:,_235446,_235368],[synthesize,[:,_235446,_235368],kb,rb,'Z']],[[:,_235452,_235374],[synthesize,[:,_235452,_235374],kb,rb,'Z']],[[:,_235458,_235380],[synthesize,[:,_235458,_235380],kb,rb,'Z']],[[:,_235464,_235386],[synthesize,[:,_235464,_235386],kb,rb,'Z']],[[:,_235470,_235392],[synthesize,[:,_235470,_235392],kb,rb,'Z']]],[:,['.',g,f],_1984]],RET),depth(5))
                  -->(33,eval('&self',[rb],RET),depth(7))
                  <--(33,retval([superpose,[[:,->,[->,_238484,_238490],[->,_238508,_238484],[->,_238508,_238490]],[:,.:,[->,[->,_238490,_238592],[->,_238508,_238484,_238490],[->,_238508,_238484,_238592]]]]]))
                    -->(34,eval('&self',[superpose,[[:,->,[->,_238226,_238232],[->,_238250,_238226],[->,_238250,_238232]],[:,.:,[->,[->,_238232,_238334],[->,_238250,_238226,_238232],[->,_238250,_238226,_238334]]]]],RET),depth(8))
                        -->(35,eval('&self',[:,->,[->,_238226,_238232],[->,_238250,_238226],[->,_238250,_238232]],RET),depth(10))
                      -->(36,eval('&self',[:,->,[->,_238226,_238232],[->,_238250,_238226],[->,_238250,_238232]],RET),depth(9))
                    <--(34,retval([:,.:,[->,[->,_476090,_476096],[->,_476114,_476120,_476090],[->,_476114,_476120,_476096]]]))
              <--(32,retval(fail))
            <--(6,retval(['let*',[[[:,_7256,[->,_7274,_7280,_7286,_7292,_7298,_7304]],[rb]],[[:,[_7256,_7352,_7358,_7364,_7370,_7376],_7304],[:,['.',g,f],_7424]],[[:,_7352,_7274],[synthesize,[:,_7352,_7274],kb,rb,'Z']],[[:,_7358,_7280],[synthesize,[:,_7358,_7280],kb,rb,'Z']],[[:,_7364,_7286],[synthesize,[:,_7364,_7286],kb,rb,'Z']],[[:,_7370,_7292],[synthesize,[:,_7370,_7292],kb,rb,'Z']],[[:,_7376,_7298],[synthesize,[:,_7376,_7298],kb,rb,'Z']]],[:,['.',g,f],_7424]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',g,f],_3138],kb,rb,['S','Z']],[synthesize,[:,['.',g,f],_3138],kb,rb,['S','Z']]]))
;; (: (. g f) (-> Number Bool))
;; Query for any function composition of at most depth 1.
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb 
    (S Z)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,['S','Z']]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_99584,_99886],kb,rb,['S','Z']]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_99584,_99886],kb,rb,['S','Z']],[synthesize,[:,_99584,_99886],kb,rb,['S','Z']]],RET),depth(2))
            -->(2,eval('&self',[[:,_99584,_99886],kb,rb,['S','Z']],RET),depth(4))
                -->(3,eval('&self',['S','Z'],RET),depth(6))
                -->(4,eval('&self',['S','Z'],RET),depth(6))
            -->(5,eval('&self',[synthesize,[:,_99584,_99886],kb,rb,['S','Z']],RET),depth(4))
              -->(6,eval('&self',[let,[:,_99584,_99886],[kb],[:,_99584,_99886]],RET),depth(5))
                  -->(7,eval('&self',[kb],RET),depth(7))
                    -->(8,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
          -->(9,eval('&self',['â\x8A\·',synthesize,[[:,f,[->,'Number','String']],kb,rb,['S','Z']],[:,f,[->,'Number','String']]],RET),depth(3))
              -->(10,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(5))
                  -->(11,eval('&self',['S','Z'],RET),depth(7))
                  -->(12,eval('&self',['S','Z'],RET),depth(7))
              -->(13,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(5))
                  -->(14,eval('&self',['S','Z'],RET),depth(7))
                  -->(15,eval('&self',['S','Z'],RET),depth(7))
            -->(16,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(4))
                -->(17,eval('&self',['S','Z'],RET),depth(6))
                -->(18,eval('&self',['S','Z'],RET),depth(6))
          -->(19,eval('&self',[[:,f,[->,'Number','String']],kb,rb,['S','Z']],RET),depth(3))
              -->(20,eval('&self',['S','Z'],RET),depth(5))
              -->(21,eval('&self',['S','Z'],RET),depth(5))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb 
      (S Z)) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>          -->(22,eval('&self',['â\x8A\·',synthesize,[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],[:,g,[->,'String','Bool']]],RET),depth(3))
              -->(23,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(24,eval('&self',['S','Z'],RET),depth(7))
                  -->(25,eval('&self',['S','Z'],RET),depth(7))
              -->(26,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(27,eval('&self',['S','Z'],RET),depth(7))
                  -->(28,eval('&self',['S','Z'],RET),depth(7))
            -->(29,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(30,eval('&self',['S','Z'],RET),depth(6))
                -->(31,eval('&self',['S','Z'],RET),depth(6))
          -->(32,eval('&self',[[:,g,[->,'String','Bool']],kb,rb,['S','Z']],RET),depth(3))
              -->(33,eval('&self',['S','Z'],RET),depth(5))
              -->(34,eval('&self',['S','Z'],RET),depth(5))
NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb 
      (S Z)) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>          -->(35,eval('&self',['â\x8A\·',synthesize,[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],[:,h,[->,'Bool','Number']]],RET),depth(3))
              -->(36,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(37,eval('&self',['S','Z'],RET),depth(7))
                  -->(38,eval('&self',['S','Z'],RET),depth(7))
              -->(39,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(5))
                  -->(40,eval('&self',['S','Z'],RET),depth(7))
                  -->(41,eval('&self',['S','Z'],RET),depth(7))
            -->(42,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(4))
                -->(43,eval('&self',['S','Z'],RET),depth(6))
                -->(44,eval('&self',['S','Z'],RET),depth(6))
          -->(45,eval('&self',[[:,h,[->,'Bool','Number']],kb,rb,['S','Z']],RET),depth(3))
              -->(46,eval('&self',['S','Z'],RET),depth(5))
              -->(47,eval('&self',['S','Z'],RET),depth(5))
NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb 
      (S Z)) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>                    <--(8,retval([:,i,[->,'String','Number','Bool']]))
          -->(48,eval('&self',['â\x8A\·',synthesize,[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],[:,i,[->,'String','Number','Bool']]],RET),depth(3))
              -->(49,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(50,eval('&self',['S','Z'],RET),depth(7))
                  -->(51,eval('&self',['S','Z'],RET),depth(7))
              -->(52,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(5))
                  -->(53,eval('&self',['S','Z'],RET),depth(7))
                  -->(54,eval('&self',['S','Z'],RET),depth(7))
            -->(55,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(4))
                -->(56,eval('&self',['S','Z'],RET),depth(6))
                -->(57,eval('&self',['S','Z'],RET),depth(6))
          -->(58,eval('&self',[[:,i,[->,'String','Number','Bool']],kb,rb,['S','Z']],RET),depth(3))
              -->(59,eval('&self',['S','Z'],RET),depth(5))
              -->(60,eval('&self',['S','Z'],RET),depth(5))
NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb 
      (S Z)) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span>                  <--(7,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(6,retval([:,i,[->,'String','Number','Bool']]))
              -->(61,eval('&self',['let*',[[[:,_212940,[->,_212958,_212964]],[rb]],[[:,[_212940,_213012],_212964],[:,_1946,_1964]],[[:,_213012,_212958],[synthesize,[:,_213012,_212958],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(5))
                  -->(62,eval('&self',[rb],RET),depth(7))
                  <--(62,retval([superpose,[[:,->,[->,_215288,_215294],[->,_215312,_215288],[->,_215312,_215294]],[:,.:,[->,[->,_215294,_215396],[->,_215312,_215288,_215294],[->,_215312,_215288,_215396]]]]]))
                    -->(63,eval('&self',[superpose,[[:,->,[->,_215030,_215036],[->,_215054,_215030],[->,_215054,_215036]],[:,.:,[->,[->,_215036,_215138],[->,_215054,_215030,_215036],[->,_215054,_215030,_215138]]]]],RET),depth(8))
                        -->(64,eval('&self',[:,->,[->,_215030,_215036],[->,_215054,_215030],[->,_215054,_215036]],RET),depth(10))
                      -->(65,eval('&self',[:,->,[->,_215030,_215036],[->,_215054,_215030],[->,_215054,_215036]],RET),depth(9))
                    <--(63,retval([:,.:,[->,[->,_452894,_452900],[->,_452918,_452924,_452894],[->,_452918,_452924,_452900]]]))
              <--(61,retval(fail))
              -->(66,eval('&self',['let*',[[[:,_58558,[->,_58576,_58582,_58588]],[rb]],[[:,[_58558,_58636,_58642],_58588],[:,_1946,_1964]],[[:,_58636,_58576],[synthesize,[:,_58636,_58576],kb,rb,'Z']],[[:,_58642,_58582],[synthesize,[:,_58642,_58582],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(5))
                  -->(67,eval('&self',[rb],RET),depth(7))
                  <--(67,retval([superpose,[[:,->,[->,_61098,_61104],[->,_61122,_61098],[->,_61122,_61104]],[:,.:,[->,[->,_61104,_61206],[->,_61122,_61098,_61104],[->,_61122,_61098,_61206]]]]]))
                    -->(68,eval('&self',[superpose,[[:,->,[->,_60840,_60846],[->,_60864,_60840],[->,_60864,_60846]],[:,.:,[->,[->,_60846,_60948],[->,_60864,_60840,_60846],[->,_60864,_60840,_60948]]]]],RET),depth(8))
                        -->(69,eval('&self',[:,->,[->,_60840,_60846],[->,_60864,_60840],[->,_60864,_60846]],RET),depth(10))
                      -->(70,eval('&self',[:,->,[->,_60840,_60846],[->,_60864,_60840],[->,_60864,_60846]],RET),depth(9))
                    <--(68,retval([:,.:,[->,[->,_298704,_298710],[->,_298728,_298734,_298704],[->,_298728,_298734,_298710]]]))
                  -->(71,eval('&self',['let*',[[[:,[.:,_58636,_58642],[->,_60864,_60840,_60948]],[:,_1946,_1964]],[[:,_58636,[->,_60846,_60948]],[synthesize,[:,_58636,[->,_60846,_60948]],kb,rb,'Z']],[[:,_58642,[->,_60864,_60840,_60846]],[synthesize,[:,_58642,[->,_60864,_60840,_60846]],kb,rb,'Z']]],[:,_1946,_1964]],RET),depth(7))
                      -->(72,eval('&self',['let*',[[[:,_58636,[->,_60846,_60948]],[synthesize,[:,_58636,[->,_60846,_60948]],kb,rb,'Z']],[[:,_58642,[->,_60864,_60840,_60846]],[synthesize,[:,_58642,[->,_60864,_60840,_60846]],kb,rb,'Z']]],[:,[.:,_58636,_58642],[->,_60864,_60840,_60948]]],RET),depth(9))
                          -->(73,eval('&self',[synthesize,[:,_58636,[->,_60846,_60948]],kb,rb,'Z'],RET),depth(11))
                            -->(74,eval('&self',[let,[:,_58636,[->,_60846,_60948]],[kb],[:,_58636,[->,_60846,_60948]]],RET),depth(12))
                                -->(75,eval('&self',[kb],RET),depth(14))
                                  -->(76,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(15))
                          -->(77,eval('&self',['let*',[[[:,_4562,[->,_5204,_5200,'Number']],[synthesize,[:,_4562,[->,_5204,_5200,'Number']],kb,rb,'Z']]],[:,[.:,f,_4562],[->,_5204,_5200,'String']]],RET),depth(11))
                              -->(78,eval('&self',[synthesize,[:,_4562,[->,_5204,_5200,'Number']],kb,rb,'Z'],RET),depth(13))
                                -->(79,eval('&self',[let,[:,_4562,[->,_5204,_5200,'Number']],[kb],[:,_4562,[->,_5204,_5200,'Number']]],RET),depth(14))
                                    -->(80,eval('&self',[kb],RET),depth(16))
                                      -->(81,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(81,retval([:,i,[->,'String','Number','Bool']]))
                                    <--(80,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(79,retval(fail))
                              <--(78,retval([let,[:,_8358,[->,_8376,_8382,'Number']],[kb],[:,_8358,[->,_8376,_8382,'Number']]]))
                          <--(77,retval(fail))
                          -->(82,eval('&self',['let*',[[[:,_3904,[->,_4546,_4542,'String']],[synthesize,[:,_3904,[->,_4546,_4542,'String']],kb,rb,'Z']]],[:,[.:,g,_3904],[->,_4546,_4542,'Bool']]],RET),depth(11))
                              -->(83,eval('&self',[synthesize,[:,_3904,[->,_4546,_4542,'String']],kb,rb,'Z'],RET),depth(13))
                                -->(84,eval('&self',[let,[:,_3904,[->,_4546,_4542,'String']],[kb],[:,_3904,[->,_4546,_4542,'String']]],RET),depth(14))
                                    -->(85,eval('&self',[kb],RET),depth(16))
                                      -->(86,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(86,retval([:,i,[->,'String','Number','Bool']]))
                                    <--(85,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
                                <--(84,retval(fail))
                              <--(83,retval([let,[:,_11632,[->,_11650,_11656,'String']],[kb],[:,_11632,[->,_11650,_11656,'String']]]))
                          <--(82,retval(fail))
                          -->(87,eval('&self',['let*',[[[:,_3904,[->,_4546,_4542,'Bool']],[synthesize,[:,_3904,[->,_4546,_4542,'Bool']],kb,rb,'Z']]],[:,[.:,h,_3904],[->,_4546,_4542,'Number']]],RET),depth(11))
                              -->(88,eval('&self',[synthesize,[:,_3904,[->,_4546,_4542,'Bool']],kb,rb,'Z'],RET),depth(13))
                                -->(89,eval('&self',[let,[:,_3904,[->,_4546,_4542,'Bool']],[kb],[:,_3904,[->,_4546,_4542,'Bool']]],RET),depth(14))
                                    -->(90,eval('&self',[kb],RET),depth(16))
                                      -->(91,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(17))
                                      <--(91,retval([:,i,[->,'String','Number','Bool']]))
                              -->(92,eval('&self',['let*',[],[:,[.:,h,i],[->,'String','Number','Number']]],RET),depth(13))
                                      -->(93,eval('&self',[.:,h,i],RET),depth(17))
                              <--(92,retval([:,[.:,h,i],[->,'String','Number','Number']]))
                                    -->(94,eval('&self',[.:,h,i],RET),depth(16))
                                  -->(95,eval('&self',[.:,h,i],RET),depth(15))
                                -->(96,eval('&self',[.:,h,i],RET),depth(14))
                              -->(97,eval('&self',[.:,h,i],RET),depth(13))
                            -->(98,eval('&self',[.:,h,i],RET),depth(12))
                          -->(99,eval('&self',[.:,h,i],RET),depth(11))
                        -->(100,eval('&self',[.:,h,i],RET),depth(10))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
NDet Result(4): <span class="ansi33">
  (â· synthesize 
    ( (: 
        (.: h i) 
        (-> String Number Number)) kb rb 
      (S Z)) 
    (: 
      (.: h i) 
      (-> String Number Number)))

</span><span class="ansi32">$Type = 
  (-> String Number Number)
$Term = 
  (.: h i)


</span>;; (: f (-> Number String)), ..., (: (. f h) (-> Bool String)), ...
;; Input type inference for `(. (. g f) h)`, at depth 2
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. 
        (. g f) h) 
      (-> $In Bool)) kb rb 
    (fromNumber 2)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,In,'Bool']],kb,rb,[fromNumber,2]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',['.',g,f],h],[->,_60898,'Bool']],kb,rb,[fromNumber,2]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',['.',g,f],h],[->,_60898,'Bool']],kb,rb,[fromNumber,2]],[synthesize,[:,['.',['.',g,f],h],[->,_60898,'Bool']],kb,rb,[fromNumber,2]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',['.',g,f],h],[->,_60898,'Bool']],kb,rb,[fromNumber,2]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,2],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,2,0],'Z',['S',[fromNumber,[-,2,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,2,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,2,0],[==,2,0]],RET),depth(10))
                            -->(7,eval('&self',[<,2,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,2,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,2,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,2,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,2,1],0],'Z',['S',[fromNumber,[-,[-,2,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,2,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,2,1],0],[==,[-,2,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,2,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,2,1],RET),depth(19))
                                          <--(15,retval(1))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,2,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,2,1],RET),depth(19))
                                          <--(17,retval(1))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,2,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,2,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,2,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,2,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,2,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,2,1],1],0],[==,[-,[-,2,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,2,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,2,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,2,1],RET),depth(26))
                                                        <--(25,retval(1))
                                                    <--(24,retval(0))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,2,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,2,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,2,1],RET),depth(26))
                                                        <--(28,retval(1))
                                  -->(29,eval('&self',['S','Z'],RET),depth(15))
                              -->(30,eval('&self',['S','Z'],RET),depth(13))
                        -->(31,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(32,eval('&self',['S','Z'],RET),depth(12))
                            -->(33,eval('&self',['S','Z'],RET),depth(12))
                          -->(34,eval('&self',['S','Z'],RET),depth(11))
                    -->(35,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(36,eval('&self',['S','Z'],RET),depth(10))
                        -->(37,eval('&self',['S','Z'],RET),depth(10))
                      -->(38,eval('&self',['S','Z'],RET),depth(9))
                    -->(39,eval('&self',['S','Z'],RET),depth(8))
              -->(40,eval('&self',[[:,['.',['.',g,f],h],[->,_2514,'Bool']],kb,rb,['S',['S','Z']]],RET),depth(5))
                  -->(41,eval('&self',['S',['S','Z']],RET),depth(7))
                      -->(42,eval('&self',['S','Z'],RET),depth(9))
                      -->(43,eval('&self',['S','Z'],RET),depth(9))
                      -->(44,eval('&self',['.',['.',g,f],h],RET),depth(9))
                          -->(45,eval('&self',['.',g,f],RET),depth(11))
                          -->(46,eval('&self',['.',g,f],RET),depth(11))
                          -->(47,eval('&self',['.',g,f],RET),depth(11))
                          -->(48,eval('&self',['.',g,f],RET),depth(11))
                  -->(49,eval('&self',['S',['S','Z']],RET),depth(7))
                      -->(50,eval('&self',['S','Z'],RET),depth(9))
                      -->(51,eval('&self',['S','Z'],RET),depth(9))
                    -->(52,eval('&self',['.',['.',g,f],h],RET),depth(8))
                        -->(53,eval('&self',['.',g,f],RET),depth(10))
                        -->(54,eval('&self',['.',g,f],RET),depth(10))
                        -->(55,eval('&self',['.',g,f],RET),depth(10))
                        -->(56,eval('&self',['.',g,f],RET),depth(10))
                -->(57,eval('&self',['S',['S','Z']],RET),depth(6))
                    -->(58,eval('&self',['S','Z'],RET),depth(8))
                    -->(59,eval('&self',['S','Z'],RET),depth(8))
            -->(60,eval('&self',[synthesize,[:,['.',['.',g,f],h],[->,_2050,'Bool']],kb,rb,[fromNumber,2]],RET),depth(4))
              -->(61,eval('&self',[let,[:,['.',['.',g,f],h],[->,_2050,'Bool']],[kb],[:,['.',['.',g,f],h],[->,_2050,'Bool']]],RET),depth(5))
                  -->(62,eval('&self',[kb],RET),depth(7))
                    -->(63,eval('&self',[superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]],RET),depth(8))
                    <--(63,retval([:,i,[->,'String','Number','Bool']]))
                  <--(62,retval([superpose,[[:,f,[->,'Number','String']],[:,g,[->,'String','Bool']],[:,h,[->,'Bool','Number']],[:,i,[->,'String','Number','Bool']]]]))
              <--(61,retval(fail))
            <--(60,retval([let,[:,['.',['.',g,f],h],[->,_11716,'Bool']],[kb],[:,['.',['.',g,f],h],[->,_11716,'Bool']]]))
                                                    <--(27,retval(0))
                                                <--(26,retval('True'))
                                            <--(22,retval('True'))
                                          <--(21,retval([or,[<,[-,[-,2,1],1],0],[==,[-,[-,2,1],1],0]]))
                                      <--(20,retval('Z'))
                                    <--(19,retval([if,[<=,[-,[-,2,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,2,1],1],1]]]]))
                                <--(18,retval(['S','Z']))
                                <--(12,retval([or,[<,[-,2,1],0],[==,[-,2,1],0]]))
                            <--(11,retval(['S','Z']))
                          <--(10,retval([if,[<=,[-,2,1],0],'Z',['S',[fromNumber,[-,[-,2,1],1]]]]))
                      <--(9,retval(['S',['S','Z']]))
                      <--(5,retval([or,[<,2,0],[==,2,0]]))
                  <--(4,retval(['S',['S','Z']]))
                <--(3,retval([if,[<=,2,0],'Z',['S',[fromNumber,[-,2,1]]]]))
            <--(2,retval([[:,['.',['.',g,f],h],[->,_6520,'Bool']],kb,rb,['S',['S','Z']]]))
        <--(1,retval(fail))
      <--(0,retval(['â\x8A\·',synthesize,[[:,['.',['.',g,f],h],[->,_3276,'Bool']],kb,rb,[fromNumber,2]],[synthesize,[:,['.',['.',g,f],h],[->,_3276,'Bool']],kb,rb,[fromNumber,2]]]))
;; (: (. (. g f) h) (-> Bool Bool))
;; Query for any function which can be composed with `h`, with any type signature, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. $G h) $Type) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. $G h) $Type) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',G,h],Type],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',_421020,h],_421312],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',_421020,h],_421312],kb,rb,[fromNumber,3]],[synthesize,[:,['.',_421020,h],_421312],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',_421020,h],_421312],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',_1976,h],_2000],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',_1976,h],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',_1976,h],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',_1976,h],_2000],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; Long list
;; Query for any function which can be composed with `h`, taking a `Number` and returning any type, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. $G h) 
      (-> Number $Out)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. $G h) 
      (-> Number $Out)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',G,h],[->,'Number',Out]],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',_476394,h],[->,'Number',_476710]],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',_476394,h],[->,'Number',_476710]],kb,rb,[fromNumber,3]],[synthesize,[:,['.',_476394,h],[->,'Number',_476710]],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',_476394,h],[->,'Number',_476710]],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',_1994,h],[->,'Number',_2036]],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',_1994,h],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',_1994,h],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',_1994,h],[->,'Number',_2036]],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; No answer, since `h` doesn't take Number
;; Query for any function which can be composed with `g` and take any input type and return String, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In String)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In String)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,F],[->,In,'String']],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,_47986],[->,_48286,'String']],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,_47986],[->,_48286,'String']],kb,rb,[fromNumber,3]],[synthesize,[:,['.',g,_47986],[->,_48286,'String']],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,_47986],[->,_48286,'String']],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',g,_2000],[->,_2030,'String']],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',g,_2000],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',g,_2000],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',g,_2000],[->,_2030,'String']],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; No answer, since `g` doesn't return string
;; Query for any function which can be composed with `g`, taking any input type and return Bool, at depth 3
<span class="ansi38-013099040">!(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In Bool)) kb rb 
    (fromNumber 3)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: 
      (. g $F) 
      (-> $In Bool)) kb rb 
    (fromNumber 3)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,['.',g,F],[->,In,'Bool']],kb,rb,[fromNumber,3]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,['.',g,_130038],[->,_130338,'Bool']],kb,rb,[fromNumber,3]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,['.',g,_130038],[->,_130338,'Bool']],kb,rb,[fromNumber,3]],[synthesize,[:,['.',g,_130038],[->,_130338,'Bool']],kb,rb,[fromNumber,3]]],RET),depth(2))
            -->(2,eval('&self',[[:,['.',g,_130038],[->,_130338,'Bool']],kb,rb,[fromNumber,3]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,3],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,3,0],'Z',['S',[fromNumber,[-,3,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,3,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,3,0],[==,3,0]],RET),depth(10))
                            -->(7,eval('&self',[<,3,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,3,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,3,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,3,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,3,1],0],'Z',['S',[fromNumber,[-,[-,3,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,3,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,3,1],0],[==,[-,3,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,3,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,3,1],RET),depth(19))
                                          <--(15,retval(2))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,3,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,3,1],RET),depth(19))
                                          <--(17,retval(2))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,3,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,3,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,3,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,3,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,3,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,3,1],1],0],[==,[-,[-,3,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(25,retval(2))
                                                    <--(24,retval(1))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,3,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,3,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,3,1],RET),depth(26))
                                                        <--(28,retval(2))
                                                    <--(27,retval(1))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,3,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,3,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,3,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,3,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,3,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,3,1],1],1],0],[==,[-,[-,[-,3,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(37,retval(2))
                                                                  <--(36,retval(1))
                                                              <--(35,retval(0))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,3,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,3,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,3,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,3,1],RET),depth(33))
                                                                      <--(41,retval(2))
                                            -->(42,eval('&self',['S','Z'],RET),depth(20))
                                        -->(43,eval('&self',['S','Z'],RET),depth(18))
                                  -->(44,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(45,eval('&self',['S','Z'],RET),depth(17))
                                      -->(46,eval('&self',['S','Z'],RET),depth(17))
                                    -->(47,eval('&self',['S','Z'],RET),depth(16))
                              -->(48,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(49,eval('&self',['S','Z'],RET),depth(15))
                                  -->(50,eval('&self',['S','Z'],RET),depth(15))
                                -->(51,eval('&self',['S','Z'],RET),depth(14))
                              -->(52,eval('&self',['S','Z'],RET),depth(13))
                        -->(53,eval('&self',['S',['S',['S','Z']]],RET),depth(10))
                            -->(54,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(55,eval('&self',['S','Z'],RET),depth(14))
                                -->(56,eval('&self',['S','Z'],RET),depth(14))
                            -->(57,eval('&self',['S',['S','Z']],RET),depth(12))
                                -->(58,eval('&self',['S','Z'],RET),depth(14))
                                -->(59,eval('&self',['S','Z'],RET),depth(14))
                          -->(60,eval('&self',['S',['S','Z']],RET),depth(11))
                              -->(61,eval('&self',['S','Z'],RET),depth(13))
                              -->(62,eval('&self',['S','Z'],RET),depth(13))
                    -->(63,eval('&self',['S',['S',['S','Z']]],RET),depth(8))
                        -->(64,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(65,eval('&self',['S','Z'],RET),depth(12))
                            -->(66,eval('&self',['S','Z'],RET),depth(12))
                        -->(67,eval('&self',['S',['S','Z']],RET),depth(10))
                            -->(68,eval('&self',['S','Z'],RET),depth(12))
                            -->(69,eval('&self',['S','Z'],RET),depth(12))
                      -->(70,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(71,eval('&self',['S','Z'],RET),depth(11))
                          -->(72,eval('&self',['S','Z'],RET),depth(11))
                    -->(73,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(74,eval('&self',['S','Z'],RET),depth(10))
                        -->(75,eval('&self',['S','Z'],RET),depth(10))
              -->(76,eval('&self',[[:,['.',g,_2000],[->,_2030,'Bool']],kb,rb,['S',['S',['S','Z']]]],RET),depth(5))
                  -->(77,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(78,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(79,eval('&self',['S','Z'],RET),depth(11))
                          -->(80,eval('&self',['S','Z'],RET),depth(11))
                      -->(81,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(82,eval('&self',['S','Z'],RET),depth(11))
                          -->(83,eval('&self',['S','Z'],RET),depth(11))
                      -->(84,eval('&self',['.',g,_2000],RET),depth(9))
                  -->(85,eval('&self',['S',['S',['S','Z']]],RET),depth(7))
                      -->(86,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(87,eval('&self',['S','Z'],RET),depth(11))
                          -->(88,eval('&self',['S','Z'],RET),depth(11))
                      -->(89,eval('&self',['S',['S','Z']],RET),depth(9))
                          -->(90,eval('&self',['S','Z'],RET),depth(11))
                          -->(91,eval('&self',['S','Z'],RET),depth(11))
                    -->(92,eval('&self',['.',g,_2000],RET),depth(8))
                -->(93,eval('&self',['S',['S',['S','Z']]],RET),depth(6))
                    -->(94,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(95,eval('&self',['S','Z'],RET),depth(10))
                        -->(96,eval('&self',['S','Z'],RET),depth(10))
                    -->(97,eval('&self',['S',['S','Z']],RET),depth(8))
                        -->(98,eval('&self',['S','Z'],RET),depth(10))
                        -->(99,eval('&self',['S','Z'],RET),depth(10))
            -->(100,eval('&self',[synthesize,[:,['.',g,_2000],[->,_2030,'Bool']],kb,rb,[fromNumber,3]],RET),depth(4))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
;; (: (. g f) (-> Number Bool)), (: (. g (. f h)) (-> Bool Bool)), (: (. g (. f (. h g))) (-> String Bool))
;; Query for any function composition of at most depth 4
<span class="ansi38-013099040">!(record synthesize 
  ( (: $Term $Type) kb rb 
    (fromNumber 4)))

</span><span class="ansi38-250144246">; !(record synthesize 
  ( (: $Term $Type) kb rb 
    (fromNumber 4)))
</span><span class="ansi38-218112214">% DEBUG: eval_args(100,'&self',[record,synthesize,[[:,Term,Type],kb,rb,[fromNumber,4]]],OUT).

</span>      -->(0,eval('&self',[record,synthesize,[[:,_209886,_210188],kb,rb,[fromNumber,4]]],RET),depth(1))
        -->(1,eval('&self',['â\x8A\·',synthesize,[[:,_209886,_210188],kb,rb,[fromNumber,4]],[synthesize,[:,_209886,_210188],kb,rb,[fromNumber,4]]],RET),depth(2))
            -->(2,eval('&self',[[:,_209886,_210188],kb,rb,[fromNumber,4]],RET),depth(4))
                -->(3,eval('&self',[fromNumber,4],RET),depth(6))
                  -->(4,eval('&self',[if,[<=,4,0],'Z',['S',[fromNumber,[-,4,1]]]],RET),depth(7))
                      -->(5,eval('&self',[<=,4,0],RET),depth(9))
                        -->(6,eval('&self',[or,[<,4,0],[==,4,0]],RET),depth(10))
                            -->(7,eval('&self',[<,4,0],RET),depth(12))
                            <--(7,retval('False'))
                            -->(8,eval('&self',[==,4,0],RET),depth(12))
                            <--(8,retval('False'))
                        <--(6,retval('False'))
                      -->(9,eval('&self',['S',[fromNumber,[-,4,1]]],RET),depth(9))
                          -->(10,eval('&self',[fromNumber,[-,4,1]],RET),depth(11))
                            -->(11,eval('&self',[if,[<=,[-,4,1],0],'Z',['S',[fromNumber,[-,[-,4,1],1]]]],RET),depth(12))
                                -->(12,eval('&self',[<=,[-,4,1],0],RET),depth(14))
                                  -->(13,eval('&self',[or,[<,[-,4,1],0],[==,[-,4,1],0]],RET),depth(15))
                                      -->(14,eval('&self',[<,[-,4,1],0],RET),depth(17))
                                          -->(15,eval('&self',[-,4,1],RET),depth(19))
                                          <--(15,retval(3))
                                      <--(14,retval('False'))
                                      -->(16,eval('&self',[==,[-,4,1],0],RET),depth(17))
                                          -->(17,eval('&self',[-,4,1],RET),depth(19))
                                          <--(17,retval(3))
                                      <--(16,retval('False'))
                                  <--(13,retval('False'))
                                -->(18,eval('&self',['S',[fromNumber,[-,[-,4,1],1]]],RET),depth(14))
                                    -->(19,eval('&self',[fromNumber,[-,[-,4,1],1]],RET),depth(16))
                                      -->(20,eval('&self',[if,[<=,[-,[-,4,1],1],0],'Z',['S',[fromNumber,[-,[-,[-,4,1],1],1]]]],RET),depth(17))
                                          -->(21,eval('&self',[<=,[-,[-,4,1],1],0],RET),depth(19))
                                            -->(22,eval('&self',[or,[<,[-,[-,4,1],1],0],[==,[-,[-,4,1],1],0]],RET),depth(20))
                                                -->(23,eval('&self',[<,[-,[-,4,1],1],0],RET),depth(22))
                                                    -->(24,eval('&self',[-,[-,4,1],1],RET),depth(24))
                                                        -->(25,eval('&self',[-,4,1],RET),depth(26))
                                                        <--(25,retval(3))
                                                    <--(24,retval(2))
                                                <--(23,retval('False'))
                                                -->(26,eval('&self',[==,[-,[-,4,1],1],0],RET),depth(22))
                                                    -->(27,eval('&self',[-,[-,4,1],1],RET),depth(24))
                                                        -->(28,eval('&self',[-,4,1],RET),depth(26))
                                                        <--(28,retval(3))
                                                    <--(27,retval(2))
                                                <--(26,retval('False'))
                                            <--(22,retval('False'))
                                          -->(29,eval('&self',['S',[fromNumber,[-,[-,[-,4,1],1],1]]],RET),depth(19))
                                              -->(30,eval('&self',[fromNumber,[-,[-,[-,4,1],1],1]],RET),depth(21))
                                                -->(31,eval('&self',[if,[<=,[-,[-,[-,4,1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]]]],RET),depth(22))
                                                    -->(32,eval('&self',[<=,[-,[-,[-,4,1],1],1],0],RET),depth(24))
                                                      -->(33,eval('&self',[or,[<,[-,[-,[-,4,1],1],1],0],[==,[-,[-,[-,4,1],1],1],0]],RET),depth(25))
                                                          -->(34,eval('&self',[<,[-,[-,[-,4,1],1],1],0],RET),depth(27))
                                                              -->(35,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(29))
                                                                  -->(36,eval('&self',[-,[-,4,1],1],RET),depth(31))
                                                                      -->(37,eval('&self',[-,4,1],RET),depth(33))
                                                                      <--(37,retval(3))
                                                                  <--(36,retval(2))
                                                              <--(35,retval(1))
                                                          <--(34,retval('False'))
                                                          -->(38,eval('&self',[==,[-,[-,[-,4,1],1],1],0],RET),depth(27))
                                                              -->(39,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(29))
                                                                  -->(40,eval('&self',[-,[-,4,1],1],RET),depth(31))
                                                                      -->(41,eval('&self',[-,4,1],RET),depth(33))
                                                                      <--(41,retval(3))
                                                                  <--(40,retval(2))
                                                              <--(39,retval(1))
                                                          <--(38,retval('False'))
                                                      <--(33,retval('False'))
                                                    -->(42,eval('&self',['S',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]]],RET),depth(24))
                                                        -->(43,eval('&self',[fromNumber,[-,[-,[-,[-,4,1],1],1],1]],RET),depth(26))
                                                          -->(44,eval('&self',[if,[<=,[-,[-,[-,[-,4,1],1],1],1],0],'Z',['S',[fromNumber,[-,[-,[-,[-,[-,4,1],1],1],1],1]]]],RET),depth(27))
                                                              -->(45,eval('&self',[<=,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(29))
                                                                -->(46,eval('&self',[or,[<,[-,[-,[-,[-,4,1],1],1],1],0],[==,[-,[-,[-,[-,4,1],1],1],1],0]],RET),depth(30))
                                                                    -->(47,eval('&self',[<,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(32))
                                                                        -->(48,eval('&self',[-,[-,[-,[-,4,1],1],1],1],RET),depth(34))
                                                                            -->(49,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(36))
                                                                                -->(50,eval('&self',[-,[-,4,1],1],RET),depth(38))
                                                                                    -->(51,eval('&self',[-,4,1],RET),depth(40))
                                                                                    <--(51,retval(3))
                                                                                <--(50,retval(2))
                                                                            <--(49,retval(1))
                                                                        <--(48,retval(0))
                                                                    <--(47,retval('False'))
                                                                    -->(52,eval('&self',[==,[-,[-,[-,[-,4,1],1],1],1],0],RET),depth(32))
                                                                        -->(53,eval('&self',[-,[-,[-,[-,4,1],1],1],1],RET),depth(34))
                                                                            -->(54,eval('&self',[-,[-,[-,4,1],1],1],RET),depth(36))
                                                                                -->(55,eval('&self',[-,[-,4,1],1],RET),depth(38))
                                                                                    -->(56,eval('&self',[-,4,1],RET),depth(40))
                                                                                    <--(56,retval(3))
                                                      -->(57,eval('&self',['S','Z'],RET),depth(25))
                                                  -->(58,eval('&self',['S','Z'],RET),depth(23))
                                            -->(59,eval('&self',['S',['S','Z']],RET),depth(20))
                                                -->(60,eval('&self',['S','Z'],RET),depth(22))
                                                -->(61,eval('&self',['S','Z'],RET),depth(22))
                                              -->(62,eval('&self',['S','Z'],RET),depth(21))
                                        -->(63,eval('&self',['S',['S','Z']],RET),depth(18))
                                            -->(64,eval('&self',['S','Z'],RET),depth(20))
                                            -->(65,eval('&self',['S','Z'],RET),depth(20))
                                          -->(66,eval('&self',['S','Z'],RET),depth(19))
                                        -->(67,eval('&self',['S','Z'],RET),depth(18))
                                  -->(68,eval('&self',['S',['S',['S','Z']]],RET),depth(15))
                                      -->(69,eval('&self',['S',['S','Z']],RET),depth(17))
                                          -->(70,eval('&self',['S','Z'],RET),depth(19))
                                          -->(71,eval('&self',['S','Z'],RET),depth(19))
                                      -->(72,eval('&self',['S',['S','Z']],RET),depth(17))
                                          -->(73,eval('&self',['S','Z'],RET),depth(19))
                                          -->(74,eval('&self',['S','Z'],RET),depth(19))
                                    -->(75,eval('&self',['S',['S','Z']],RET),depth(16))
                                        -->(76,eval('&self',['S','Z'],RET),depth(18))
                                        -->(77,eval('&self',['S','Z'],RET),depth(18))
                              -->(78,eval('&self',['S',['S',['S','Z']]],RET),depth(13))
                                  -->(79,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(80,eval('&self',['S','Z'],RET),depth(17))
                                      -->(81,eval('&self',['S','Z'],RET),depth(17))
                                  -->(82,eval('&self',['S',['S','Z']],RET),depth(15))
                                      -->(83,eval('&self',['S','Z'],RET),depth(17))
                                      -->(84,eval('&self',['S','Z'],RET),depth(17))
                                -->(85,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(86,eval('&self',['S','Z'],RET),depth(16))
                                    -->(87,eval('&self',['S','Z'],RET),depth(16))
                              -->(88,eval('&self',['S',['S','Z']],RET),depth(13))
                                  -->(89,eval('&self',['S','Z'],RET),depth(15))
                                  -->(90,eval('&self',['S','Z'],RET),depth(15))
                        -->(91,eval('&self',['S',['S',['S',['S','Z']]]],RET),depth(10))
                            -->(92,eval('&self',['S',['S',['S','Z']]],RET),depth(12))
                                -->(93,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(94,eval('&self',['S','Z'],RET),depth(16))
                                    -->(95,eval('&self',['S','Z'],RET),depth(16))
                                -->(96,eval('&self',['S',['S','Z']],RET),depth(14))
                                    -->(97,eval('&self',['S','Z'],RET),depth(16))
                                    -->(98,eval('&self',['S','Z'],RET),depth(16))
                            -->(99,eval('&self',['S',['S',['S','Z']]],RET),depth(12))
                                -->(100,eval('&self',['S',['S','Z']],RET),depth(14))
Switched off tracing. For a longer trace !(pragma! tracelen 101))
NDet Result(0): <span class="ansi33">
  (â· synthesize 
    ( (: f 
        (-> Number String)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: f 
      (-> Number String)))

</span><span class="ansi32">$Type = 
  (-> Number String)
$Term = f


</span>NDet Result(1): <span class="ansi33">
  (â· synthesize 
    ( (: g 
        (-> String Bool)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: g 
      (-> String Bool)))

</span><span class="ansi32">$Type = 
  (-> String Bool)
$Term = g


</span>NDet Result(2): <span class="ansi33">
  (â· synthesize 
    ( (: h 
        (-> Bool Number)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: h 
      (-> Bool Number)))

</span><span class="ansi32">$Type = 
  (-> Bool Number)
$Term = h


</span>NDet Result(3): <span class="ansi33">
  (â· synthesize 
    ( (: i 
        (-> String Number Bool)) kb rb 
      (S 
        (S 
          (S 
            (S Z))))) 
    (: i 
      (-> String Number Bool)))

</span><span class="ansi32">$Type = 
  (-> String Number Bool)
$Term = i


</span><span class="ansi32">% 15,533,116 inferences, 3.236 CPU in 3.237 seconds (100% CPU, 4799771 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/SynthesizeTest.metta" 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_00/hyperon-pln_metta/synthesis/SynthesizeTest.metta.html" )

</pre>
</body>

</html>
