<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta')
1=[()]
2=[(Link A B)]
3=[(Link A B C)]
4=[(: (. $proof1 $proof2) (-> Number Bool))]
5=0.77user 0.00system 0:00.78elapsed 99%CPU (0avgtext+0avgdata 34588maxresident)k
5=0inputs+0outputs (0major+3854minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta', 1, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta', 2, [['Link', 'A', 'B']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta', 3, [['Link', 'A', 'B', 'C']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta', 4, [[:, ['.', Proof1, Proof2], [->, 'Number', 'Bool']]]).

;;; Import module
<span class="ansi38-000068000">!(import! &self Unify.metta)

</span>      -->(0,'&self',['import!','&self','Unify.metta'],depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta')
;; Test unify.
;; Should output (Link A B)
;;; TODO: this should be revised as there is now a unify function in
;;; the standard library.
;; Implement a unifier.  Like with `let` the left term must be an
;; Atom, so if it is function it will not be evaluated.  The
;; implementation however uses `case`, not `let`, that way it filters
;; out terms which have not been fully rewritten.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,unify,[->,'Atom',A,A,A]])
</span><span class="ansi38-255165000">  (: unify 
    (-> Atom $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[unify,Lterm,Rterm,Rewrite],[case,Rterm,[[Lterm,Rewrite]]])
</span><span class="ansi38-255165000">  (= 
    (unify $Lterm $Rterm $Rewrite) 
    (case $Rterm 
      ( ($Lterm $Rewrite))))
</span>

;; Definition of `unify*`
;; Similar to `unify`, but it takes a tuple containing pairs of terms to unify,
;; and a rewrite term.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'unify*',[->,'Atom',A,A]])
</span><span class="ansi38-255165000">  (: unify* 
    (-> Atom $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['unify*',Pairs,Rewrite],[case,Pairs,[[[],Rewrite],[Pairs,['let*',[[Head,['car-atom',Pairs]],[Tail,['cdr-atom',Pairs]]],[case,Head,[[[Lterm,Rterm],[unify,Lterm,Rterm,['unify*',Tail,Rewrite]]]]]]]]])
</span><span class="ansi38-255165000">  (= 
    (unify* $Pairs $Rewrite) 
    (case $Pairs 
      ( (() $Rewrite) 
        ($Pairs 
          (let* 
            ( ($Head 
                (car-atom $Pairs)) 
              ($Tail 
                (cdr-atom $Pairs))) 
            (case $Head 
              ( ( ($Lterm $Rterm) 
                  (unify $Lterm $Rterm 
                    (unify* $Tail $Rewrite))))))))))
</span>

      <--(0,retval('Empty'))
<span class="ansi33"> Empty

</span>;; Base case
;; Recursive step
; By using a case we guaranty
; that ill-formed inputs (non
; tuple of pairs) will be
; discarded
<span class="ansi38-000068000">!(unify 
  (Link $X B) 
  (Link A $Y) 
  (Link $X $Y))

</span>      -->(1,'&self',[unify,['Link',_34688,'B'],['Link','A',_35004],['Link',_34688,_35004]],depth(1))
        -->(2,'&self',[case,['Link','A',_35004],[[['Link',_34688,'B'],['Link',_34688,_35004]]]],depth(2))
            -->(3,'&self',['Link','A',_35004],depth(4))
            -->(4,'&self',['Link','A',_38320],depth(4))
        <--(2,retval(['Link','A',_40004]))
          -->(5,'&self',['Link','A',_38320],depth(3))
<span class="ansi33">  (Link A $_38320)
</span><span class="ansi32">['Y'='B','X'=_34688]
</span>

      <--(1,retval([case,['Link','A',_37806],[[['Link',_37836,'B'],['Link',_37836,_37806]]]]))
<span class="ansi31">
! (assertEqualToResult 
    (unify 
      (Link $X B) 
      (Link A $Y) 
      (Link $X $Y)) 
    ( (Link A B)))
(@ ! 
  (assertEqual 
    ( (Link A $_42930)) 
    ( (Link A B))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.102",exec,[unify,['Link',X,'B'],['Link','A',Y],['Link',X,Y]],'FAIL',[['Link','A','B']],[['Link','A',_42930]])

</span>

--------------------------------------------------------------------------
;; Test unify*.
;; Unify `Link $x B $z` with `Link A $y $z`, and `$z` with `C`
;; Should output (Link A B C)
<span class="ansi38-000068000">!(unify* 
  ( ( (Link $X B $Z) 
      (Link A $Y $Z)) 
    ($Z C)) 
  (Link $X $Y $Z))

</span>      -->(6,'&self',['unify*',[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']],['Link',_80912,_81512,_81204]],depth(1))
        -->(7,'&self',[case,[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']],[[[],['Link',_80912,_81512,_81204]],[[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']],['let*',[[_85248,['car-atom',[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']]]],[_85278,['cdr-atom',[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']]]]],[case,_85248,[[[_85338,_85344],[unify,_85338,_85344,['unify*',_85278,['Link',_80912,_81512,_81204]]]]]]]]]],depth(2))
            -->(8,'&self',[[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],[_81204,'C']],depth(4))
                -->(9,'&self',[['Link',_80912,'B',_81204],['Link','A',_81512,_81204]],depth(6))
                    -->(10,'&self',['Link',_80912,'B',_81204],depth(8))
                    <--(10,retval(['Link'|'False']))
                      -->(11,'&self',['Link'|'False'],depth(9))
                    -->(12,'&self',['Link','A',_81512,_81204],depth(8))
                <--(9,retval([['Link'|'False'],['Link','A',_93354,_93360]]))
                  -->(13,'&self',[['Link'|'False'],['Link','A',_81512,_81204]],depth(7))
                      -->(14,'&self',['Link'|'False'],depth(9))
                      -->(15,'&self',['Link','A',_81512,_81204],depth(9))
                -->(16,'&self',[_81204,'C'],depth(6))
            <--(8,retval([[['Link'|'False'],['Link','A',_95970,_95976]],[_95976,'C']]))
              -->(17,'&self',[[['Link'|'False'],['Link','A',_81512,_81204]],[_81204,'C']],depth(5))
                  -->(18,'&self',[['Link'|'False'],['Link','A',_81512,_81204]],depth(7))
                      -->(19,'&self',['Link'|'False'],depth(9))
                      -->(20,'&self',['Link','A',_81512,_81204],depth(9))
                  -->(21,'&self',[_81204,'C'],depth(7))
            -->(22,'&self',[[['Link',_86536,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']],depth(4))
                -->(23,'&self',[['Link',_86536,'B',_86548],['Link','A',_86572,_86548]],depth(6))
                    -->(24,'&self',['Link',_86536,'B',_86548],depth(8))
                    <--(24,retval(['Link'|'False']))
                      -->(25,'&self',['Link'|'False'],depth(9))
                    -->(26,'&self',['Link','A',_86572,_86548],depth(8))
                <--(23,retval([['Link'|'False'],['Link','A',_102378,_102384]]))
                  -->(27,'&self',[['Link'|'False'],['Link','A',_86572,_86548]],depth(7))
                      -->(28,'&self',['Link'|'False'],depth(9))
                      -->(29,'&self',['Link','A',_86572,_86548],depth(9))
                -->(30,'&self',[_86548,'C'],depth(6))
            <--(22,retval([[['Link'|'False'],['Link','A',_104994,_105000]],[_105000,'C']]))
              -->(31,'&self',[[['Link'|'False'],['Link','A',_86572,_86548]],[_86548,'C']],depth(5))
                  -->(32,'&self',[['Link'|'False'],['Link','A',_86572,_86548]],depth(7))
                      -->(33,'&self',['Link'|'False'],depth(9))
                      -->(34,'&self',['Link','A',_86572,_86548],depth(9))
                  -->(35,'&self',[_86548,'C'],depth(7))
            -->(36,'&self',['let*',[[_86620,['car-atom',[[['Link',==,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']]]],[_86650,['cdr-atom',[[['Link',==,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']]]]],[case,_86620,[[[_86710,_86716],[unify,_86710,_86716,['unify*',_86650,['Link',==,_86572,_86548]]]]]]],depth(4))
                -->(37,'&self',['car-atom',[[['Link',==,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']]],depth(6))
                <--(37,retval([['Link',==,'B',_108870],['Link','A',_108894,_108870]]))
                  -->(38,'&self',[['Link',==,'B',_86548],['Link','A',_86572,_86548]],depth(7))
                      -->(39,'&self',['Link',==,'B',_86548],depth(9))
                      <--(39,retval(['Link'|'False']))
                        -->(40,'&self',['Link'|'False'],depth(10))
                      -->(41,'&self',['Link','A',_86572,_86548],depth(9))
                  <--(38,retval([['Link'|'False'],['Link','A',_111898,_111904]]))
                    -->(42,'&self',[['Link'|'False'],['Link','A',_86572,_86548]],depth(8))
                        -->(43,'&self',['Link'|'False'],depth(10))
                        -->(44,'&self',['Link','A',_86572,_86548],depth(10))
                -->(45,'&self',['let*',[[_86650,['cdr-atom',[[['Link',==,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']]]]],[case,[['Link'|'False'],['Link','A',_86572,_86548]],[[[_86710,_86716],[unify,_86710,_86716,['unify*',_86650,['Link',==,_86572,_86548]]]]]]],depth(6))
                    -->(46,'&self',['cdr-atom',[[['Link',==,'B',_86548],['Link','A',_86572,_86548]],[_86548,'C']]],depth(8))
                    <--(46,retval([[_114634,'C']]))
                      -->(47,'&self',[[_86548,'C']],depth(9))
                          -->(48,'&self',[_86548,'C'],depth(11))
                    -->(49,'&self',['let*',[],[case,[['Link'|'False'],['Link','A',_86572,_86548]],[[[_86710,_86716],[unify,_86710,_86716,['unify*',[[_86548,'C']],['Link',==,_86572,_86548]]]]]]],depth(8))
                        -->(50,'&self',[case,[['Link'|'False'],['Link','A',_86572,_86548]],[[[_86710,_86716],[unify,_86710,_86716,['unify*',[[_86548,'C']],['Link',==,_86572,_86548]]]]]],depth(10))
                            -->(51,'&self',[['Link'|'False'],['Link','A',_86572,_86548]],depth(12))
                                -->(52,'&self',['Link'|'False'],depth(14))
                                -->(53,'&self',['Link','A',_86572,_86548],depth(14))
                            -->(54,'&self',[unify,['Link'|'False'],['Link','A',_86572,_86548],['unify*',[[_116522,'C']],['Link',==,_116552,_116522]]],depth(12))
                              -->(55,'&self',[case,['Link','A',_86572,_86548],[[['Link'|'False'],['unify*',[[_116522,'C']],['Link',==,_116552,_116522]]]]],depth(13))
                                  -->(56,'&self',['Link','A',_86572,_86548],depth(15))
                                  -->(57,'&self',['Link'|'False'],depth(15))
                              <--(55,retval(fail))
                            <--(54,retval([case,['Link','A',_119184,_119190],[[['Link'|'False'],['unify*',[[_119244,'C']],['Link',==,_119274,_119244]]]]]))
                        <--(50,retval(fail))
                    <--(49,retval(fail))
                <--(45,retval(fail))
            <--(36,retval(fail))
        <--(7,retval(fail))
      <--(6,retval([case,[[['Link',_85800,'B',_85812],['Link','A',_85836,_85812]],[_85812,'C']],[[[],['Link',_85800,_85836,_85812]],[[[['Link',_85800,'B',_85812],['Link','A',_85836,_85812]],[_85812,'C']],['let*',[[_85950,['car-atom',[[['Link',_85800,'B',_85812],['Link','A',_85836,_85812]],[_85812,'C']]]],[_85980,['cdr-atom',[[['Link',_85800,'B',_85812],['Link','A',_85836,_85812]],[_85812,'C']]]]],[case,_85950,[[[_86040,_86046],[unify,_86040,_86046,['unify*',_85980,['Link',_85800,_85836,_85812]]]]]]]]]]))
<span class="ansi31">
! (assertEqualToResult 
    (unify* 
      ( ( (Link $X B $Z) 
          (Link A $Y $Z)) 
        ($Z C)) 
      (Link $X $Y $Z)) 
    ( (Link A B C)))
(@ ! 
  (assertEqual () 
    ( (Link A B C))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.103",exec,['unify*',[[['Link',X,'B',Z],['Link','A',Y,Z]],[Z,'C']],['Link',X,Y,Z]],'FAIL',[['Link','A','B','C']],[])

</span>

--------------------------------------------------------------------------
;; Test complex unify* query
;; After a series of unifications, it should define the function composition `(. g f)`
;; having type `(-> Number Bool)`
<span class="ansi38-000068000">!(unify* 
  ( ( (: $Ructor 
        (-> $Premise1 $Premise2 $Conclusion)) 
      (: -> 
        (-> $B $C) 
        (-> $A $B) 
        (-> $A $C))) 
    ( (: 
        ($Ructor $Proof1 $Proof2) $Conclusion) 
      (: $Term 
        (-> Number Bool))) 
    ( (: $Proof1 $Premise1) 
      (: g 
        (-> String Bool))) 
    ( (: $Proof2 $Premise2) 
      (: f 
        (-> Number String)))) 
  (: $Term 
    (-> Number Bool)))

</span>      -->(58,'&self',['unify*',[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]],[:,_185744,[->,'Number','Bool']]],depth(1))
          -->(59,'&self',[->,'Number','Bool'],depth(3))
        -->(60,'&self',[case,[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]],[[[],[:,_185744,[->,'Number','Bool']]],[[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]],['let*',[[_190788,['car-atom',[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]]]],[_190818,['cdr-atom',[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]]]]],[case,_190788,[[[_190878,_190884],[unify,_190878,_190884,['unify*',_190818,[:,_185744,[->,'Number','Bool']]]]]]]]]]],depth(2))
            -->(61,'&self',[[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],[[:,[_181340,_184766,_185080],_182322],[:,_185744,[->,'Number','Bool']]],[[:,_184766,_181670],[:,g,[->,'String','Bool']]],[[:,_185080,_181996],[:,f,[->,'Number','String']]]],depth(4))
                -->(62,'&self',[->,'Number','Bool'],depth(6))
                -->(63,'&self',[[:,_181340,[->,_181670,_181996,_182322]],[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],depth(6))
                    -->(64,'&self',[:,_181340,[->,_181670,_181996,_182322]],depth(8))
                    <--(64,retval('True'))
                    -->(65,'&self',[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]],depth(8))
                        -->(66,'&self',[->,_182700,_182984],depth(10))
                        -->(67,'&self',[->,_183284,_182700],depth(10))
                        -->(68,'&self',[->,_183284,_182984],depth(10))
                <--(63,retval(['True',[:,->,[->,_197932,_197938],[->,_197956,_197932],[->,_197956,_197938]]]))
                  -->(69,'&self',['True',[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]]],depth(7))
                      -->(70,'&self',[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]],depth(9))
                          -->(71,'&self',[->,_182700,_182984],depth(11))
                          -->(72,'&self',[->,_183284,_182700],depth(11))
                          -->(73,'&self',[->,_183284,_182984],depth(11))
                      -->(74,'&self',[:,->,[->,_182700,_182984],[->,_183284,_182700],[->,_183284,_182984]],depth(9))
                          -->(75,'&self',[->,_182700,_182984],depth(11))
                          -->(76,'&self',[->,_183284,_182700],depth(11))
                          -->(77,'&self',[->,_183284,_182984],depth(11))
                -->(78,'&self',[[:,['unify*',_184766,_185080],_181996],[:,_185744,[->,'Number','Bool']]],depth(6))
                    -->(79,'&self',[->,'Number','Bool'],depth(8))
                    -->(80,'&self',[->,'Number','Bool'],depth(8))
                    -->(81,'&self',[:,['unify*',_184766,_185080],_181996],depth(8))
                        -->(82,'&self',['unify*',_184766,_185080],depth(10))
                          -->(83,'&self',[case,_184766,[[[],_185080],[_184766,['let*',[[_206676,['car-atom',_184766]],[_206706,['cdr-atom',_184766]]],[case,_206676,[[[_206766,_206772],[unify,_206766,_206772,['unify*',_206706,_185080]]]]]]]]],depth(11))
                              -->(84,'&self',['let*',[[_207748,['car-atom',_207724]],[_207778,['cdr-atom',_207724]]],[case,_207748,[[[_207838,_207844],[unify,_207838,_207844,['unify*',_207778,_207892]]]]]],depth(13))
                                  -->(85,'&self',['car-atom',_207724],depth(15))
                                  <--(85,retval(_208448))
                                  -->(86,'&self',['let*',[[_207778,['cdr-atom',[_207748|_208758]]]],[case,_207748,[[[_207838,_207844],[unify,_207838,_207844,['unify*',_207778,_207892]]]]]],depth(15))
                                      -->(87,'&self',['cdr-atom',[_207748|_208758]],depth(17))
                                      <--(87,retval(_208758))
                                      -->(88,'&self',['let*',[],[case,_207748,[[[_207838,_207844],[unify,_207838,_207844,['unify*',_207778,_207892]]]]]],depth(17))
                                          -->(89,'&self',[case,_207748,[[[_207838,_207844],[unify,_207838,_207844,['unify*',_207778,_207892]]]]],depth(19))
                                              -->(90,'&self',[unify,_210508,_210514,['unify*',_210550,_210556]],depth(21))
                                                -->(91,'&self',[case,_210514,[[_210508,['unify*',_210550,_210556]]]],depth(22))
                                                    -->(92,'&self',['unify*',_211716,_211722],depth(24))
                                                      -->(93,'&self',[case,_211716,[[[],_211722],[_211716,['let*',[[_212524,['car-atom',_211716]],[_212554,['cdr-atom',_211716]]],[case,_212524,[[[_212614,_212620],[unify,_212614,_212620,['unify*',_212554,_211722]]]]]]]]],depth(25))
                                                          -->(94,'&self',['let*',[[_213596,['car-atom',_213572]],[_213626,['cdr-atom',_213572]]],[case,_213596,[[[_213686,_213692],[unify,_213686,_213692,['unify*',_213626,_213740]]]]]],depth(27))
                                                              -->(95,'&self',['car-atom',_213572],depth(29))
                                                              <--(95,retval(_214296))
                                                              -->(96,'&self',['let*',[[_213626,['cdr-atom',[_213596|_214606]]]],[case,_213596,[[[_213686,_213692],[unify,_213686,_213692,['unify*',_213626,_213740]]]]]],depth(29))
                                                                  -->(97,'&self',['cdr-atom',[_213596|_214606]],depth(31))
                                                                  <--(97,retval(_214606))
                                                                  -->(98,'&self',['let*',[],[case,_213596,[[[_213686,_213692],[unify,_213686,_213692,['unify*',_213626,_213740]]]]]],depth(31))
                                                                      -->(99,'&self',[case,_213596,[[[_213686,_213692],[unify,_213686,_213692,['unify*',_213626,_213740]]]]],depth(33))
                                                                          -->(100,'&self',[unify,_216356,_216362,['unify*',_216398,_216404]],depth(35))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi31">

! (assertEqualToResult 
    (unify* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Conclusion)) 
          (: -> 
            (-> $B $C) 
            (-> $A $B) 
            (-> $A $C))) 
        ( (: 
            ($Ructor $Proof1 $Proof2) $Conclusion) 
          (: $Term 
            (-> Number Bool))) 
        ( (: $Proof1 $Premise1) 
          (: g 
            (-> String Bool))) 
        ( (: $Proof2 $Premise2) 
          (: f 
            (-> Number String)))) 
      (: $Term 
        (-> Number Bool))) 
    ( (: 
        (. $Proof1 $Proof2) 
        (-> Number Bool))))
(@ ! 
  (assertEqual () 
    ( (: 
        (. $Proof1 $Proof2) 
        (-> Number Bool)))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.104",exec,['unify*',[[[:,Ructor,[->,Premise1,Premise2,Conclusion]],[:,->,[->,B,C],[->,A,B],[->,A,C]]],[[:,[Ructor,Proof1,Proof2],Conclusion],[:,Term,[->,'Number','Bool']]],[[:,Proof1,Premise1],[:,g,[->,'String','Bool']]],[[:,Proof2,Premise2],[:,f,[->,'Number','String']]]],[:,Term,[->,'Number','Bool']]],'FAIL',[[:,['.',Proof1,Proof2],[->,'Number','Bool']]],[])

</span>

--------------------------------------------------------------------------
<span class="ansi32">% 1,098,383 inferences, 0.331 CPU in 0.332 seconds (100% CPU, 3318800 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 0
</span><span class="ansi31">Failures: 3
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_88/hyperon-pln_metta/synthesis/UnifyTest.html" )
 is_cmd_option(halt,'--halt=true',true)

Script done on 2023-12-04 14:42:18-08:00 [COMMAND_EXIT_CODE="7"]
; Evaluation took 21.66 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 21.66 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 21.66 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 21.67 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 21.67 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 32.24 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 32.24 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 32.25 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 32.25 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

; Evaluation took 32.25 seconds.
<span class="ansi33">  (x 
    (1.0 0.0))
</span><span class="ansi32">['EV'=[],'S'=[x,[1.0,0.0]]]
</span>

<span class="ansi31">
! (assertEqualToResult 
    (let 
      ($S $EV) 
      (choiceQuery 
        ( ( (ExtSet sam) --> duck) 
          ( (ExtSet sam) --> swan) 
          ( (ExtSet sam) --> dog))) $S) 
    ( ( ( (ExtSet sam) --> duck) 
        (1.0 0.618320610687023))))
(@ ! 
  (assertEqual 
    ( (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0)) 
      (x 
        (1.0 0.0))) 
    ( ( ( (ExtSet sam) --> duck) 
        (1.0 0.618320610687023)))))
write_pass_fail_result("METTA-MORPH-TESTS.NALIFIER.101",exec,[let,[S,EV],[choiceQuery,[[['ExtSet',sam],-->,duck],[['ExtSet',sam],-->,swan],[['ExtSet',sam],-->,dog]]],S],'FAIL',[[[['ExtSet',sam],-->,duck],[1.0,0.618320610687023]]],[[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]],[x,[1.0,0.0]]])

</span>

--------------------------------------------------------------------------
<span class="ansi32">% 162,266,411 inferences, 33.272 CPU in 33.278 seconds (100% CPU, 4877013 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_3y/metta-morph_tests/nalifier.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 0
</span><span class="ansi31">Failures: 1
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/interp_3y/metta-morph_tests/nalifier.html" )

</pre>
</body>

</html>
