<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
.ansi38-017068017 { color: #114411; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
Script started on 2024-01-09 15:31:30-08:00 [TERM="xterm" TTY="/dev/pts/0" COLUMNS="152" LINES="150"]
; init_why(before_boot,after('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl')).
; init_phase(after_load).
; init_phase(restore_state).
; libswipl: [/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/Sav.godlike.MeTTaLog,--,--python=enable,--timeout=10,--html,--repl=false,examples/features/host_language/compiler/00a_lang_compiled_case.metta,--halt=true]
;     (compiled_loon default)
%~   (run_vspace_server 3023)
;     (compiled_loon restore)
;    (compiled_loon goal)
; init_why(after_boot,program).
;    (compiled_loon program)
;   (began_loon toplevel)
;      (is_cmd_option python --python=enable enable)
;      (is_cmd_option timeout --timeout=10 10)
;       (is_cmd_option html --html True)
;       (is_cmd_option repl --repl=false False)

; (: user 
  (load_metta_file  &self examples/features/host_language/compiler/00a_lang_compiled_case.metta))
;                (track_load_into_file /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/host_language/compiler/00a_lang_compiled_case.metta)
;                              (load_answer_file /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/host_language/compiler/00a_lang_compiled_case.metta.answers /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/host_language/compiler/00a_lang_compiled_case.metta)
;                              (= 1 "[]")
;                               (= 2 "[]")
;                               (= 3 "[]")
;                                (= 4 "[]")
;                                (= 5 "[]")
;                                (= 6 "[]")
;                                 (= 7 "[]")
;                                 (= 8 "[]")
;                                  (= 9 "[]")
;                                  (= 10 "[]")
;                                  (= 11 "[]")
;                                   (= 12 "[]")
;                                   (= 13 "[]")
;                                    (= 14 "0.14user 0.01system 0:00.15elapsed 99%CPU (0avgtext+0avgdata 28792maxresident)k")
;                                    (= 14 "0inputs+0outputs (0major+3286minor)pagefaults 0swaps")

<span class="ansi38-013099040">!(pragma! compile full)

</span>Deterministic: <span class="ansi33">Empty

</span>; Execution took 0.000065 secs. (64.60 microseconds) 
;; cases are processed sequentially
;                                  ( (convert  $_58274)
;                                    (head_preconds_into_body
;                                      (:-  !$_56940
;                                        (,
;                                          (=  $Src_1
;                                            (assertEqual
;                                              (+ 1
;                                                (superpose
;                                                  (1 2 3)))
;                                              (+ 1
;                                                (superpose
;                                                  (1 2 3)))))
;                                          (loonit_assert_source_tf  $Src_1
;                                            (,
;                                              (findall  $FA_1
;                                                (,
;                                                  (or
;                                                    (=  $_58734 1)
;                                                    (or
;                                                      (=  $_58734 2)
;                                                      (=  $_58734 3)))
;                                                  (+  1 $_2550 $FA_1)) $FARL_1)
;                                              (findall  $FA_2
;                                                (,
;                                                  (or
;                                                    (=  $_2596 1)
;                                                    (or
;                                                      (=  $_2596 2)
;                                                      (=  $_2596 3)))
;                                                  (+  1 $_2596 $FA_2)) $FARL_2))
;                                            (equal_enough  $FARL_1 $FARL_2) $_2512)))))
exec(A) :-
    Src_1=[assertEqual, [+, 1, [superpose, [1, 2, 3]]], [+, 1, [superpose, [1, 2, 3]]]],
    loonit_assert_source_tf(Src_1,
                            (findall(FA_1, ((B=1;B=2;B=3), +(1, B, FA_1)), FARL_1), findall(FA_2, ((C=1;C=2;C=3), +(1, C, FA_2)), FARL_2)),
                            equal_enough(FARL_1, FARL_2),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_1 =  
    [ assertEqual, 
      [ +, 
        1, 
        [ superpose, 
          [1,2,3]]], 
      [ +, 
        1, 
        [ superpose, 
          [1,2,3]]]] , 
  loonit_assert_source_tf( Src_1, 
      ((
       (findall(FA_1,((_58404=1;_58404=2;_58404=3),+(1,_58404,FA_1)),FARL_1)),
       (findall(FA_2,((_58456=1;_58456=2;_58456=3),+(1,_58456,FA_2)),FARL_2))  )), equal_enough(FARL_1,FARL_2),_2242)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (+ 1 
    (superpose 
      (1 2 3))) 
  (+ 1 
    (superpose 
      (1 2 3))))

</span><span class="ansi38-250144246">; !(, (=  $Src_1 (assertEqual (+ 1 (superpose (1 2 3))) (+ 1 (superpose (1 2 3))))) (loonit_assert_source_tf  $Src_1 (,  (findall  $FA_1 (,  (or  (=  $_2510 1) (or  (=  $_2510 2) (=  $_2510 3))) (+  1 $_2510 $FA_1)) $FARL_1) (findall  $FA_2 (,  (or  (=  $_2556 1) (or  (=  $_2556 2) (=  $_2556 3))) (+  1 $_2556 $FA_2)) $FARL_2)) (equal_enough  $FARL_1 $FARL_2) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.01">;; COMPILER.00A-LANG-COMPILED-CASE.01</h3>
; 
; EVAL TEST
; took 0.000169 secs. (168.61 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (2 3 4) 
    (2 3 4)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000505 secs. (505.38 microseconds) 
<span class="ansi32">$FARL_2 = (2 3 4)
$FA_2 = $_3706
$FARL_1 = (2 3 4)
$FA_1 = $_3308
$Src_1 = (assertEqual 
  (+ 1 
    (superpose 
      (1 2 3))) 
  (+ 1 
    (superpose 
      (1 2 3))))


</span>;                                  ( (convert  $_87288)
;                                    (head_preconds_into_body
;                                      (:-  !$_85954
;                                        (,
;                                          (=  $Src_2
;                                            (assertEqual
;                                              (+ 1
;                                                (superpose
;                                                  (1 2 3)))
;                                              (+ 1
;                                                (superpose
;                                                  (1
;                                                    (superpose
;                                                      (2 3)))))))
;                                          (loonit_assert_source_tf  $Src_2
;                                            (,
;                                              (findall  $FA_3
;                                                (,
;                                                  (or
;                                                    (=  $_87748 1)
;                                                    (or
;                                                      (=  $_87748 2)
;                                                      (=  $_87748 3)))
;                                                  (+  1 $_87748 $FA_3)) $FARL_3)
;                                              (findall  $FA_4
;                                                (,
;                                                  (or
;                                                    (=  $_87920 1)
;                                                    (,
;                                                      (or
;                                                        (=  $_87984 2)
;                                                        (=  $_87984 3))
;                                                      (=  $_87984 $_87920)))
;                                                  (+  1 $_87920 $FA_4)) $FARL_4))
;                                            (equal_enough  $FARL_3 $FARL_4) $_85954)))))
exec(A) :-
    Src_2=[assertEqual, [+, 1, [superpose, [1, 2, 3]]], [+, 1, [superpose, [1, [superpose, [2, 3]]]]]],
    loonit_assert_source_tf(Src_2,
                            (findall(FA_3, ((B=1;B=2;B=3), +(1, B, FA_3)), FARL_3), findall(FA_4, ((C=1;(D=2;D=3), D=C), +(1, C, FA_4)), FARL_4)),
                            equal_enough(FARL_3, FARL_4),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_2 =  
    [ assertEqual, 
      [ +, 
        1, 
        [ superpose, 
          [1,2,3]]], 
      [ +, 
        1, 
        [ superpose, 
          [ 1, 
            [ superpose, 
              [2,3]]]]]] , 
  loonit_assert_source_tf( Src_2, 
      ((
       (findall( FA_3, 
          (_192680=1;_192680=2;_192680=3),+(1,_192680,FA_3), 
          FARL_3)),
       (findall( FA_4, 
          (_205294=1;(_205312=2;_205312=3),_205312=_205294),+(1,_205294,FA_4), 
          FARL_4))  )), equal_enough(FARL_3,FARL_4),_2364)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (+ 1 
    (superpose 
      (1 2 3))) 
  (+ 1 
    (superpose 
      (1 
        (superpose 
          (2 3))))))

</span><span class="ansi38-250144246">; !(, (=  $Src_2 (assertEqual (+ 1 (superpose (1 2 3))) (+ 1 (superpose (1 (superpose (2 3))))))) (loonit_assert_source_tf  $Src_2 (,  (findall  $FA_3 (,  (or  (=  $_2660 1) (or  (=  $_2660 2) (=  $_2660 3))) (+  1 $_2660 $FA_3)) $FARL_3) (findall  $FA_4 (,  (or  (=  $_2706 1) (,  (or  (=  $_2714 2) (=  $_2714 3)) (=  $_2714 $_2706))) (+  1 $_2706 $FA_4)) $FARL_4)) (equal_enough  $FARL_3 $FARL_4) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.02">;; COMPILER.00A-LANG-COMPILED-CASE.02</h3>
; 
; EVAL TEST
; took 0.000172 secs. (172.49 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (2 3 4) 
    (2 3 4)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000445 secs. (444.58 microseconds) 
<span class="ansi32">$FARL_4 = (2 3 4)
$FA_4 = $_115546
$FARL_3 = (2 3 4)
$FA_3 = $_115148
$Src_2 = (assertEqual 
  (+ 1 
    (superpose 
      (1 2 3))) 
  (+ 1 
    (superpose 
      (1 
        (superpose 
          (2 3))))))


</span>;                                  ( (convert  $_236272)
;                                    (head_preconds_into_body
;                                      (:-  !$_234938
;                                        (,
;                                          (=  $Src_3
;                                            (assertEqual
;                                              ( (superpose
;                                                  (1 2 3)))
;                                              ( (superpose
;                                                  (1
;                                                    (superpose
;                                                      ( (+ 1 1) 3)))))))
;                                          (loonit_assert_source_tf  $Src_3
;                                            (,
;                                              (findall  $FA_5
;                                                (,
;                                                  (,
;                                                    (or
;                                                      (=  $_236722 1)
;                                                      (or
;                                                        (=  $_236722 2)
;                                                        (=  $_236722 3)))
;                                                    (=  $_236722 $_236712))
;                                                  (u_assign
;                                                    ($_236712) $FA_5)) $FARL_5)
;                                              (findall  $FA_6
;                                                (,
;                                                  (,
;                                                    (or
;                                                      (=  $_237268 1)
;                                                      (,
;                                                        (or
;                                                          (,
;                                                            (u_assign
;                                                              (+  1 1) $_237408)
;                                                            (=  $_237408 $_237332))
;                                                          (=  $_237332 3))
;                                                        (=  $_237332 $_237268)))
;                                                    (=  $_237268 $_237258))
;                                                  (u_assign
;                                                    ($_237258) $FA_6)) $FARL_6))
;                                            (equal_enough  $FARL_5 $FARL_6) $_234938)))))
exec(A) :-
    Src_3=[assertEqual, [[superpose, [1, 2, 3]]], [[superpose, [1, [superpose, [[+, 1, 1], 3]]]]]],
    loonit_assert_source_tf(Src_3,
                            (findall(FA_5, (((B=1;B=2;B=3), B=C), u_assign([C], FA_5)), FARL_5), findall(FA_6, (((D=1;(u_assign(1+1, E), E=F;F=3), F=D), D=G), u_assign([G], FA_6)), FARL_6)),
                            equal_enough(FARL_5, FARL_6),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_3 =  
    [ assertEqual, 
      [ [ superpose, 
          [1,2,3]]], 
      [ [ superpose, 
          [ 1, 
            [ superpose, 
              [ [+,1,1], 
                3]]]]]] , 
  loonit_assert_source_tf( Src_3, 
      ((
       (findall( FA_5, 
          ( _211456=1;_211456=2;_211456=3  ,
            _203056=_203082 , 
            u_assign([_203082],FA_5)), 
          FARL_5)),
       (findall( FA_6, 
          (   ((
               (_241810=1);
               (  ((
                   (u_assign(1+1,Assign),Assign=VAR_Assign;VAR_Assign=3),
                   (VAR_Assign=_241810)  )))  ))  ,
            _232748=_232792 , 
            u_assign([_232792],FA_6)), 
          FARL_6))  )), equal_enough(FARL_5,FARL_6),_2368)
</span>
<span class="ansi38-013099040">!(assertEqual 
  ( (superpose 
      (1 2 3))) 
  ( (superpose 
      (1 
        (superpose 
          ( (+ 1 1) 3))))))

</span><span class="ansi38-250144246">; !(, (=  $Src_3 (assertEqual ((superpose (1 2 3))) ((superpose (1 (superpose ((+ 1 1) 3))))))) (loonit_assert_source_tf  $Src_3 (,  (findall  $FA_5 (,  (,  (or  (=  $_2670 1) (or  (=  $_2670 2) (=  $_2670 3))) (=  $_2670 $_2666)) (u_assign  ($_2666) $FA_5)) $FARL_5) (findall  $FA_6 (,  (,  (or  (=  $_2738 1) (,  (or  (,  (u_assign  (+  1 1) $_2748) (=  $_2748 $_2746)) (=  $_2746 3)) (=  $_2746 $_2738))) (=  $_2738 $_2734)) (u_assign  ($_2734) $FA_6)) $FARL_6)) (equal_enough  $FARL_5 $FARL_6) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.03">;; COMPILER.00A-LANG-COMPILED-CASE.03</h3>
; 
; EVAL TEST
; took 0.000095 secs. (94.80 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    ( (1) 
      (2) 
      (3)) 
    ( (1) 
      (2) 
      (3))))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000372 secs. (371.57 microseconds) 
<span class="ansi32">$FARL_6 = (
  (1) 
  (2) 
  (3))
$FA_6 = $_112122
$FARL_5 = (
  (1) 
  (2) 
  (3))
$FA_5 = $_111652
$Src_3 = (assertEqual 
  ( (superpose 
      (1 2 3))) 
  ( (superpose 
      (1 
        (superpose 
          ( (+ 1 1) 3))))))


</span>;; cases are processed sequentially
;                                  ( (convert  $_276298)
;                                    (head_preconds_into_body
;                                      (:-  !$_274964
;                                        (,
;                                          (=  $Src_4
;                                            (assertEqual
;                                              (case
;                                                (+ 1 5)
;                                                ( (5 Error)
;                                                  (6 OK)
;                                                  (6 Error))) OK))
;                                          (loonit_assert_source_tf  $Src_4
;                                            (,
;                                              (findall  $FA_7
;                                                (,
;                                                  (u_assign
;                                                    (+  1 5) $CASE_EVAL_1)
;                                                  (or
;                                                    (->
;                                                      (unify_enough  $CASE_EVAL_1 5)
;                                                      (=  $FA_7 Error))
;                                                    (or
;                                                      (->
;                                                        (unify_enough  $CASE_EVAL_1 6)
;                                                        (=  $FA_7 OK))
;                                                      (or
;                                                        (->
;                                                          (unify_enough  $CASE_EVAL_1 6)
;                                                          (=  $FA_7 Error))
;                                                        (,  False
;                                                          (=  $FA_7 ())))))) $FARL_7)
;                                              (findall  $FA_8
;                                                (=  $FA_8 OK) $FARL_8))
;                                            (equal_enough  $FARL_7 $FARL_8) $_274964)))))
exec(A) :-
    Src_4=[assertEqual, [case, [+, 1, 5], [[5, 'Error'], [6, 'OK'], [6, 'Error']]], 'OK'],
    loonit_assert_source_tf(Src_4,
                            (findall(FA_7, (u_assign(1+5, CASE_EVAL_1), (unify_enough(CASE_EVAL_1, 5)->FA_7='Error';unify_enough(CASE_EVAL_1, 6)->FA_7='OK';unify_enough(CASE_EVAL_1, 6)->FA_7='Error';fail, FA_7=[])), FARL_7), findall(FA_8, FA_8='OK', FARL_8)),
                            equal_enough(FARL_7, FARL_8),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_4 =  
    [ assertEqual, 
      [ case, 
        [+,1,5], 
        [ [    5   ,'Error'],
          [    6   , 'OK'  ],
          [    6   ,'Error']]], 
      'OK'] , 
  loonit_assert_source_tf( Src_4, 
      ((
       (findall( FA_7, 
            ((
             (u_assign(1+5,CASE_EVAL_1)),
             (( unify_enough(CASE_EVAL_1,5)->FA_7='Error'  ;
                unify_enough(CASE_EVAL_1,6)->FA_7='OK' ; 
                unify_enough(CASE_EVAL_1,6)->FA_7='Error' ; 
                fail,FA_7=[]))  )), 
          FARL_7)),
       (findall(FA_8,FA_8='OK',FARL_8))  )), equal_enough(FARL_7,FARL_8),_2354)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 
    (+ 1 5) 
    ( (5 Error) 
      (6 OK) 
      (6 Error))) OK)

</span><span class="ansi38-250144246">; !(, (=  $Src_4 (assertEqual (case (+ 1 5) ((5 Error) (6 OK) (6 Error))) OK)) (loonit_assert_source_tf  $Src_4 (,  (findall  $FA_7 (,  (u_assign  (+  1 5) $CASE_EVAL_1) (or  (->  (unify_enough  $CASE_EVAL_1 5) (=  $FA_7 Error)) (or  (->  (unify_enough  $CASE_EVAL_1 6) (=  $FA_7 OK)) (or  (->  (unify_enough  $CASE_EVAL_1 6) (=  $FA_7 Error)) (,  False (=  $FA_7 ())))))) $FARL_7) (findall  $FA_8 (=  $FA_8 OK) $FARL_8)) (equal_enough  $FARL_7 $FARL_8) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.04">;; COMPILER.00A-LANG-COMPILED-CASE.04</h3>
; 
; EVAL TEST
; took 0.000055 secs. (55.12 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (OK) 
    (OK)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000322 secs. (321.83 microseconds) 
<span class="ansi32">$FARL_8 = (OK)
$FA_8 = $_4280
$FARL_7 = (OK)
$CASE_EVAL_1 = $_3546
$FA_7 = $_3424
$Src_4 = (assertEqual 
  (case 
    (+ 1 5) 
    ( (5 Error) 
      (6 OK) 
      (6 Error))) OK)


</span>;; we can use variables as cases
;                                  ( (convert  $_79724)
;                                    (head_preconds_into_body
;                                      (:-  !$_78390
;                                        (,
;                                          (=  $Src_5
;                                            (assertEqual
;                                              (case
;                                                (+ 1 5)
;                                                ( ($x
;                                                    (+ 1 $x)))) 7))
;                                          (loonit_assert_source_tf  $Src_5
;                                            (,
;                                              (findall  $FA_9
;                                                (,
;                                                  (u_assign
;                                                    (+  1 5) $CASE_EVAL_2)
;                                                  (or
;                                                    (->
;                                                      (unify_enough  $CASE_EVAL_2 $x)
;                                                      (u_assign
;                                                        (+  1 $x) $FA_9))
;                                                    (,  False
;                                                      (=  $FA_9 ())))) $FARL_9)
;                                              (findall  $FA_10
;                                                (u_assign  $FA_10 7) $FARL_10))
;                                            (equal_enough  $FARL_9 $FARL_10) $_78390)))))
exec(A) :-
    Src_5=[assertEqual, [case, [+, 1, 5], [['$VAR'(x), [+, 1, '$VAR'(x)]]]], 7],
    loonit_assert_source_tf(Src_5,
                            (findall(FA_9, (u_assign(1+5, CASE_EVAL_2), (unify_enough(CASE_EVAL_2, '$VAR'(x))->u_assign(1+'$VAR'(x), FA_9);fail, FA_9=[])), FARL_9), findall(FA_10, u_assign(FA_10, 7), FARL_10)),
                            equal_enough(FARL_9, FARL_10),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_5 =  
    [ assertEqual, 
      [ case, 
        [+,1,5], 
        [ [ '$VAR'(x), 
            [+,1,'$VAR'(x)]]]], 
      7] , 
  loonit_assert_source_tf( Src_5, 
      ((
       (findall( FA_9, 
            ((
             (u_assign(1+5,CASE_EVAL_2)),
             (  ((
                 (unify_enough(CASE_EVAL_2,'$VAR'(x)) ->  
                    u_assign(1+'$VAR'(x),FA_9));
                 (fail,FA_9=[])  )))  )), 
          FARL_9)),
       (findall(FA_10,u_assign(FA_10,7),FARL_10))  )), equal_enough(FARL_9,FARL_10),_2324)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 
    (+ 1 5) 
    ( ($x 
        (+ 1 $x)))) 7)

</span><span class="ansi38-250144246">; !(, (=  $Src_5 (assertEqual (case (+ 1 5) (($x (+ 1 $x)))) 7)) (loonit_assert_source_tf  $Src_5 (,  (findall  $FA_9 (,  (u_assign  (+  1 5) $CASE_EVAL_2) (or  (->  (unify_enough  $CASE_EVAL_2 $x) (u_assign  (+  1 $x) $FA_9)) (,  False (=  $FA_9 ())))) $FARL_9) (findall  $FA_10 (u_assign  $FA_10 7) $FARL_10)) (equal_enough  $FARL_9 $FARL_10) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.05">;; COMPILER.00A-LANG-COMPILED-CASE.05</h3>
; 
; EVAL TEST
; took 0.000077 secs. (77.15 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (7) 
    (7)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000313 secs. (312.79 microseconds) 
<span class="ansi32">$FARL_10 = (7)
$FA_10 = $_3908
$FARL_9 = (7)
$CASE_EVAL_2 = $_3474
$FA_9 = $_3352
$x = $_3160
$Src_5 = (assertEqual 
  (case 
    (+ 1 5) 
    ( ($_3160 
        (+ 1 $_3160)))) 7)


</span>;; cases are not necessarily exhaustive,
;; and the result can be empty
;                                  ( (convert  $_76070)
;                                    (head_preconds_into_body
;                                      (:-  !$_74736
;                                        (,
;                                          (=  $Src_6
;                                            (assertEqual
;                                              (case 5
;                                                ( (6 OK)))
;                                              (superpose ())))
;                                          (loonit_assert_source_tf  $Src_6
;                                            (,
;                                              (findall  $FA_11
;                                                (,
;                                                  (u_assign  $CASE_EVAL_3 5)
;                                                  (or
;                                                    (->
;                                                      (unify_enough  $CASE_EVAL_3 6)
;                                                      (=  $FA_11 OK))
;                                                    (,  False
;                                                      (=  $FA_11 ())))) $FARL_11)
;                                              (findall  $FA_12 False $FARL_12))
;                                            (equal_enough  $FARL_11 $FARL_12) $_74736)))))
exec(A) :-
    Src_6=[assertEqual, [case, 5, [[6, 'OK']]], [superpose, []]],
    loonit_assert_source_tf(Src_6,
                            (findall(FA_11, (u_assign(CASE_EVAL_3, 5), (unify_enough(CASE_EVAL_3, 6)->FA_11='OK';fail, FA_11=[])), FARL_11), findall(FA_12, false, FARL_12)),
                            equal_enough(FARL_11, FARL_12),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_6 =  
    [ assertEqual, 
      [ case, 
        5, 
        [ [  6  ,'OK']]], 
      [superpose,[]]] , 
  loonit_assert_source_tf( Src_6, 
      ((
       (findall( FA_11, 
            ((
             (u_assign(CASE_EVAL_3,5)),
             (unify_enough(CASE_EVAL_3,6)->FA_11='OK';fail,FA_11=[])  )), 
          FARL_11)),
       (findall(FA_12,false,FARL_12))  )), equal_enough(FARL_11,FARL_12),_2282)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 5 
    ( (6 OK))) 
  (superpose ()))

</span><span class="ansi38-250144246">; !(, (=  $Src_6 (assertEqual (case 5 ((6 OK))) (superpose ()))) (loonit_assert_source_tf  $Src_6 (,  (findall  $FA_11 (,  (u_assign  $CASE_EVAL_3 5) (or  (->  (unify_enough  $CASE_EVAL_3 6) (=  $FA_11 OK)) (,  False (=  $FA_11 ())))) $FARL_11) (findall  $FA_12 False $FARL_12)) (equal_enough  $FARL_11 $FARL_12) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.06">;; COMPILER.00A-LANG-COMPILED-CASE.06</h3>
; 
; EVAL TEST
; took 0.000005 secs. (5.21 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  () ()))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000204 secs. (204.47 microseconds) 
<span class="ansi32">$FARL_12 = ()
$FA_12 = $_3692
$FARL_11 = ()
$CASE_EVAL_3 = $_3310
$FA_11 = $_3236
$Src_6 = (assertEqual 
  (case 5 
    ( (6 OK))) 
  (superpose ()))


</span>;; it is non-deterministic: each value is matched against all cases
;                                  ( (convert  $_67158)
;                                    (head_preconds_into_body
;                                      (:-  !$_65824
;                                        (,
;                                          (=  $Src_7
;                                            (assertEqual
;                                              (case
;                                                (+ 1
;                                                  (superpose
;                                                    (1 2 3)))
;                                                ( (3 OK-3)
;                                                  (4 OK-4)))
;                                              (superpose
;                                                (OK-3 OK-4))))
;                                          (loonit_assert_source_tf  $Src_7
;                                            (,
;                                              (findall  $FA_13
;                                                (,
;                                                  (,
;                                                    (or
;                                                      (=  $_69972 1)
;                                                      (or
;                                                        (=  $_69972 2)
;                                                        (=  $_69972 3)))
;                                                    (+  1 $_69972 $CASE_EVAL_4))
;                                                  (or
;                                                    (->
;                                                      (unify_enough  $CASE_EVAL_4 3)
;                                                      (=  $FA_13 OK-3))
;                                                    (or
;                                                      (->
;                                                        (unify_enough  $CASE_EVAL_4 4)
;                                                        (=  $FA_13 OK-4))
;                                                      (,  False
;                                                        (=  $FA_13 ()))))) $FARL_13)
;                                              (findall  $FA_14
;                                                (or
;                                                  (=  $FA_14 OK-3)
;                                                  (=  $FA_14 OK-4)) $FARL_14))
;                                            (equal_enough  $FARL_13 $FARL_14) $_65824)))))
exec(A) :-
    Src_7=[assertEqual, [case, [+, 1, [superpose, [1, 2, 3]]], [[3, 'OK-3'], [4, 'OK-4']]], [superpose, ['OK-3', 'OK-4']]],
    loonit_assert_source_tf(Src_7,
                            (findall(FA_13, (((B=1;B=2;B=3), +(1, B, CASE_EVAL_4)), (unify_enough(CASE_EVAL_4, 3)->FA_13='OK-3';unify_enough(CASE_EVAL_4, 4)->FA_13='OK-4';fail, FA_13=[])), FARL_13), findall(FA_14, (FA_14='OK-3';FA_14='OK-4'), FARL_14)),
                            equal_enough(FARL_13, FARL_14),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_7 =  
    [ assertEqual, 
      [ case, 
        [ +, 
          1, 
          [ superpose, 
            [1,2,3]]], 
        [ [   3   ,'OK-3'],
          [   4   ,'OK-4']]], 
      [ superpose, 
        ['OK-3','OK-4']]] , 
  loonit_assert_source_tf( Src_7, 
      ((
       (findall( FA_13, 
          ( _80570=1;_80570=2;_80570=3  ,
            +(1,_72180,CASE_EVAL_4) , 
            ( unify_enough(CASE_EVAL_4,3)->FA_13='OK-3'  ;
              unify_enough(CASE_EVAL_4,4)->FA_13='OK-4' ; 
              fail,FA_13=[])), 
          FARL_13)),
       (findall(FA_14,(FA_14='OK-3';FA_14='OK-4'),FARL_14))  )), equal_enough(FARL_13,FARL_14),_2328)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 
    (+ 1 
      (superpose 
        (1 2 3))) 
    ( (3 OK-3) 
      (4 OK-4))) 
  (superpose 
    (OK-3 OK-4)))

</span><span class="ansi38-250144246">; !(, (=  $Src_7 (assertEqual (case (+ 1 (superpose (1 2 3))) ((3 OK-3) (4 OK-4))) (superpose (OK-3 OK-4)))) (loonit_assert_source_tf  $Src_7 (,  (findall  $FA_13 (,  (,  (or  (=  $_2666 1) (or  (=  $_2666 2) (=  $_2666 3))) (+  1 $_2666 $CASE_EVAL_4)) (or  (->  (unify_enough  $CASE_EVAL_4 3) (=  $FA_13 OK-3)) (or  (->  (unify_enough  $CASE_EVAL_4 4) (=  $FA_13 OK-4)) (,  False (=  $FA_13 ()))))) $FARL_13) (findall  $FA_14 (or  (=  $FA_14 OK-3) (=  $FA_14 OK-4)) $FARL_14)) (equal_enough  $FARL_13 $FARL_14) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.07">;; COMPILER.00A-LANG-COMPILED-CASE.07</h3>
; 
; EVAL TEST
; took 0.000096 secs. (95.84 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (OK-3 OK-4) 
    (OK-3 OK-4)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000387 secs. (387.26 microseconds) 
<span class="ansi32">$FARL_14 = (OK-3 OK-4)
$FA_14 = $_4364
$FARL_13 = (OK-3 OK-4)
$CASE_EVAL_4 = $_3802
$FA_13 = $_3472
$Src_7 = (assertEqual 
  (case 
    (+ 1 
      (superpose 
        (1 2 3))) 
    ( (3 OK-3) 
      (4 OK-4))) 
  (superpose 
    (OK-3 OK-4)))


</span>;; one case can produce multiple results
;                                  ( (convert  $_115194)
;                                    (head_preconds_into_body
;                                      (:-  !$_113860
;                                        (,
;                                          (=  $Src_8
;                                            (assertEqual
;                                              (case
;                                                (+ 1
;                                                  (superpose
;                                                    (1 2 3)))
;                                                ( ($x
;                                                    (+ 1 $x))))
;                                              (superpose
;                                                (3 4 5))))
;                                          (loonit_assert_source_tf  $Src_8
;                                            (,
;                                              (findall  $FA_15
;                                                (,
;                                                  (,
;                                                    (or
;                                                      (=  $_117278 1)
;                                                      (or
;                                                        (=  $_117278 2)
;                                                        (=  $_117278 3)))
;                                                    (+  1 $_117278 $CASE_EVAL_5))
;                                                  (or
;                                                    (->
;                                                      (unify_enough  $CASE_EVAL_5 $x)
;                                                      (u_assign
;                                                        (+  1 $x) $FA_15))
;                                                    (,  False
;                                                      (=  $FA_15 ())))) $FARL_15)
;                                              (findall  $FA_16
;                                                (or
;                                                  (=  $FA_16 3)
;                                                  (or
;                                                    (=  $FA_16 4)
;                                                    (=  $FA_16 5))) $FARL_16))
;                                            (equal_enough  $FARL_15 $FARL_16) $_113860)))))
exec(A) :-
    Src_8=[assertEqual, [case, [+, 1, [superpose, [1, 2, 3]]], [['$VAR'(x), [+, 1, '$VAR'(x)]]]], [superpose, [3, 4, 5]]],
    loonit_assert_source_tf(Src_8,
                            (findall(FA_15, (((B=1;B=2;B=3), +(1, B, CASE_EVAL_5)), (unify_enough(CASE_EVAL_5, '$VAR'(x))->u_assign(1+'$VAR'(x), FA_15);fail, FA_15=[])), FARL_15), findall(FA_16, (FA_16=3;FA_16=4;FA_16=5), FARL_16)),
                            equal_enough(FARL_15, FARL_16),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_8 =  
    [ assertEqual, 
      [ case, 
        [ +, 
          1, 
          [ superpose, 
            [1,2,3]]], 
        [ [ '$VAR'(x), 
            [+,1,'$VAR'(x)]]]], 
      [ superpose, 
        [3,4,5]]] , 
  loonit_assert_source_tf( Src_8, 
      ((
       (findall( FA_15, 
          ( _81832=1;_81832=2;_81832=3  ,
            +(1,_73442,CASE_EVAL_5) , 
              ((
               (unify_enough(CASE_EVAL_5,'$VAR'(x)) ->  
                  u_assign(1+'$VAR'(x),FA_15));
               (fail,FA_15=[])  ))), 
          FARL_15)),
       (findall(FA_16,(FA_16=3;FA_16=4;FA_16=5),FARL_16))  )), equal_enough(FARL_15,FARL_16),_2420)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 
    (+ 1 
      (superpose 
        (1 2 3))) 
    ( ($x 
        (+ 1 $x)))) 
  (superpose 
    (3 4 5)))

</span><span class="ansi38-250144246">; !(, (=  $Src_8 (assertEqual (case (+ 1 (superpose (1 2 3))) (($x (+ 1 $x)))) (superpose (3 4 5)))) (loonit_assert_source_tf  $Src_8 (,  (findall  $FA_15 (,  (,  (or  (=  $_2740 1) (or  (=  $_2740 2) (=  $_2740 3))) (+  1 $_2740 $CASE_EVAL_5)) (or  (->  (unify_enough  $CASE_EVAL_5 $x) (u_assign  (+  1 $x) $FA_15)) (,  False (=  $FA_15 ())))) $FARL_15) (findall  $FA_16 (or  (=  $FA_16 3) (or  (=  $FA_16 4) (=  $FA_16 5))) $FARL_16)) (equal_enough  $FARL_15 $FARL_16) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.08">;; COMPILER.00A-LANG-COMPILED-CASE.08</h3>
; 
; EVAL TEST
; took 0.000174 secs. (173.73 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    (3 4 5) 
    (3 4 5)))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000441 secs. (440.55 microseconds) 
<span class="ansi32">$FARL_16 = (3 4 5)
$FA_16 = $_4362
$FARL_15 = (3 4 5)
$CASE_EVAL_5 = $_3920
$FA_15 = $_3590
$x = $_3358
$Src_8 = (assertEqual 
  (case 
    (+ 1 
      (superpose 
        (1 2 3))) 
    ( ($_3358 
        (+ 1 $_3358)))) 
  (superpose 
    (3 4 5)))


</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',['Rel-P','A','B'])
</span><span class="ansi38-255165000">(Rel-P A B)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',['Rel-Q','A','C'])
</span><span class="ansi38-255165000">(Rel-Q A C)
</span>

;; Basic Match
;                                  ( (convert  $_136150)
;                                    (head_preconds_into_body
;                                      (:-  !$_134816
;                                        (,
;                                          (=  $Src_9
;                                            (assertEqual
;                                              (match &self
;                                                ($rel A $x)
;                                                ($rel $x))
;                                              (superpose
;                                                ( (Rel-P B)
;                                                  (Rel-Q C)))))
;                                          (loonit_assert_source_tf  $Src_9
;                                            (,
;                                              (findall  $FA_17
;                                                (,
;                                                  (,
;                                                    (,
;                                                      (=  $_136632 $rel)
;                                                      (,
;                                                        (=  $_136694 A)
;                                                        (=  $_136712 $x)))
;                                                    (u_assign
;                                                      ($_136632 $_136694 $_136712) $_136830))
;                                                  (,
;                                                    (,
;                                                      (=  $_136864 $rel)
;                                                      (=  $_136926 $x))
;                                                    (u_assign
;                                                      ($_136864 $_136926) $FA_17))) $FARL_17)
;                                              (findall  $FA_18
;                                                (or
;                                                  (,
;                                                    (u_assign
;                                                      (Rel-P  B) $_137086)
;                                                    (=  $_137086 $FA_18))
;                                                  (,
;                                                    (u_assign
;                                                      (Rel-Q  C) $_137446)
;                                                    (=  $_137446 $FA_18))) $FARL_18))
;                                            (equal_enough  $FARL_17 $FARL_18) $_134816)))))
exec(A) :-
    Src_9=[assertEqual, [match, '&self', ['$VAR'(rel), 'A', '$VAR'(x)], ['$VAR'(rel), '$VAR'(x)]], [superpose, [['Rel-P', 'B'], ['Rel-Q', 'C']]]],
    loonit_assert_source_tf(Src_9,
                            (findall(FA_17, (((B='$VAR'(rel), C='A', D='$VAR'(x)), u_assign([B, C, D], _)), (E='$VAR'(rel), F='$VAR'(x)), u_assign([E, F], FA_17)), FARL_17), findall(FA_18, (u_assign('Rel-P'('B'), G), G=FA_18;u_assign('Rel-Q'('C'), H), H=FA_18), FARL_18)),
                            equal_enough(FARL_17, FARL_18),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_9 =  
    [ assertEqual, 
      [ match, 
        '&self', 
        ['$VAR'(rel),'A','$VAR'(x)], 
        ['$VAR'(rel),'$VAR'(x)]], 
      [ superpose, 
        [ [ 'Rel-P',  'B'  ],
          [ 'Rel-Q',  'C'  ]]]] , 
  loonit_assert_source_tf( Src_9, 
      ((
       (findall( FA_17, 
          ( VAR_Rel='$VAR'(rel)  ,
            A='A' , 
            VAR_X='$VAR'(x) , 
            u_assign([VAR_Rel,A,VAR_X],Assign) , 
            VAR_Rel3='$VAR'(rel) , 
            VAR_X4='$VAR'(x) , 
            u_assign([VAR_Rel3,VAR_X4],FA_17)), 
          FARL_17)),
       (findall( FA_18, 
            ((
             (u_assign('Rel-P'('B'),VAR_FA_18_Rel_P),VAR_FA_18_Rel_P=FA_18);
             (u_assign('Rel-Q'('C'),VAR_FA_18_Rel_Q),VAR_FA_18_Rel_Q=FA_18)  )), 
          FARL_18))  )), equal_enough(FARL_17,FARL_18),_2420)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (match &self 
    ($rel A $x) 
    ($rel $x)) 
  (superpose 
    ( (Rel-P B) 
      (Rel-Q C))))

</span><span class="ansi38-250144246">; !(, (=  $Src_9 (assertEqual (match &self ($rel A $x) ($rel $x)) (superpose ((Rel-P B) (Rel-Q C))))) (loonit_assert_source_tf  $Src_9 (,  (findall  $FA_17 (,  (,  (,  (=  $_2690 $rel) (,  (=  $_2702 A) (=  $_2714 $x))) (u_assign  ($_2690 $_2702 $_2714) $_2736)) (,  (,  (=  $_2752 $rel) (=  $_2764 $x)) (u_assign  ($_2752 $_2764) $FA_17))) $FARL_17) (findall  $FA_18 (or  (,  (u_assign  (Rel-P  B) $_2798) (=  $_2798 $FA_18)) (,  (u_assign  (Rel-Q  C) $_2822) (=  $_2822 $FA_18))) $FARL_18)) (equal_enough  $FARL_17 $FARL_18) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.09">;; COMPILER.00A-LANG-COMPILED-CASE.09</h3>
; 
; EVAL TEST
; took 0.000138 secs. (138.23 microseconds) 
<span class="ansi31">(loonit_failureR 
  (equal_enough  () 
    ( (Rel-P B) 
      (Rel-Q C))))
</span>Deterministic: <span class="ansi33">False

</span>; Execution took 0.000454 secs. (454.48 microseconds) 
<span class="ansi32">$FARL_18 = (
  (Rel-P B) 
  (Rel-Q C))
$FA_18 = $_2516
$FARL_17 = ()
$FA_17 = $_2372
$x = $_2278
$rel = $_2254
$Src_9 = (assertEqual 
  (match &self 
    ($_2254 A $_2278) 
    ($_2254 $_2278)) 
  (superpose 
    ( (Rel-P B) 
      (Rel-Q C))))


</span>;; Basic superpose
;                                  ( (convert  $_22300)
;                                    (head_preconds_into_body
;                                      (:-  !$_20966
;                                        (loonit_assert_source_tf
;                                          (assertEqualToResult
;                                            (superpose
;                                              ( (Rel-P B)
;                                                (Rel-Q C)))
;                                            ( (Rel-P B)
;                                              (Rel-Q C)))
;                                          (findall  $_22592
;                                            (or
;                                              (,
;                                                (u_assign
;                                                  (Rel-P  B) $_22644)
;                                                (=  $_22644 $_22592))
;                                              (,
;                                                (u_assign
;                                                  (Rel-Q  C) $_22996)
;                                                (=  $_22996 $_22592))) $_23364)
;                                          (equal_enough  $_23364
;                                            ( (Rel-P B)
;                                              (Rel-Q C))) $_20966))))
exec(A) :-
    loonit_assert_source_tf([ assertEqualToResult,
                              [superpose, [['Rel-P', 'B'], ['Rel-Q', 'C']]],
                              [['Rel-P', 'B'], ['Rel-Q', 'C']]
                            ],
                            findall(B,
                                    (u_assign('Rel-P'('B'), C), C=B;u_assign('Rel-Q'('C'), D), D=B),
                                    E),
                            equal_enough(E, [['Rel-P', 'B'], ['Rel-Q', 'C']]),
                            A).
<span class="ansi38-017068017">exec(_2356) :-  
  loonit_assert_source_tf( 
     [ assertEqualToResult, 
       [ superpose, 
         [ [ 'Rel-P',  'B'  ],
           [ 'Rel-Q',  'C'  ]]], 
       [ [ 'Rel-P',  'B'  ],
         [ 'Rel-Q',  'C'  ]]], 
     findall( FindallP3V, 
         ((
          (u_assign('Rel-P'('B'),Assign_Rel_P),Assign_Rel_P=FindallP3V);
          (u_assign('Rel-Q'('C'),Assign_Rel_Q),Assign_Rel_Q=FindallP3V)  )), 
       Findall), 
     equal_enough(Findall,[['Rel-P','B'],['Rel-Q','C']]), 
     Tf_Equal_enough)
</span>
<span class="ansi38-013099040">!(assertEqualToResult 
  (superpose 
    ( (Rel-P B) 
      (Rel-Q C))) 
  ( (Rel-P B) 
    (Rel-Q C)))

</span><span class="ansi38-250144246">; !(loonit_assert_source_tf (assertEqualToResult (superpose ((Rel-P B) (Rel-Q C))) ((Rel-P B) (Rel-Q C))) (findall  $_2604 (or  (,  (u_assign  (Rel-P  B) $_2606) (=  $_2606 $_2604)) (,  (u_assign  (Rel-Q  C) $_2630) (=  $_2630 $_2604))) $_2676) (equal_enough  $_2676 ((Rel-P B) (Rel-Q C))) $OUT)
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.10">;; COMPILER.00A-LANG-COMPILED-CASE.10</h3>
; 
; EVAL TEST
; took 0.000112 secs. (112.41 microseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough  
    ( (Rel-P B) 
      (Rel-Q C)) 
    ( (Rel-P B) 
      (Rel-Q C))))
</span>Deterministic: <span class="ansi33">True

</span>; Execution took 0.000450 secs. (450.02 microseconds) 
;; cases can be used for deconstruction
;                                  ( (convert  $_26598)
;                                    (head_preconds_into_body
;                                      (:-  !$_25264
;                                        (,
;                                          (=  $Src_10
;                                            (assertEqual
;                                              (superpose
;                                                ( (P B)
;                                                  (Q C)))
;                                              (case
;                                                (match &self
;                                                  ($rel A $x)
;                                                  ($rel $x))
;                                                ( ( (Rel-P $y)
;                                                    (P $y))
;                                                  ( (Rel-Q $y)
;                                                    (Q $y))))))
;                                          (loonit_assert_source_tf  $Src_10
;                                            (,
;                                              (findall  $FA_19
;                                                (or
;                                                  (,
;                                                    (u_assign
;                                                      (P  B) $_27070)
;                                                    (=  $_27070 $FA_19))
;                                                  (,
;                                                    (u_assign
;                                                      (Q  C) $_27430)
;                                                    (=  $_27430 $FA_19))) $FARL_19)
;                                              (findall  $FA_20
;                                                (,
;                                                  (,
;                                                    (,
;                                                      (,
;                                                        (=  $_31632 $rel)
;                                                        (,
;                                                          (=  $_31694 A)
;                                                          (=  $_31712 $x)))
;                                                      (u_assign
;                                                        ($_31632 $_31694 $_31712) $_31830))
;                                                    (,
;                                                      (,
;                                                        (=  $_31864 $rel)
;                                                        (=  $_31926 $x))
;                                                      (u_assign
;                                                        ($_31864 $_31926) $CASE_EVAL_6)))
;                                                  (or
;                                                    (->
;                                                      (,
;                                                        (u_assign
;                                                          (Rel-P  $y) $_28162)
;                                                        (unify_enough  $CASE_EVAL_6 $_28162))
;                                                      (u_assign
;                                                        (P  $y) $FA_20))
;                                                    (or
;                                                      (->
;                                                        (,
;                                                          (u_assign
;                                                            (Rel-Q  $y) $_29994)
;                                                          (unify_enough  $CASE_EVAL_6 $_29994))
;                                                        (u_assign
;                                                          (Q  $y) $FA_20))
;                                                      (,  False
;                                                        (=  $FA_20 ()))))) $FARL_20))
;                                            (equal_enough  $FARL_19 $FARL_20) $_25264)))))
exec(A) :-
    Src_10=[assertEqual, [superpose, [['P', 'B'], ['Q', 'C']]], [case, [match, '&self', ['$VAR'(rel), 'A', '$VAR'(x)], ['$VAR'(rel), '$VAR'(x)]], [[['Rel-P', '$VAR'(y)], ['P', '$VAR'(y)]], [['Rel-Q', '$VAR'(y)], ['Q', '$VAR'(y)]]]]],
    loonit_assert_source_tf(Src_10,
                            (findall(FA_19, (u_assign('P'('B'), B), B=FA_19;u_assign('Q'('C'), C), C=FA_19), FARL_19), findall(FA_20, ((((D='$VAR'(rel), E='A', F='$VAR'(x)), u_assign([D, E, F], _)), (G='$VAR'(rel), H='$VAR'(x)), u_assign([G, H], CASE_EVAL_6)), (u_assign('Rel-P'('$VAR'(y)), I), unify_enough(CASE_EVAL_6, I)->u_assign('P'('$VAR'(y)), FA_20);u_assign('Rel-Q'('$VAR'(y)), J), unify_enough(CASE_EVAL_6, J)->u_assign('Q'('$VAR'(y)), FA_20);fail, FA_20=[])), FARL_20)),
                            equal_enough(FARL_19, FARL_20),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_10 =  
    [ assertEqual, 
      [ superpose, 
        [ [ 'P','B'],
          [ 'Q','C']]], 
      [ case, 
        [ match, 
          '&self', 
          ['$VAR'(rel),'A','$VAR'(x)], 
          ['$VAR'(rel),'$VAR'(x)]], 
        [ [ [  'Rel-P' ,'$VAR'(y)],
            [    'P'   ,'$VAR'(y)]], 
          [ [  'Rel-Q' ,'$VAR'(y)],
            [    'Q'   ,'$VAR'(y)]]]]] , 
  loonit_assert_source_tf( Src_10, 
      ((
       (findall( FA_19, 
            ((
             (u_assign('P'('B'),VAR_FA_19_P),VAR_FA_19_P=FA_19);
             (u_assign('Q'('C'),VAR_FA_19_Q),VAR_FA_19_Q=FA_19)  )), 
          FARL_19)),
       (findall( FA_20, 
          ( VAR_Rel='$VAR'(rel)  ,
            A='A' , 
            VAR_X='$VAR'(x) , 
            u_assign([VAR_Rel,A,VAR_X],Assign) , 
            VAR_Rel7='$VAR'(rel) , 
            VAR_X8='$VAR'(x) , 
            u_assign([VAR_Rel7,VAR_X8],CASE_EVAL_6) , 
            (   ((
                 (u_assign('Rel-P'('$VAR'(y)),CASE_EVAL_6_Rel_P)),
                 (unify_enough(CASE_EVAL_6,CASE_EVAL_6_Rel_P))  )) ->  
                u_assign('P'('$VAR'(y)),FA_20)  ;
                ((
                 (u_assign('Rel-Q'('$VAR'(y)),CASE_EVAL_6_Rel_Q)),
                 (unify_enough(CASE_EVAL_6,CASE_EVAL_6_Rel_Q))  )) ->  
                u_assign('Q'('$VAR'(y)),FA_20) ; 
              fail,FA_20=[])), 
          FARL_20))  )), equal_enough(FARL_19,FARL_20),_2474)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (superpose 
    ( (P B) 
      (Q C))) 
  (case 
    (match &self 
      ($rel A $x) 
      ($rel $x)) 
    ( ( (Rel-P $y) 
        (P $y)) 
      ( (Rel-Q $y) 
        (Q $y)))))

</span><span class="ansi38-250144246">; !(, (=  $Src_10 (assertEqual (superpose ((P B) (Q C))) (case (match &self ($rel A $x) ($rel $x)) (((Rel-P $y) (P $y)) ((Rel-Q $y) (Q $y)))))) (loonit_assert_source_tf  $Src_10 (,  (findall  $FA_19 (or  (,  (u_assign  (P  B) $_2742) (=  $_2742 $FA_19)) (,  (u_assign  (Q  C) $_2766) (=  $_2766 $FA_19))) $FARL_19) (findall  $FA_20 (,  (,  (,  (,  (=  $_2912 $rel) (,  (=  $_2924 A) (=  $_2936 $x))) (u_assign  ($_2912 $_2924 $_2936) $_2958)) (,  (,  (=  $_2974 $rel) (=  $_2986 $x)) (u_assign  ($_2974 $_2986) $CASE_EVAL_6))) (or  (->  (,  (u_assign  (Rel-P  $y) $_2806) (unify_enough  $CASE_EVAL_6 $_2806)) (u_assign  (P  $y) $FA_20)) (or  (->  (,  (u_assign  (Rel-Q  $y) $_2852) (unify_enough  $CASE_EVAL_6 $_2852)) (u_assign  (Q  $y) $FA_20)) (,  False (=  $FA_20 ()))))) $FARL_20)) (equal_enough  $FARL_19 $FARL_20) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.11">;; COMPILER.00A-LANG-COMPILED-CASE.11</h3>
; 
; EVAL TEST
; took 0.000163 secs. (163.27 microseconds) 
<span class="ansi31">(loonit_failureR 
  (equal_enough  
    ( (P B) 
      (Q C)) ()))
</span>Deterministic: <span class="ansi33">False

</span>; Execution took 0.000485 secs. (484.84 microseconds) 
<span class="ansi32">$FARL_20 = ()
$CASE_EVAL_6 = $_2798
$FA_20 = $_2694
$FARL_19 = (
  (P B) 
  (Q C))
$FA_19 = $_2608
$y = $_2526
$x = $_2466
$rel = $_2442
$Src_10 = (assertEqual 
  (superpose 
    ( (P B) 
      (Q C))) 
  (case 
    (match &self 
      ($_2442 A $_2466) 
      ($_2442 $_2466)) 
    ( ( (Rel-P $_2526) 
        (P $_2526)) 
      ( (Rel-Q $_2526) 
        (Q $_2526)))))


</span>;; %void% can be used to capture empty results
;                                  ( (convert  $_25244)
;                                    (head_preconds_into_body
;                                      (:-  !$_23910
;                                        (,
;                                          (=  $Src_11
;                                            (assertEqual
;                                              (case
;                                                (match &self
;                                                  ($rel B $x)
;                                                  ($rel $x))
;                                                ( ( (Rel-P $y)
;                                                    (P $y))
;                                                  ( (Rel-Q $y)
;                                                    (Q $y))
;                                                  (%void% no-match))) no-match))
;                                          (loonit_assert_source_tf  $Src_11
;                                            (,
;                                              (findall  $FA_21
;                                                (,
;                                                  (,
;                                                    (,
;                                                      (,
;                                                        (=  $_30616 $rel)
;                                                        (,
;                                                          (=  $_30678 B)
;                                                          (=  $_30696 $x)))
;                                                      (u_assign
;                                                        ($_30616 $_30678 $_30696) $_30814))
;                                                    (,
;                                                      (,
;                                                        (=  $_30848 $rel)
;                                                        (=  $_30910 $x))
;                                                      (u_assign
;                                                        ($_30848 $_30910) $CASE_EVAL_7)))
;                                                  (or
;                                                    (->
;                                                      (,
;                                                        (u_assign
;                                                          (Rel-P  $y) $_26038)
;                                                        (unify_enough  $CASE_EVAL_7 $_26038))
;                                                      (u_assign
;                                                        (P  $y) $FA_21))
;                                                    (or
;                                                      (->
;                                                        (,
;                                                          (u_assign
;                                                            (Rel-Q  $y) $_27870)
;                                                          (unify_enough  $CASE_EVAL_7 $_27870))
;                                                        (u_assign
;                                                          (Q  $y) $FA_21))
;                                                      (or
;                                                        (->  True
;                                                          (=  $FA_21 no-match))
;                                                        (,  False
;                                                          (=  $FA_21 ())))))) $FARL_21)
;                                              (findall  $FA_22
;                                                (=  $FA_22 no-match) $FARL_22))
;                                            (equal_enough  $FARL_21 $FARL_22) $_23910)))))
exec(A) :-
    Src_11=[assertEqual, [case, [match, '&self', ['$VAR'(rel), 'B', '$VAR'(x)], ['$VAR'(rel), '$VAR'(x)]], [[['Rel-P', '$VAR'(y)], ['P', '$VAR'(y)]], [['Rel-Q', '$VAR'(y)], ['Q', '$VAR'(y)]], ['%void%', 'no-match']]], 'no-match'],
    loonit_assert_source_tf(Src_11,
                            (findall(FA_21, ((((B='$VAR'(rel), C='B', D='$VAR'(x)), u_assign([B, C, D], _)), (E='$VAR'(rel), F='$VAR'(x)), u_assign([E, F], CASE_EVAL_7)), (u_assign('Rel-P'('$VAR'(y)), G), unify_enough(CASE_EVAL_7, G)->u_assign('P'('$VAR'(y)), FA_21);u_assign('Rel-Q'('$VAR'(y)), H), unify_enough(CASE_EVAL_7, H)->u_assign('Q'('$VAR'(y)), FA_21);true->FA_21='no-match';fail, FA_21=[])), FARL_21), findall(FA_22, FA_22='no-match', FARL_22)),
                            equal_enough(FARL_21, FARL_22),
                            A).
<span class="ansi38-017068017">exec(Exec) :- 
  Src_11 =  
    [ assertEqual, 
      [ case, 
        [ match, 
          '&self', 
          ['$VAR'(rel),'B','$VAR'(x)], 
          ['$VAR'(rel),'$VAR'(x)]], 
        [ [ [  'Rel-P' ,'$VAR'(y)],
            [    'P'   ,'$VAR'(y)]], 
          [ [  'Rel-Q' ,'$VAR'(y)],
            [    'Q'   ,'$VAR'(y)]], 
          ['%void%','no-match']]], 
      'no-match'] , 
  loonit_assert_source_tf( Src_11, 
      ((
       (findall( FA_21, 
          ( VAR_Rel='$VAR'(rel)  ,
            B='B' , 
            VAR_X='$VAR'(x) , 
            u_assign([VAR_Rel,B,VAR_X],Assign) , 
            VAR_Rel3='$VAR'(rel) , 
            VAR_X4='$VAR'(x) , 
            u_assign([VAR_Rel3,VAR_X4],CASE_EVAL_7) , 
            (   ((
                 (u_assign('Rel-P'('$VAR'(y)),CASE_EVAL_7_Rel_P)),
                 (unify_enough(CASE_EVAL_7,CASE_EVAL_7_Rel_P))  )) ->  
                u_assign('P'('$VAR'(y)),FA_21)  ;
                ((
                 (u_assign('Rel-Q'('$VAR'(y)),CASE_EVAL_7_Rel_Q)),
                 (unify_enough(CASE_EVAL_7,CASE_EVAL_7_Rel_Q))  )) ->  
                u_assign('Q'('$VAR'(y)),FA_21) ; 
              true->FA_21='no-match' ; 
              fail,FA_21=[])), 
          FARL_21)),
       (findall(FA_22,FA_22='no-match',FARL_22))  )), equal_enough(FARL_21,FARL_22),_2596)
</span>
<span class="ansi38-013099040">!(assertEqual 
  (case 
    (match &self 
      ($rel B $x) 
      ($rel $x)) 
    ( ( (Rel-P $y) 
        (P $y)) 
      ( (Rel-Q $y) 
        (Q $y)) 
      (%void% no-match))) no-match)

</span><span class="ansi38-250144246">; !(, (=  $Src_11 (assertEqual (case (match &self ($rel B $x) ($rel $x)) (((Rel-P $y) (P $y)) ((Rel-Q $y) (Q $y)) (%void% no-match))) no-match)) (loonit_assert_source_tf  $Src_11 (,  (findall  $FA_21 (,  (,  (,  (,  (=  $_2998 $rel) (,  (=  $_3010 B) (=  $_3022 $x))) (u_assign  ($_2998 $_3010 $_3022) $_3044)) (,  (,  (=  $_3060 $rel) (=  $_3072 $x)) (u_assign  ($_3060 $_3072) $CASE_EVAL_7))) (or  (->  (,  (u_assign  (Rel-P  $y) $_2874) (unify_enough  $CASE_EVAL_7 $_2874)) (u_assign  (P  $y) $FA_21)) (or  (->  (,  (u_assign  (Rel-Q  $y) $_2920) (unify_enough  $CASE_EVAL_7 $_2920)) (u_assign  (Q  $y) $FA_21)) (or  (->  True (=  $FA_21 no-match)) (,  False (=  $FA_21 ())))))) $FARL_21) (findall  $FA_22 (=  $FA_22 no-match) $FARL_22)) (equal_enough  $FARL_21 $FARL_22) $OUT))
</span>;<h3 id="COMPILER.00A-LANG-COMPILED-CASE.12">;; COMPILER.00A-LANG-COMPILED-CASE.12</h3>
; 
; EVAL TEST
; took 0.000011 secs. (10.68 microseconds) 
<span class="ansi31">(loonit_failureR 
  (equal_enough  () 
    (no-match)))
</span>Deterministic: <span class="ansi33">False

</span>; Execution took 0.000307 secs. (307.13 microseconds) 
<span class="ansi32">$FARL_22 = (no-match)
$FA_22 = $_5660
$FARL_21 = ()
$CASE_EVAL_7 = $_4668
$FA_21 = $_4038
$y = $_3754
$x = $_3656
$rel = $_3626
$Src_11 = (assertEqual 
  (case 
    (match &self 
      ($_3626 B $_3656) 
      ($_3626 $_3656)) 
    ( ( (Rel-P $_3754) 
        (P $_3754)) 
      ( (Rel-Q $_3754) 
        (Q $_3754)) 
      (%void% no-match))) no-match)


</span><span class="ansi32">% 4,885,711 inferences, 0.345 CPU in 0.345 seconds (100% CPU, 14170023 Lips)
</span>;                (= /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/host_language/compiler/00a_lang_compiled_case.metta 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
;       (is_cmd_option halt --halt=true True)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 9
</span><span class="ansi31">Failures: 3
</span><span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 9
</span><span class="ansi31">Failures: 3
</span>
Script done on 2024-01-09 15:31:31-08:00 [COMMAND_EXIT_CODE="7"]

</pre>
</body>

</html>
