<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/reverse-arithmetic.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/reverse-arithmetic.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/reverse-arithmetic.metta')
:- dynamic file_answers/3.


;;; probes whether functions can be executed in reverse. This involves inferring the
;;; input values from given output values through inverse operations or pattern matching,
;;; a feature that can enhance the flexibility and capability of our system.
<span class="ansi38-000068000">!(pragma! compile full)

</span>; Evaluation took 0.080 ms. (79.70 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(pragma! table False)

</span>%~ [ convert(Convert),
%~   head_preconds_into_body((exec(_293970):-u_assign('pragma!'(table,'False'),_293970)))]
exec(A) :-
    u_assign('pragma!'(table, 'False'), A).

subst_vars(u_assign('pragma!'(table,'False'),L38),[],[L38])
; Evaluation took 0.118 ms. (117.70 microseconds) 
<span class="ansi33"> Empty

</span>%~ [ convert(Convert),
%~   head_preconds_into_body((f(X,_352910):-u_assign(2*X,_352910)))]
%~ [convert(_354330),head_preconds_into_body((f(X,_352910):-u_assign(2*X,_352910)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[f,X],[*,2,X])
</span><span class="ansi38-255165000">  (= 
    (f $X) 
    (* 2 $X))
</span><span class="ansi38-000082136">  :- dynamic f/2.

  f(X, A) :-
    u_assign(2*X, A).

</span>

<span class="ansi38-000068000">!(print 
  (match &self 
    (= 
      (f 1) $Y) $Y))

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( exec(Assign_Exec_Print) :-
%~                              u_assign([f,1],Assign) ,
%~                              u_assign([match,'&self'|$],Print_Assign3) ,
%~                              u_assign(print(Print_Assign3),Assign_Exec_Print))]
exec(A) :-
    u_assign([f, 1], B),
    u_assign([match, '&self', B=Y, Y], C),
    u_assign(print(C), A).

subst_vars((u_assign([f,1],L38),u_assign([ match, '&self',L38=M38,M38],N38),u_assign(print(N38),O38)),['Y'=M38],[L38,M38,N38,O38])
2
; Evaluation took 0.241 ms. (241.40 microseconds) 
<span class="ansi33"> 2
</span><span class="ansi32">['Y'=2]
</span>

<span class="ansi38-000068000">!(assertEqual 
  (match &self 
    (= 
      (f 1) $Y) $Y) 
  (superpose 
    (2)))

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( exec(Exec_Equal_enough) :-
%~                              Src_1 =
%~                                [ assertEqual,
%~                                  [ match,
%~                                    '&self',
%~                                    [ =,
%~                                      [f,1],
%~                                      Y],
%~                                    Y],
%~                                  [ superpose,
%~                                    [2]]] ,
%~                              loonit_assert_source_tf( Src_1,
%~                                  ((
%~                                   (findall(FA_1,(u_assign(f(1),Y),u_assign(FA_1,Y)),FARL_1)),
%~                                   (findall(FA_2,FA_2=2,FARL_2))  )),
%~                                equal_enough(FARL_1,FARL_2),
%~                                Exec_Equal_enough))]
exec(A) :-
    Src_1=[assertEqual, [match, '&self', [=, [f, 1], Y], Y], [superpose, [2]]],
    loonit_assert_source_tf(Src_1,
                            (findall(FA_1, (u_assign(f(1), Y), u_assign(FA_1, Y)), FARL_1), findall(FA_2, FA_2=2, FARL_2)),
                            equal_enough(FARL_1, FARL_2),
                            A).

subst_vars((L38=[ assertEqual, 
                  [ match, 
                    '&self', 
                    [ =, 
                      [f,1], 
                      M38], 
                    M38], 
                  [ superpose, 
                    [2]]],loonit_assert_source_tf(L38,(findall(N38,(u_assign(f(1),M38),u_assign(N38,M38)),O38),findall(P38,P38=2,Q38)),equal_enough(O38,Q38),R38)),[ 'FARL_2'=Q38, 
                                                                                                                                                                     'FA_2'=P38, 
                                                                                                                                                                     'FARL_1'=O38, 'FA_1'=N38,'Y'=M38, 
                                                                                                                                                                     'Src_1'=L38],[ L38, M38,N38,O38, 
                                                                                                                                                                                    P38,Q38,R38])
<h3 id="FEATURES.REVERSE-ARITHMETIC.01">;; FEATURES.REVERSE-ARITHMETIC.01</h3>
; 
; EVAL TEST
; took 0.057 ms. (57.30 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough  
    (2) 
    (2)))
</span>; Trace took 0.039 ms. (39.50 microseconds) 
; Evaluation took 1.17 ms.
<span class="ansi33"> True
</span><span class="ansi32">['FARL_2'=[2],'FA_2'=_85084,'FARL_1'=[2],'FA_1'=_83442,'Y'=_82440,'Src_1'=[assertEqual,[match,'&self',[=,[f,1],_82440],_82440],[superpose,[2]]]]
</span>

; Expected Output: [2]
<span class="ansi38-000068000">!(print 
  (match &self 
    (= 
      (f $X) 2) $X))

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( exec(Assign_Exec_Print) :-
%~                              u_assign([f,X],Assign) ,
%~                              u_assign([match,'&self'|$],Print_Assign3) ,
%~                              u_assign(print(Print_Assign3),Assign_Exec_Print))]
exec(A) :-
    u_assign([f, X], B),
    u_assign([match, '&self', B=2, X], C),
    u_assign(print(C), A).

subst_vars((u_assign([f,L38],M38),u_assign([ match, '&self',M38=2,L38],N38),u_assign(print(N38),O38)),['X'=L38],[L38,M38,N38,O38])
1
; Evaluation took 0.393 ms. (392.90 microseconds) 
<span class="ansi33"> 1
</span><span class="ansi32">['X'=1]
</span>

<span class="ansi38-000068000">!(assertEqual 
  (match &self 
    (= 
      (f $X) 2) $X) 
  (superpose 
    (1)))

</span>%~ [ convert(Convert),
%~   head_preconds_into_body( exec(Exec_Equal_enough) :-
%~                              Src_2 =
%~                                [ assertEqual,
%~                                  [ match,
%~                                    '&self',
%~                                    [ =,
%~                                      [f,X],
%~                                      2],
%~                                    X],
%~                                  [ superpose,
%~                                    [1]]] ,
%~                              loonit_assert_source_tf( Src_2,
%~                                  ((
%~                                   (findall(FA_3,(u_assign(f(X),2),u_assign(FA_3,X)),FARL_3)),
%~                                   (findall(FA_4,FA_4=1,FARL_4))  )),
%~                                equal_enough(FARL_3,FARL_4),
%~                                Exec_Equal_enough))]
exec(A) :-
    Src_2=[assertEqual, [match, '&self', [=, [f, X], 2], X], [superpose, [1]]],
    loonit_assert_source_tf(Src_2,
                            (findall(FA_3, (u_assign(f(X), 2), u_assign(FA_3, X)), FARL_3), findall(FA_4, FA_4=1, FARL_4)),
                            equal_enough(FARL_3, FARL_4),
                            A).

subst_vars((L38=[ assertEqual, 
                  [ match, 
                    '&self', 
                    [ =, 
                      [f,M38], 
                      2], 
                    M38], 
                  [ superpose, 
                    [1]]],loonit_assert_source_tf(L38,(findall(N38,(u_assign(f(M38),2),u_assign(N38,M38)),O38),findall(P38,P38=1,Q38)),equal_enough(O38,Q38),R38)),[ 'FARL_4'=Q38, 
                                                                                                                                                                     'FA_4'=P38, 
                                                                                                                                                                     'FARL_3'=O38, 'FA_3'=N38,'X'=M38, 
                                                                                                                                                                     'Src_2'=L38],[ L38, M38,N38,O38, 
                                                                                                                                                                                    P38,Q38,R38])
<h3 id="FEATURES.REVERSE-ARITHMETIC.02">;; FEATURES.REVERSE-ARITHMETIC.02</h3>
; 
; EVAL TEST
; took 0.212 ms. (212.50 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough  
    (1) 
    (1)))
</span>; Trace took 0.122 ms. (122.50 microseconds) 
; Evaluation took 1.62 ms.
<span class="ansi33"> True
</span><span class="ansi32">['FARL_4'=[1],'FA_4'=_336912,'FARL_3'=[1],'FA_3'=_335270,'X'=_334260,'Src_2'=[assertEqual,[match,'&self',[=,[f,_334260],2],_334260],[superpose,[1]]]]
</span>

<span class="ansi32">% 1,446,066 inferences, 0.329 CPU in 0.329 seconds (100% CPU, 4389554 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/reverse-arithmetic.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 2
</span><span class="ansi32">Failures: 0
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/features/reverse-arithmetic.html" )

</pre>
</body>

</html>
