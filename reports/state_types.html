<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta')
1=[("Bind A-first with A")]
2=[]
3=[("(get-type A-first)=" Symbol)]
4=[("Change A-first into B")]
5=[(State B)]
6=[("(get-type A-first)=" Symbol)]
7=[("Bind B-first with B")]
8=[]
9=[("(get-type B-first)=" Symbol)]
10=[("Change B-first into A")]
11=[(State A)]
12=[("(get-type B-first)=" Symbol)]
13=[("Bind False-first with False")]
14=[]
15=[("(get-type False-first)=" Bool)]
16=[("Change False-first into Sometimes")]
17=[(State Sometimes)]
18=[("(get-type False-first)=" Symbol)]
19=[]
20=[]
21=[]
22=[]
23=[]
24=[]
25=[("(get-type (isLeft (Right 5)))=" Bool)]
26=[("(get-type (get-state (new-state  (isLeft (Right 5)))))=" Bool)]
27=[("(get-type (get-state (new-state (Left  6))))=" Either)]
28=[("(get-type (get-state (new-state (Right 7))))=" Either)]
29=[("(get-type &is_left)=" False Bool)]
30=[("(get-type &right_7)=" (Right 7) Either)]
31=[("bind &right_7-first with &right_7")]
32=[]
33=[(Error False BadType)]
34=0.16user 0.01system 0:00.17elapsed 100%CPU (0avgtext+0avgdata 28688maxresident)k
34=8inputs+0outputs (1major+3292minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 1, [["Bind A-first with A"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 2, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 3, [["(get-type A-first)=", 'Symbol']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 4, [["Change A-first into B"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 5, [['State', 'B']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 6, [["(get-type A-first)=", 'Symbol']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 7, [["Bind B-first with B"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 8, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 9, [["(get-type B-first)=", 'Symbol']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 10, [["Change B-first into A"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 11, [['State', 'A']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 12, [["(get-type B-first)=", 'Symbol']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 13, [["Bind False-first with False"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 14, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 15, [["(get-type False-first)=", 'Bool']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 16, [["Change False-first into Sometimes"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 17, [['State', 'Sometimes']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 18, [["(get-type False-first)=", 'Symbol']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 19, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 20, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 21, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 22, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 23, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 24, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 25, [["(get-type (isLeft (Right 5)))=", 'Bool']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 26, [["(get-type (get-state (new-state  (isLeft (Right 5)))))=", 'Bool']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 27, [["(get-type (get-state (new-state (Left  6))))=", 'Either']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 28, [["(get-type (get-state (new-state (Right 7))))=", 'Either']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 29, [["(get-type &is_left)=", 'False', 'Bool']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 30, [["(get-type &right_7)=", ['Right', 7], 'Either']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 31, [["bind &right_7-first with &right_7"]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 32, []).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta', 33, [['Error', 'False', 'BadType']]).

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'ABType','Type'])
</span><span class="ansi38-255165000">  (: ABType Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'AType','Type'])
</span><span class="ansi38-255165000">  (: AType Type)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'A','ABType'])
</span><span class="ansi38-255165000">  (: A ABType)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'A','AType'])
</span><span class="ansi38-255165000">  (: A AType)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'B','ABType'])
</span><span class="ansi38-255165000">  (: B ABType)
</span>

<span class="ansi38-000068000">!("Bind A-first with A")

</span>; Evaluation took 0.033 ms. (33.30 microseconds) 
<span class="ansi33">  ("Bind A-first with A")

</span><span class="ansi38-000068000">!(bind! &a-first 
  (new-state A))

</span>; Evaluation took 0.145 ms. (144.70 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!("(get-type A-first)=" 
  (get-type 
    (get-state &a-first)))

</span>; Evaluation took 0.563 ms. (562.60 microseconds) 
<span class="ansi33">  ("(get-type A-first)=" ABType)

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type A-first)=" 
      (get-type 
        (get-state &a-first))) 
    ( ("(get-type A-first)=" Symbol)))
(@ ! 
  (assertEqual 
    ( ("(get-type A-first)=" ABType)) 
    ( ("(get-type A-first)=" Symbol))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.103",exec,["(get-type A-first)=",['get-type',['get-state','&a-first']]],'FAIL',[["(get-type A-first)=",'Symbol']],[["(get-type A-first)=",'ABType']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("Change A-first into B")

</span>; Evaluation took 0.022 ms. (22.40 microseconds) 
<span class="ansi33">  ("Change A-first into B")

</span><span class="ansi38-000068000">!(change-state! &a-first B)

</span>; Evaluation took 0.168 ms. (168.20 microseconds) 
<span class="ansi33"> (@ State B $_44074)
 % 'State'('B',_44074)

</span><span class="ansi38-000068000">!("(get-type A-first)=" 
  (get-type 
    (get-state &a-first)))

</span>; Evaluation took 0.236 ms. (235.60 microseconds) 
<span class="ansi33">  ("(get-type A-first)=" ABType)

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type A-first)=" 
      (get-type 
        (get-state &a-first))) 
    ( ("(get-type A-first)=" Symbol)))
(@ ! 
  (assertEqual 
    ( ("(get-type A-first)=" ABType)) 
    ( ("(get-type A-first)=" Symbol))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.106",exec,["(get-type A-first)=",['get-type',['get-state','&a-first']]],'FAIL',[["(get-type A-first)=",'Symbol']],[["(get-type A-first)=",'ABType']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("Bind B-first with B")

</span>; Evaluation took 0.022 ms. (22.40 microseconds) 
<span class="ansi33">  ("Bind B-first with B")

</span><span class="ansi38-000068000">!(bind! &b-first 
  (new-state B))

</span>; Evaluation took 0.094 ms. (94.00 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!("(get-type B-first)=" 
  (get-type 
    (get-state &b-first)))

</span>; Evaluation took 0.365 ms. (365.40 microseconds) 
<span class="ansi33">  ("(get-type B-first)=" ABType)

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type B-first)=" 
      (get-type 
        (get-state &b-first))) 
    ( ("(get-type B-first)=" Symbol)))
(@ ! 
  (assertEqual 
    ( ("(get-type B-first)=" ABType)) 
    ( ("(get-type B-first)=" Symbol))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.109",exec,["(get-type B-first)=",['get-type',['get-state','&b-first']]],'FAIL',[["(get-type B-first)=",'Symbol']],[["(get-type B-first)=",'ABType']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("Change B-first into A")

</span>; Evaluation took 0.023 ms. (22.80 microseconds) 
<span class="ansi33">  ("Change B-first into A")

</span><span class="ansi38-000068000">!(change-state! &b-first A)

</span>; Evaluation took 0.069 ms. (68.70 microseconds) 
<span class="ansi33"> (@ State A $_284466)
 % 'State'('A',_284466)

</span><span class="ansi38-000068000">!("(get-type B-first)=" 
  (get-type 
    (get-state &b-first)))

</span>; Evaluation took 0.257 ms. (257.20 microseconds) 
<span class="ansi33">  ("(get-type B-first)=" ABType)

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type B-first)=" 
      (get-type 
        (get-state &b-first))) 
    ( ("(get-type B-first)=" Symbol)))
(@ ! 
  (assertEqual 
    ( ("(get-type B-first)=" ABType)) 
    ( ("(get-type B-first)=" Symbol))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.112",exec,["(get-type B-first)=",['get-type',['get-state','&b-first']]],'FAIL',[["(get-type B-first)=",'Symbol']],[["(get-type B-first)=",'ABType']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("Bind False-first with False")

</span>; Evaluation took 0.022 ms. (21.70 microseconds) 
<span class="ansi33">  ("Bind False-first with False")

</span><span class="ansi38-000068000">!(bind! &false-first 
  (new-state False))

</span>; Evaluation took 0.094 ms. (94.40 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!("(get-type False-first)=" 
  (get-type 
    (get-state &false-first)))

</span>; Evaluation took 0.271 ms. (271.30 microseconds) 
<span class="ansi33">  ("(get-type False-first)=" Bool)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type False-first)=" 
      (get-type 
        (get-state &false-first))) 
    ( ("(get-type False-first)=" Bool)))
(@ ! 
  (assertEqual 
    ( ("(get-type False-first)=" Bool)) 
    ( ("(get-type False-first)=" Bool))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.115",exec,["(get-type False-first)=",['get-type',['get-state','&false-first']]],'PASS',[["(get-type False-first)=",'Bool']],[["(get-type False-first)=",'Bool']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("Change False-first into Sometimes")

</span>; Evaluation took 0.021 ms. (21.30 microseconds) 
<span class="ansi33">  ("Change False-first into Sometimes")

</span><span class="ansi38-000068000">!(change-state! &false-first Sometimes)

</span>; Evaluation took 0.071 ms. (71.50 microseconds) 
<span class="ansi33"> (@ State Sometimes $_1174)
 % 'State'('Sometimes',_1174)

</span><span class="ansi38-000068000">!("(get-type False-first)=" 
  (get-type 
    (get-state &false-first)))

</span>; Evaluation took 0.271 ms. (271.00 microseconds) 
<span class="ansi33">  ("(get-type False-first)=" Symbol)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type False-first)=" 
      (get-type 
        (get-state &false-first))) 
    ( ("(get-type False-first)=" Symbol)))
(@ ! 
  (assertEqual 
    ( ("(get-type False-first)=" Symbol)) 
    ( ("(get-type False-first)=" Symbol))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.118",exec,["(get-type False-first)=",['get-type',['get-state','&false-first']]],'PASS',[["(get-type False-first)=",'Symbol']],[["(get-type False-first)=",'Symbol']])

</span>

--------------------------------------------------------------------------
; Also works for custom types
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Either','Type'])
</span><span class="ansi38-255165000">  (: Either Type)
</span>

<span class="ansi38-000068000">!(assertEqual 
  (get-type Either) Type)

</span><h3 id="EXAMPLES.STATE-TYPES.01">;; EXAMPLES.STATE-TYPES.01</h3>
; 
; EVAL TEST
; took 0.080 ms. (80.00 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    (Type) 
    (Type)))
</span>        -->(0,'&self',['get-type','Either'],depth(2))
        <--(0,retval('Type'))
; Trace took 0.167 ms. (166.70 microseconds) 
; Evaluation took 1.42 ms.
<span class="ansi33"> Empty

</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Arrow types of functions and constructors
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Left',[->,'%Undefined%','Either']])
</span><span class="ansi38-255165000">  (: Left 
    (-> %Undefined% Either))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'Right',[->,'%Undefined%','Either']])
</span><span class="ansi38-255165000">  (: Right 
    (-> %Undefined% Either))
</span>

<span class="ansi38-000068000">!(assertEqual 
  (get-type 
    (Left 5)) Either)

</span><h3 id="EXAMPLES.STATE-TYPES.02">;; EXAMPLES.STATE-TYPES.02</h3>
; 
; EVAL TEST
; took 0.142 ms. (142.50 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    (Either) 
    (Either)))
</span>        -->(0,'&self',['get-type',['Left',5]],depth(2))
            -->(1,'&self',['Left',5],depth(4))
        <--(0,retval('Either'))
; Trace took 0.354 ms. (353.90 microseconds) 
; Evaluation took 1.73 ms.
<span class="ansi33"> Empty

</span><span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,isLeft,[->,'Either','Bool']])
</span><span class="ansi38-255165000">  (: isLeft 
    (-> Either Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[isLeft,['Left',X]],'True')
</span><span class="ansi38-255165000">  (= 
    (isLeft 
      (Left $X)) True)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[isLeft,['Right',X]],'False')
</span><span class="ansi38-255165000">  (= 
    (isLeft 
      (Right $X)) False)
</span>

<span class="ansi38-000068000">!(assertEqual 
  (get-type 
    (isLeft 
      (Right 5))) Bool)

</span><h3 id="EXAMPLES.STATE-TYPES.03">;; EXAMPLES.STATE-TYPES.03</h3>
; 
; EVAL TEST
; took 0.300 ms. (300.00 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    (Bool) 
    (Bool)))
</span>        -->(0,'&self',['get-type',[isLeft,['Right',5]]],depth(2))
            -->(1,'&self',[isLeft,['Right',5]],depth(4))
                -->(2,'&self',['Right',5],depth(6))
            <--(1,retval('False'))
        <--(0,retval('Bool'))
; Trace took 0.497 ms. (496.80 microseconds) 
; Evaluation took 1.88 ms.
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(assertEqual 
  (get-type 
    (isLeft 
      (Right 5))) 
  (get-type 
    (get-state 
      (new-state 
        (isLeft 
          (Right 5))))))

</span><h3 id="EXAMPLES.STATE-TYPES.04">;; EXAMPLES.STATE-TYPES.04</h3>
; 
; EVAL TEST
; took 0.610 ms. (610.00 microseconds) 
<span class="ansi36">(@ loonit_success 
  (equal_enough_for_test  
    (Bool) 
    (Bool)))
</span>        -->(0,'&self',['get-type',[isLeft,['Right',5]]],depth(2))
            -->(1,'&self',[isLeft,['Right',5]],depth(4))
                -->(2,'&self',['Right',5],depth(6))
            <--(1,retval('False'))
        <--(0,retval('Bool'))
        -->(3,'&self',['get-type',['get-state',['new-state',[isLeft,['Right',5]]]]],depth(2))
            -->(4,'&self',['get-state',['new-state',[isLeft,['Right',5]]]],depth(4))
                -->(5,'&self',['new-state',[isLeft,['Right',5]]],depth(6))
                    -->(6,'&self',[isLeft,['Right',5]],depth(8))
                        -->(7,'&self',['Right',5],depth(10))
                    <--(6,retval('False'))
                <--(5,retval('State'('False',_373722)))
            <--(4,retval('False'))
        <--(3,retval('Bool'))
; Trace took 1.54 ms.
; Evaluation took 3.43 ms.
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(bind! &is_left 
  (isLeft 
    (Right 5)))

</span>; Evaluation took 0.141 ms. (140.80 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!(bind! &right_7 
  (Right 7))

</span>; Evaluation took 0.107 ms. (107.00 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!("(get-type (isLeft (Right 5)))=" 
  (get-type 
    (isLeft 
      (Right 5))))

</span>; Evaluation took 0.450 ms. (449.70 microseconds) 
<span class="ansi33">  ("(get-type (isLeft (Right 5)))=" Bool)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type (isLeft (Right 5)))=" 
      (get-type 
        (isLeft 
          (Right 5)))) 
    ( ("(get-type (isLeft (Right 5)))=" Bool)))
(@ ! 
  (assertEqual 
    ( ("(get-type (isLeft (Right 5)))=" Bool)) 
    ( ("(get-type (isLeft (Right 5)))=" Bool))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.125",exec,["(get-type (isLeft (Right 5)))=",['get-type',[isLeft,['Right',5]]]],'PASS',[["(get-type (isLeft (Right 5)))=",'Bool']],[["(get-type (isLeft (Right 5)))=",'Bool']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("(get-type (get-state (new-state  (isLeft (Right 5)))))=" 
  (get-type 
    (get-state 
      (new-state 
        (isLeft 
          (Right 5))))))

</span>; Evaluation took 0.485 ms. (485.00 microseconds) 
<span class="ansi33">  ("(get-type (get-state (new-state  (isLeft (Right 5)))))=" Bool)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type (get-state (new-state  (isLeft (Right 5)))))=" 
      (get-type 
        (get-state 
          (new-state 
            (isLeft 
              (Right 5)))))) 
    ( ("(get-type (get-state (new-state  (isLeft (Right 5)))))=" Bool)))
(@ ! 
  (assertEqual 
    ( ("(get-type (get-state (new-state  (isLeft (Right 5)))))=" Bool)) 
    ( ("(get-type (get-state (new-state  (isLeft (Right 5)))))=" Bool))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.126",exec,["(get-type (get-state (new-state  (isLeft (Right 5)))))=",['get-type',['get-state',['new-state',[isLeft,['Right',5]]]]]],'PASS',[["(get-type (get-state (new-state  (isLeft (Right 5)))))=",'Bool']],[["(get-type (get-state (new-state  (isLeft (Right 5)))))=",'Bool']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("(get-type (get-state (new-state (Left  6))))=" 
  (get-type 
    (get-state 
      (new-state 
        (Left 6)))))

</span>; Evaluation took 1.21 ms.
<span class="ansi33">  ("(get-type (get-state (new-state (Left  6))))=" 
    (Symbol 
      (StateMonad Either)))

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type (get-state (new-state (Left  6))))=" 
      (get-type 
        (get-state 
          (new-state 
            (Left 6))))) 
    ( ("(get-type (get-state (new-state (Left  6))))=" Either)))
(@ ! 
  (assertEqual 
    ( ("(get-type (get-state (new-state (Left  6))))=" 
        (Symbol 
          (StateMonad Either)))) 
    ( ("(get-type (get-state (new-state (Left  6))))=" Either))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.127",exec,["(get-type (get-state (new-state (Left  6))))=",['get-type',['get-state',['new-state',['Left',6]]]]],'FAIL',[["(get-type (get-state (new-state (Left  6))))=",'Either']],[["(get-type (get-state (new-state (Left  6))))=",['Symbol',['StateMonad','Either']]]])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("(get-type (get-state (new-state (Right 7))))=" 
  (get-type 
    (get-state 
      (new-state 
        (Right 7)))))

</span>; Evaluation took 1.13 ms.
<span class="ansi33">  ("(get-type (get-state (new-state (Right 7))))=" 
    (Symbol 
      (StateMonad Either)))

</span><span class="ansi31">
! (assertEqualToResult 
    ("(get-type (get-state (new-state (Right 7))))=" 
      (get-type 
        (get-state 
          (new-state 
            (Right 7))))) 
    ( ("(get-type (get-state (new-state (Right 7))))=" Either)))
(@ ! 
  (assertEqual 
    ( ("(get-type (get-state (new-state (Right 7))))=" 
        (Symbol 
          (StateMonad Either)))) 
    ( ("(get-type (get-state (new-state (Right 7))))=" Either))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.128",exec,["(get-type (get-state (new-state (Right 7))))=",['get-type',['get-state',['new-state',['Right',7]]]]],'FAIL',[["(get-type (get-state (new-state (Right 7))))=",'Either']],[["(get-type (get-state (new-state (Right 7))))=",['Symbol',['StateMonad','Either']]]])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("(get-type &is_left)=" &is_left 
  (get-type &is_left))

</span>; Evaluation took 0.360 ms. (360.40 microseconds) 
<span class="ansi33">  ("(get-type &is_left)=" False Bool)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type &is_left)=" &is_left 
      (get-type &is_left)) 
    ( ("(get-type &is_left)=" False Bool)))
(@ ! 
  (assertEqual 
    ( ("(get-type &is_left)=" False Bool)) 
    ( ("(get-type &is_left)=" False Bool))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.129",exec,["(get-type &is_left)=",'&is_left',['get-type','&is_left']],'PASS',[["(get-type &is_left)=",'False','Bool']],[["(get-type &is_left)=",'False','Bool']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("(get-type &right_7)=" &right_7 
  (get-type &right_7))

</span>; Evaluation took 0.638 ms. (638.30 microseconds) 
<span class="ansi33">  ("(get-type &right_7)=" 
    (Right 7) Either)

</span><span class="ansi36">
! (assertEqualToResult 
    ("(get-type &right_7)=" &right_7 
      (get-type &right_7)) 
    ( ("(get-type &right_7)=" 
        (Right 7) Either)))
(@ ! 
  (assertEqual 
    ( ("(get-type &right_7)=" 
        (Right 7) Either)) 
    ( ("(get-type &right_7)=" 
        (Right 7) Either))))
write_pass_fail_result("EXAMPLES.STATE-TYPES.130",exec,["(get-type &right_7)=",'&right_7',['get-type','&right_7']],'PASS',[["(get-type &right_7)=",['Right',7],'Either']],[["(get-type &right_7)=",['Right',7],'Either']])

</span>

--------------------------------------------------------------------------
<span class="ansi38-000068000">!("bind &right_7-first with &right_7")

</span>; Evaluation took 0.020 ms. (20.10 microseconds) 
<span class="ansi33">  ("bind &right_7-first with &right_7")

</span><span class="ansi38-000068000">!(bind! &right_7-first 
  (new-state &right_7))

</span>; Evaluation took 0.126 ms. (126.40 microseconds) 
<span class="ansi33"> Empty

</span><span class="ansi38-000068000">!("change &right_7-first into &is_left" 
  (change-state! &right_7-first &is_left))

</span>; Evaluation took 0.161 ms. (160.90 microseconds) 
<span class="ansi33">  ("change &right_7-first into &is_left" 
    (State  False $_118706))

</span><span class="ansi38-000068000">!("(get-type (get-state &right_7-first))=(" 
  (get-state &right_7-first) ")=" 
  (get-type 
    (get-state &right_7-first)))

</span>; Evaluation took 0.335 ms. (335.00 microseconds) 
<span class="ansi33">  ("(get-type (get-state &right_7-first))=(" False ")=" Bool)

</span><span class="ansi38-000068000">!("(get-type &right_7-first)=" 
  (get-type 
    (get-state &right_7-first)))

</span>; Evaluation took 0.244 ms. (244.40 microseconds) 
<span class="ansi33">  ("(get-type &right_7-first)=" Bool)

</span><span class="ansi32">% 631,231 inferences, 0.411 CPU in 0.411 seconds (100% CPU, 1534119 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 10
</span><span class="ansi31">Failures: 6
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/state_types.html" )

</pre>
</body>

</html>
