<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-250144246 { color: #FA90F6; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
Script started on 2024-01-09 15:26:38-08:00 [TERM="xterm" TTY="/dev/pts/0" COLUMNS="152" LINES="150"]
; init_why(before_boot,after('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/metta_vspace/pyswip/metta_interp.pl')).
; init_phase(after_load).
; init_phase(restore_state).
; libswipl: [/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/Sav.godlike.MeTTaLog,--,--python=enable,--timeout=10,--html,--repl=false,examples/extended_compat/metta-examples/logic/puzzle.metta,--halt=true]
;     (compiled_loon default)
%~   (run_vspace_server 3023)
;     (compiled_loon restore)
;    (compiled_loon goal)
; init_why(after_boot,program).
;    (compiled_loon program)
;   (began_loon toplevel)
;      (is_cmd_option python --python=enable enable)
;      (is_cmd_option timeout --timeout=10 10)
;       (is_cmd_option html --html True)
;       (is_cmd_option repl --repl=false False)

; (: user 
  (load_metta_file  &self examples/extended_compat/metta-examples/logic/puzzle.metta))
;                (track_load_into_file /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/logic/puzzle.metta)
;                              (load_answer_file /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/logic/puzzle.metta.answers /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/logic/puzzle.metta)
;                              (= 1 "[None, None, None, None, None, (Cons (Cons ivan (Cons cashier (Cons no_sister Nil))) (Cons (Cons boris (Cons controller (Cons has_sister Nil))) (Cons (Cons semyon (Cons supervisor (Cons $v6#17 Nil))) Nil))), None]")
;                               (= 2 "6.05user 0.03system 0:06.08elapsed 99%CPU (0avgtext+0avgdata 57420maxresident)k")
;                               (= 2 "0inputs+0outputs (0major+9554minor)pagefaults 0swaps")
;;; The bank employs three people: Boris, Ivan, Semyon
;;; There are positions of supervisor, cashier, controller
;;; The cashier has no siblings and is the shortest in stature.
;;; Semyon is married to Boris'' sister and is higher than the controller.
;;; determine who has what position

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,quote,[->,'Atom','Atom']])
</span><span class="ansi38-255165000">(: quote 
  (-> Atom Atom))
</span>

;; convert (a b c) to (Cons a (Cons b (Cons c Nil)))
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,makelist,[->,'Atom','Atom']])
</span><span class="ansi38-255165000">(: makelist 
  (-> Atom Atom))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[makelist,'$VAR'(x)],[if,[==,[],'$VAR'(x)],'Nil',[let,'$VAR'(cdr),['cdr-atom','$VAR'(x)],['Cons',['car-atom','$VAR'(x)],[makelist,'$VAR'(cdr)]]]]])
</span><span class="ansi38-255165000">(= 
  (makelist $x) 
  (if 
    (== () $x) Nil 
    (let $cdr 
      (cdr-atom $x) 
      (Cons 
        (car-atom $x) 
        (makelist $cdr)))))
</span>

;; works like ,/2
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[:,and2,[->,'Atom','Atom','Bool']])
</span><span class="ansi38-255165000">(: and2 
  (-> Atom Atom Bool))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[and2,'$VAR'(first),'$VAR'(second)],[if,'$VAR'(first),'$VAR'(second),'False']])
</span><span class="ansi38-255165000">(= 
  (and2 $first $second) 
  (if $first $second False))
</span>

;; direct translation of prolog code for member/2
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[memb,X,'Nil'],'False'])
</span><span class="ansi38-255165000">(= 
  (memb $X Nil) False)
</span>

;; member(X, [X|_]).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[memb,X,['Cons',X,Tail]],'True'])
</span><span class="ansi38-255165000">(= 
  (memb $X 
    (Cons $X $Tail)) True)
</span>

;;member(X, [_|Tail]) :-
;;  member(X, Tail).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[memb,X,['Cons',H,Tail]],[memb,X,Tail]])
</span><span class="ansi38-255165000">(= 
  (memb $X 
    (Cons $H $Tail)) 
  (memb $X $Tail))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[same,X,X],'True'])
</span><span class="ansi38-255165000">(= 
  (same $X $X) True)
</span>

;; works like =/2
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[eq,X,Y],[let,C,[same,X,Y],[if,[==,C,'True'],'True','False']]])
</span><span class="ansi38-255165000">(= 
  (eq $X $Y) 
  (let $C 
    (same $X $Y) 
    (if 
      (== $C True) True False)))
</span>

;; works like nth0_det from swipl lists.pl, won''t work yet with $index as variable
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[nth1,'$VAR'(index),'Nil','$VAR'(item)],'False'])
</span><span class="ansi38-255165000">(= 
  (nth1 $index Nil $item) False)
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[nth1,'$VAR'(index),['Cons',H,Tail],'$VAR'(item)],[if,[eq,'$VAR'(index),1],[eq,H,'$VAR'(item)],[nth1,[-,'$VAR'(index),1],Tail,'$VAR'(item)]]])
</span><span class="ansi38-255165000">(= 
  (nth1 $index 
    (Cons $H $Tail) $item) 
  (if 
    (eq $index 1) 
    (eq $H $item) 
    (nth1 
      (- $index 1) $Tail $item)))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[nextto,'$VAR'(x),'$VAR'(y),'$VAR'(list)],[let,'$VAR'(r),['nextto-impl','$VAR'(x),'$VAR'(y),'$VAR'(list)],[if,[==,'$VAR'(r),'True'],'$VAR'(r),'False']]])
</span><span class="ansi38-255165000">(= 
  (nextto $x $y $list) 
  (let $r 
    (nextto-impl $x $y $list) 
    (if 
      (== $r True) $r False)))
</span>

;; nextto(X, Y, [X,Y|_]).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['nextto-impl','$VAR'(x),'$VAR'(y),['Cons','$VAR'(x),['Cons','$VAR'(y),Tail]]],'True'])
</span><span class="ansi38-255165000">(= 
  (nextto-impl $x $y 
    (Cons $x 
      (Cons $y $Tail))) True)
</span>

;; nextto(X, Y, [_|Zs]) :-
;;      nextto(X, Y, Zs).
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,['nextto-impl','$VAR'(x),'$VAR'(y),['Cons','$VAR'(head),Tail]],['nextto-impl','$VAR'(x),'$VAR'(y),Tail]])
</span><span class="ansi38-255165000">(= 
  (nextto-impl $x $y 
    (Cons $head $Tail)) 
  (nextto-impl $x $y $Tail))
</span>

;;foo :-
;;    Employers=[_ , _ , _],
;;%    /Boris has sister/
;;    member([boris, _ , has_sister], Employers),
;;%    /cashier is the shortest and has no sister/
;;    nth1(1, Employers, [ _ , cashier, no_sister]),
;;%    /Semyon is higher than controller/
;;    nextto([ _ , controller, _], [semyon, _ , _ ], Employers),
;;    member([ivan, _ , _ ], Employers),
;;    member([_, supervisor, _], Employers),
;;    print(Employers), nl.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=asserted_metta_atom('&self',[=,[foo,Employers],[and2,[eq,Employers,[makelist,[A,B,C]]],[and2,[memb,[makelist,[boris,Y,has_sister]],Employers],[and2,[nth1,1,Employers,[makelist,[Z,cashier,no_sister]]],[and2,[nextto,[makelist,['$VAR'(p),controller,'$VAR'(v)]],[makelist,[semyon,'$VAR'(v1),'$VAR'(v2)]],Employers],[and2,[memb,[makelist,[ivan,'$VAR'(v3),'$VAR'(v4)]],Employers],[memb,[makelist,['$VAR'(v5),supervisor,'$VAR'(v6)]],Employers]]]]]]])
</span><span class="ansi38-255165000">(= 
  (foo $Employers) 
  (and2 
    (eq $Employers 
      (makelist 
        ($A $B $C))) 
    (and2 
      (memb 
        (makelist 
          (boris $Y has_sister)) $Employers) 
      (and2 
        (nth1 1 $Employers 
          (makelist 
            ($Z cashier no_sister))) 
        (and2 
          (nextto 
            (makelist 
              ($p controller $v)) 
            (makelist 
              (semyon $v1 $v2)) $Employers) 
          (and2 
            (memb 
              (makelist 
                (ivan $v3 $v4)) $Employers) 
            (memb 
              (makelist 
                ($v5 supervisor $v6)) $Employers)))))))
</span>

;;; !(let $r (foo $Employers) (if $r $Employers None))
;;; DMILES Made into assertEqualToResult since Rust MeTTa is getting superflulous None(s)..  we cant compare our answers to it
<span class="ansi38-013099040">!(assertEqualToResult 
  (let $R 
    (foo $Employers) 
    (if $R $Employers None)) 
  ( (Cons 
      (Cons ivan 
        (Cons cashier 
          (Cons no_sister Nil))) 
      (Cons 
        (Cons boris 
          (Cons controller 
            (Cons has_sister Nil))) 
        (Cons 
          (Cons semyon 
            (Cons supervisor 
              (Cons $V6_C35_17 Nil))) Nil)))))

</span><span class="ansi38-250144246">; !(let $R (foo $Employers) (if $R $Employers None))
</span>;<h3 id="LOGIC.PUZZLE.01">;; LOGIC.PUZZLE.01</h3>
; 
; EVAL TEST
; took 0.046 secs. (45.85 milliseconds) 
<span class="ansi36">(loonit_success 
  (equal_enough_for_test  
    ( (Cons 
        (Cons ivan 
          (Cons cashier 
            (Cons no_sister Nil))) 
        (Cons 
          (Cons boris 
            (Cons controller 
              (Cons has_sister Nil))) 
          (Cons 
            (Cons semyon 
              (Cons supervisor 
                (Cons $_2888 Nil))) Nil)))) 
    ( (Cons 
        (Cons ivan 
          (Cons cashier 
            (Cons no_sister Nil))) 
        (Cons 
          (Cons boris 
            (Cons controller 
              (Cons has_sister Nil))) 
          (Cons 
            (Cons semyon 
              (Cons supervisor 
                (Cons $_2888 Nil))) Nil))))))
</span>Deterministic: <span class="ansi33">Empty

</span>; Execution took 0.047 secs. (46.81 milliseconds) 
<span class="ansi32">% 966,037 inferences, 0.147 CPU in 0.147 seconds (100% CPU, 6559505 Lips)
</span>;                (= /opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/extended_compat/metta-examples/logic/puzzle.metta 0)
<br/><a href="https://github.com/logicmoo/vspace-metta/blob/main/MeTTaLog.md">Return to Summaries</a><br/>
;       (is_cmd_option halt --halt=true True)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 1
</span><span class="ansi32">Failures: 0
</span><span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 1
</span><span class="ansi32">Failures: 0
</span>
Script done on 2024-01-09 15:26:38-08:00 [COMMAND_EXIT_CODE="7"]

</pre>
</body>

</html>
