<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta')
1=[()]
2=[(Link A B)]
3=[(Link A B C)]
4=[(: (. $proof1 $proof2) (-> Number Bool))]
5=0.77user 0.00system 0:00.78elapsed 99%CPU (0avgtext+0avgdata 34372maxresident)k
5=0inputs+0outputs (0major+3844minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta', 1, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta', 2, [['Link', 'A', 'B']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta', 3, [['Link', 'A', 'B', 'C']]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta', 4, [[:, ['.', Proof1, Proof2], [->, 'Number', 'Bool']]]).

;;; Import module
<span class="ansi38-000068000">!(import! &self Unify.metta)

</span>      -->(0,'&self',['import!','&self','Unify.metta'],depth(1))
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta')
;; Test unify.
;; Should output (Link A B)
;;; TODO: this should be revised as there is now a unify function in
;;; the standard library.
;; Implement a unifier.  Like with `let` the left term must be an
;; Atom, so if it is function it will not be evaluated.  The
;; implementation however uses `case`, not `let`, that way it filters
;; out terms which have not been fully rewritten.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,unify,[->,'Atom',A,A,A]])
</span><span class="ansi38-255165000">  (: unify 
    (-> Atom $A $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[unify,Lterm,Rterm,Rewrite],[case,Rterm,[[Lterm,Rewrite]]])
</span><span class="ansi38-255165000">  (= 
    (unify $Lterm $Rterm $Rewrite) 
    (case $Rterm 
      ( ($Lterm $Rewrite))))
</span>

;; Definition of `unify*`
;; Similar to `unify`, but it takes a tuple containing pairs of terms to unify,
;; and a rewrite term.
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_atom('&self',[:,'unify*',[->,'Atom',A,A]])
</span><span class="ansi38-255165000">  (: unify* 
    (-> Atom $A $A))
</span>

<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',['unify*',Pairs,Rewrite],[case,Pairs,[[[],Rewrite],[Pairs,['let*',[[Head,['car-atom',Pairs]],[Tail,['cdr-atom',Pairs]]],[case,Head,[[[Lterm,Rterm],[unify,Lterm,Rterm,['unify*',Tail,Rewrite]]]]]]]]])
</span><span class="ansi38-255165000">  (= 
    (unify* $Pairs $Rewrite) 
    (case $Pairs 
      ( (() $Rewrite) 
        ($Pairs 
          (let* 
            ( ($Head 
                (car-atom $Pairs)) 
              ($Tail 
                (cdr-atom $Pairs))) 
            (case $Head 
              ( ( ($Lterm $Rterm) 
                  (unify $Lterm $Rterm 
                    (unify* $Tail $Rewrite))))))))))
</span>

      <--(0,retval('Empty'))
<span class="ansi33"> Empty

</span>;; Base case
;; Recursive step
; By using a case we guaranty
; that ill-formed inputs (non
; tuple of pairs) will be
; discarded
<span class="ansi38-000068000">!(unify 
  (Link $X B) 
  (Link A $Y) 
  (Link $X $Y))

</span>      -->(1,'&self',[unify,['Link',_484116,'B'],['Link','A',_484432],['Link',_484116,_484432]],depth(1))
        -->(2,'&self',[case,['Link','A',_484432],[[['Link',_484116,'B'],['Link',_484116,_484432]]]],depth(2))
            -->(3,'&self',['Link','A',_484432],depth(4))
            -->(4,'&self',['Link','A',_487748],depth(4))
        <--(2,retval(['Link','A',_489432]))
          -->(5,'&self',['Link','A',_487748],depth(3))
<span class="ansi33">  (Link A $_487748)
</span><span class="ansi32">['Y'='B','X'=_484116]
</span>

      <--(1,retval([case,['Link','A',_487234],[[['Link',_487264,'B'],['Link',_487264,_487234]]]]))
<span class="ansi31">
! (assertEqualToResult 
    (unify 
      (Link $X B) 
      (Link A $Y) 
      (Link $X $Y)) 
    ( (Link A B)))
(@ ! 
  (assertEqual 
    ( (Link A $_492352)) 
    ( (Link A B))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.102",exec,[unify,['Link',X,'B'],['Link','A',Y],['Link',X,Y]],'FAIL',[['Link','A','B']],[['Link','A',_492352]])

</span>

--------------------------------------------------------------------------
;; Test unify*.
;; Unify `Link $x B $z` with `Link A $y $z`, and `$z` with `C`
;; Should output (Link A B C)
<span class="ansi38-000068000">!(unify* 
  ( ( (Link $X B $Z) 
      (Link A $Y $Z)) 
    ($Z C)) 
  (Link $X $Y $Z))

</span>      -->(6,'&self',['unify*',[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']],['Link',_7640,_8240,_7932]],depth(1))
        -->(7,'&self',[case,[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']],[[[],['Link',_7640,_8240,_7932]],[[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']],['let*',[[_11976,['car-atom',[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']]]],[_12006,['cdr-atom',[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']]]]],[case,_11976,[[[_12066,_12072],[unify,_12066,_12072,['unify*',_12006,['Link',_7640,_8240,_7932]]]]]]]]]],depth(2))
            -->(8,'&self',[[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],[_7932,'C']],depth(4))
                -->(9,'&self',[['Link',_7640,'B',_7932],['Link','A',_8240,_7932]],depth(6))
                    -->(10,'&self',['Link',_7640,'B',_7932],depth(8))
                    <--(10,retval(['Link'|'False']))
                      -->(11,'&self',['Link'|'False'],depth(9))
                    -->(12,'&self',['Link','A',_8240,_7932],depth(8))
                <--(9,retval([['Link'|'False'],['Link','A',_20082,_20088]]))
                  -->(13,'&self',[['Link'|'False'],['Link','A',_8240,_7932]],depth(7))
                      -->(14,'&self',['Link'|'False'],depth(9))
                      -->(15,'&self',['Link','A',_8240,_7932],depth(9))
                -->(16,'&self',[_7932,'C'],depth(6))
            <--(8,retval([[['Link'|'False'],['Link','A',_22698,_22704]],[_22704,'C']]))
              -->(17,'&self',[[['Link'|'False'],['Link','A',_8240,_7932]],[_7932,'C']],depth(5))
                  -->(18,'&self',[['Link'|'False'],['Link','A',_8240,_7932]],depth(7))
                      -->(19,'&self',['Link'|'False'],depth(9))
                      -->(20,'&self',['Link','A',_8240,_7932],depth(9))
                  -->(21,'&self',[_7932,'C'],depth(7))
            -->(22,'&self',[[['Link',_13264,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']],depth(4))
                -->(23,'&self',[['Link',_13264,'B',_13276],['Link','A',_13300,_13276]],depth(6))
                    -->(24,'&self',['Link',_13264,'B',_13276],depth(8))
                    <--(24,retval(['Link'|'False']))
                      -->(25,'&self',['Link'|'False'],depth(9))
                    -->(26,'&self',['Link','A',_13300,_13276],depth(8))
                <--(23,retval([['Link'|'False'],['Link','A',_29106,_29112]]))
                  -->(27,'&self',[['Link'|'False'],['Link','A',_13300,_13276]],depth(7))
                      -->(28,'&self',['Link'|'False'],depth(9))
                      -->(29,'&self',['Link','A',_13300,_13276],depth(9))
                -->(30,'&self',[_13276,'C'],depth(6))
            <--(22,retval([[['Link'|'False'],['Link','A',_31722,_31728]],[_31728,'C']]))
              -->(31,'&self',[[['Link'|'False'],['Link','A',_13300,_13276]],[_13276,'C']],depth(5))
                  -->(32,'&self',[['Link'|'False'],['Link','A',_13300,_13276]],depth(7))
                      -->(33,'&self',['Link'|'False'],depth(9))
                      -->(34,'&self',['Link','A',_13300,_13276],depth(9))
                  -->(35,'&self',[_13276,'C'],depth(7))
            -->(36,'&self',['let*',[[_13348,['car-atom',[[['Link',==,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']]]],[_13378,['cdr-atom',[[['Link',==,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']]]]],[case,_13348,[[[_13438,_13444],[unify,_13438,_13444,['unify*',_13378,['Link',==,_13300,_13276]]]]]]],depth(4))
                -->(37,'&self',['car-atom',[[['Link',==,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']]],depth(6))
                <--(37,retval([['Link',==,'B',_35598],['Link','A',_35622,_35598]]))
                  -->(38,'&self',[['Link',==,'B',_13276],['Link','A',_13300,_13276]],depth(7))
                      -->(39,'&self',['Link',==,'B',_13276],depth(9))
                      <--(39,retval(['Link'|'False']))
                        -->(40,'&self',['Link'|'False'],depth(10))
                      -->(41,'&self',['Link','A',_13300,_13276],depth(9))
                  <--(38,retval([['Link'|'False'],['Link','A',_38626,_38632]]))
                    -->(42,'&self',[['Link'|'False'],['Link','A',_13300,_13276]],depth(8))
                        -->(43,'&self',['Link'|'False'],depth(10))
                        -->(44,'&self',['Link','A',_13300,_13276],depth(10))
                -->(45,'&self',['let*',[[_13378,['cdr-atom',[[['Link',==,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']]]]],[case,[['Link'|'False'],['Link','A',_13300,_13276]],[[[_13438,_13444],[unify,_13438,_13444,['unify*',_13378,['Link',==,_13300,_13276]]]]]]],depth(6))
                    -->(46,'&self',['cdr-atom',[[['Link',==,'B',_13276],['Link','A',_13300,_13276]],[_13276,'C']]],depth(8))
                    <--(46,retval([[_41362,'C']]))
                      -->(47,'&self',[[_13276,'C']],depth(9))
                          -->(48,'&self',[_13276,'C'],depth(11))
                    -->(49,'&self',['let*',[],[case,[['Link'|'False'],['Link','A',_13300,_13276]],[[[_13438,_13444],[unify,_13438,_13444,['unify*',[[_13276,'C']],['Link',==,_13300,_13276]]]]]]],depth(8))
                        -->(50,'&self',[case,[['Link'|'False'],['Link','A',_13300,_13276]],[[[_13438,_13444],[unify,_13438,_13444,['unify*',[[_13276,'C']],['Link',==,_13300,_13276]]]]]],depth(10))
                            -->(51,'&self',[['Link'|'False'],['Link','A',_13300,_13276]],depth(12))
                                -->(52,'&self',['Link'|'False'],depth(14))
                                -->(53,'&self',['Link','A',_13300,_13276],depth(14))
                            -->(54,'&self',[unify,['Link'|'False'],['Link','A',_13300,_13276],['unify*',[[_43250,'C']],['Link',==,_43280,_43250]]],depth(12))
                              -->(55,'&self',[case,['Link','A',_13300,_13276],[[['Link'|'False'],['unify*',[[_43250,'C']],['Link',==,_43280,_43250]]]]],depth(13))
                                  -->(56,'&self',['Link','A',_13300,_13276],depth(15))
                                  -->(57,'&self',['Link'|'False'],depth(15))
                              <--(55,retval(fail))
                            <--(54,retval([case,['Link','A',_45912,_45918],[[['Link'|'False'],['unify*',[[_45972,'C']],['Link',==,_46002,_45972]]]]]))
                        <--(50,retval(fail))
                    <--(49,retval(fail))
                <--(45,retval(fail))
            <--(36,retval(fail))
        <--(7,retval(fail))
      <--(6,retval([case,[[['Link',_12528,'B',_12540],['Link','A',_12564,_12540]],[_12540,'C']],[[[],['Link',_12528,_12564,_12540]],[[[['Link',_12528,'B',_12540],['Link','A',_12564,_12540]],[_12540,'C']],['let*',[[_12678,['car-atom',[[['Link',_12528,'B',_12540],['Link','A',_12564,_12540]],[_12540,'C']]]],[_12708,['cdr-atom',[[['Link',_12528,'B',_12540],['Link','A',_12564,_12540]],[_12540,'C']]]]],[case,_12678,[[[_12768,_12774],[unify,_12768,_12774,['unify*',_12708,['Link',_12528,_12564,_12540]]]]]]]]]]))
<span class="ansi31">
! (assertEqualToResult 
    (unify* 
      ( ( (Link $X B $Z) 
          (Link A $Y $Z)) 
        ($Z C)) 
      (Link $X $Y $Z)) 
    ( (Link A B C)))
(@ ! 
  (assertEqual () 
    ( (Link A B C))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.103",exec,['unify*',[[['Link',X,'B',Z],['Link','A',Y,Z]],[Z,'C']],['Link',X,Y,Z]],'FAIL',[['Link','A','B','C']],[])

</span>

--------------------------------------------------------------------------
;; Test complex unify* query
;; After a series of unifications, it should define the function composition `(. g f)`
;; having type `(-> Number Bool)`
<span class="ansi38-000068000">!(unify* 
  ( ( (: $Ructor 
        (-> $Premise1 $Premise2 $Conclusion)) 
      (: -> 
        (-> $B $C) 
        (-> $A $B) 
        (-> $A $C))) 
    ( (: 
        ($Ructor $Proof1 $Proof2) $Conclusion) 
      (: $Term 
        (-> Number Bool))) 
    ( (: $Proof1 $Premise1) 
      (: g 
        (-> String Bool))) 
    ( (: $Proof2 $Premise2) 
      (: f 
        (-> Number String)))) 
  (: $Term 
    (-> Number Bool)))

</span>      -->(58,'&self',['unify*',[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]],[:,_112460,[->,'Number','Bool']]],depth(1))
          -->(59,'&self',[->,'Number','Bool'],depth(3))
        -->(60,'&self',[case,[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]],[[[],[:,_112460,[->,'Number','Bool']]],[[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]],['let*',[[_117504,['car-atom',[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]]]],[_117534,['cdr-atom',[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]]]]],[case,_117504,[[[_117594,_117600],[unify,_117594,_117600,['unify*',_117534,[:,_112460,[->,'Number','Bool']]]]]]]]]]],depth(2))
            -->(61,'&self',[[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],[[:,[_108056,_111482,_111796],_109038],[:,_112460,[->,'Number','Bool']]],[[:,_111482,_108386],[:,g,[->,'String','Bool']]],[[:,_111796,_108712],[:,f,[->,'Number','String']]]],depth(4))
                -->(62,'&self',[->,'Number','Bool'],depth(6))
                -->(63,'&self',[[:,_108056,[->,_108386,_108712,_109038]],[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],depth(6))
                    -->(64,'&self',[:,_108056,[->,_108386,_108712,_109038]],depth(8))
                    <--(64,retval('True'))
                    -->(65,'&self',[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]],depth(8))
                        -->(66,'&self',[->,_109416,_109700],depth(10))
                        -->(67,'&self',[->,_110000,_109416],depth(10))
                        -->(68,'&self',[->,_110000,_109700],depth(10))
                <--(63,retval(['True',[:,->,[->,_124648,_124654],[->,_124672,_124648],[->,_124672,_124654]]]))
                  -->(69,'&self',['True',[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]]],depth(7))
                      -->(70,'&self',[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]],depth(9))
                          -->(71,'&self',[->,_109416,_109700],depth(11))
                          -->(72,'&self',[->,_110000,_109416],depth(11))
                          -->(73,'&self',[->,_110000,_109700],depth(11))
                      -->(74,'&self',[:,->,[->,_109416,_109700],[->,_110000,_109416],[->,_110000,_109700]],depth(9))
                          -->(75,'&self',[->,_109416,_109700],depth(11))
                          -->(76,'&self',[->,_110000,_109416],depth(11))
                          -->(77,'&self',[->,_110000,_109700],depth(11))
                -->(78,'&self',[[:,['unify*',_111482,_111796],_108712],[:,_112460,[->,'Number','Bool']]],depth(6))
                    -->(79,'&self',[->,'Number','Bool'],depth(8))
                    -->(80,'&self',[->,'Number','Bool'],depth(8))
                    -->(81,'&self',[:,['unify*',_111482,_111796],_108712],depth(8))
                        -->(82,'&self',['unify*',_111482,_111796],depth(10))
                          -->(83,'&self',[case,_111482,[[[],_111796],[_111482,['let*',[[_133392,['car-atom',_111482]],[_133422,['cdr-atom',_111482]]],[case,_133392,[[[_133482,_133488],[unify,_133482,_133488,['unify*',_133422,_111796]]]]]]]]],depth(11))
                              -->(84,'&self',['let*',[[_134464,['car-atom',_134440]],[_134494,['cdr-atom',_134440]]],[case,_134464,[[[_134554,_134560],[unify,_134554,_134560,['unify*',_134494,_134608]]]]]],depth(13))
                                  -->(85,'&self',['car-atom',_134440],depth(15))
                                  <--(85,retval(_135164))
                                  -->(86,'&self',['let*',[[_134494,['cdr-atom',[_134464|_135474]]]],[case,_134464,[[[_134554,_134560],[unify,_134554,_134560,['unify*',_134494,_134608]]]]]],depth(15))
                                      -->(87,'&self',['cdr-atom',[_134464|_135474]],depth(17))
                                      <--(87,retval(_135474))
                                      -->(88,'&self',['let*',[],[case,_134464,[[[_134554,_134560],[unify,_134554,_134560,['unify*',_134494,_134608]]]]]],depth(17))
                                          -->(89,'&self',[case,_134464,[[[_134554,_134560],[unify,_134554,_134560,['unify*',_134494,_134608]]]]],depth(19))
                                              -->(90,'&self',[unify,_137224,_137230,['unify*',_137266,_137272]],depth(21))
                                                -->(91,'&self',[case,_137230,[[_137224,['unify*',_137266,_137272]]]],depth(22))
                                                    -->(92,'&self',['unify*',_138432,_138438],depth(24))
                                                      -->(93,'&self',[case,_138432,[[[],_138438],[_138432,['let*',[[_139240,['car-atom',_138432]],[_139270,['cdr-atom',_138432]]],[case,_139240,[[[_139330,_139336],[unify,_139330,_139336,['unify*',_139270,_138438]]]]]]]]],depth(25))
                                                          -->(94,'&self',['let*',[[_140312,['car-atom',_140288]],[_140342,['cdr-atom',_140288]]],[case,_140312,[[[_140402,_140408],[unify,_140402,_140408,['unify*',_140342,_140456]]]]]],depth(27))
                                                              -->(95,'&self',['car-atom',_140288],depth(29))
                                                              <--(95,retval(_141012))
                                                              -->(96,'&self',['let*',[[_140342,['cdr-atom',[_140312|_141322]]]],[case,_140312,[[[_140402,_140408],[unify,_140402,_140408,['unify*',_140342,_140456]]]]]],depth(29))
                                                                  -->(97,'&self',['cdr-atom',[_140312|_141322]],depth(31))
                                                                  <--(97,retval(_141322))
                                                                  -->(98,'&self',['let*',[],[case,_140312,[[[_140402,_140408],[unify,_140402,_140408,['unify*',_140342,_140456]]]]]],depth(31))
                                                                      -->(99,'&self',[case,_140312,[[[_140402,_140408],[unify,_140402,_140408,['unify*',_140342,_140456]]]]],depth(33))
                                                                          -->(100,'&self',[unify,_143072,_143078,['unify*',_143114,_143120]],depth(35))
Switched off tracing. For a longer trace !(pragma! tracelen 101))<span class="ansi31">

! (assertEqualToResult 
    (unify* 
      ( ( (: $Ructor 
            (-> $Premise1 $Premise2 $Conclusion)) 
          (: -> 
            (-> $B $C) 
            (-> $A $B) 
            (-> $A $C))) 
        ( (: 
            ($Ructor $Proof1 $Proof2) $Conclusion) 
          (: $Term 
            (-> Number Bool))) 
        ( (: $Proof1 $Premise1) 
          (: g 
            (-> String Bool))) 
        ( (: $Proof2 $Premise2) 
          (: f 
            (-> Number String)))) 
      (: $Term 
        (-> Number Bool))) 
    ( (: 
        (. $Proof1 $Proof2) 
        (-> Number Bool))))
(@ ! 
  (assertEqual () 
    ( (: 
        (. $Proof1 $Proof2) 
        (-> Number Bool)))))
write_pass_fail_result("SYNTHESIS.UNIFYTEST.104",exec,['unify*',[[[:,Ructor,[->,Premise1,Premise2,Conclusion]],[:,->,[->,B,C],[->,A,B],[->,A,C]]],[[:,[Ructor,Proof1,Proof2],Conclusion],[:,Term,[->,'Number','Bool']]],[[:,Proof1,Premise1],[:,g,[->,'String','Bool']]],[[:,Proof2,Premise2],[:,f,[->,'Number','String']]]],[:,Term,[->,'Number','Bool']]],'FAIL',[[:,['.',Proof1,Proof2],[->,'Number','Bool']]],[])

</span>

--------------------------------------------------------------------------
<span class="ansi32">% 1,087,834 inferences, 0.308 CPU in 0.308 seconds (100% CPU, 3526894 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.metta" 0)
<span class="ansi1">LoonIt Report
</span>------------
<span class="ansi32">Successes: 0
</span><span class="ansi31">Failures: 3
</span>doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/compat/hyperon-pln/metta/synthesis/UnifyTest.html" )

</pre>
</body>

</html>
