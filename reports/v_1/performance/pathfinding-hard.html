<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi38-000068000 { color: #004400; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-015015015 { color: #0F0F0F; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-000082136 { color: #005288; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
.ansi38-000068000 { color: #004400; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
 (@ track_load_into_file "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta")
%~ load_answer_file( '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta.answers',
%~   '/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta')
1=[()]
2=[(Error (assertEqual (path a f 11) True) 
3=Expected: [True]
3=Got: [(path a f 11)]
3=Missed result: True)]
3=0.10user 0.01system 0:00.11elapsed 100%CPU (0avgtext+0avgdata 32960maxresident)k
3=0inputs+0outputs (0major+3483minor)pagefaults 0swaps
:- dynamic file_answers/3.

file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta', 1, [[]]).
file_answers('/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta', 2, "[(Error (assertEqual (path a f 11) True) ").

<span class="ansi38-000068000">!(pragma! compile full)

</span>; Evaluation took 0.090 ms. (90.20 microseconds) 
<span class="ansi33"> Empty

</span>%~ [ convert(Convert),
%~   head_preconds_into_body((edge(a,b,2,_314068):-_314068='True'))]
%~ [convert(_315466),head_preconds_into_body((edge(a,b,2,_314068):-_314068='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,a,b,2],'True')
</span><span class="ansi38-255165000">  (= 
    (edge a b 2) True)
</span><span class="ansi38-000082136">  :- dynamic edge/4.

  edge(a, b, 2, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(b,a,2,_364426):-_364426='True'))]
%~ [convert(_365816),head_preconds_into_body((edge(b,a,2,_364426):-_364426='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,b,a,2],'True')
</span><span class="ansi38-255165000">  (= 
    (edge b a 2) True)
</span><span class="ansi38-000082136">
  edge(b, a, 2, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(b,c,3,_411802):-_411802='True'))]
%~ [convert(_413192),head_preconds_into_body((edge(b,c,3,_411802):-_411802='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,b,c,3],'True')
</span><span class="ansi38-255165000">  (= 
    (edge b c 3) True)
</span><span class="ansi38-000082136">
  edge(b, c, 3, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(c,b,3,_459644):-_459644='True'))]
%~ [convert(_461034),head_preconds_into_body((edge(c,b,3,_459644):-_459644='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,c,b,3],'True')
</span><span class="ansi38-255165000">  (= 
    (edge c b 3) True)
</span><span class="ansi38-000082136">
  edge(c, b, 3, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(c,d,4,_2292):-_2292='True'))]
%~ [convert(_2318),head_preconds_into_body((edge(c,d,4,_2292):-_2292='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,c,d,4],'True')
</span><span class="ansi38-255165000">  (= 
    (edge c d 4) True)
</span><span class="ansi38-000082136">
  edge(c, d, 4, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(d,c,4,_39108):-_39108='True'))]
%~ [convert(_40498),head_preconds_into_body((edge(d,c,4,_39108):-_39108='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,d,c,4],'True')
</span><span class="ansi38-255165000">  (= 
    (edge d c 4) True)
</span><span class="ansi38-000082136">
  edge(d, c, 4, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(b,e,1,_88980):-_88980='True'))]
%~ [convert(_90370),head_preconds_into_body((edge(b,e,1,_88980):-_88980='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,b,e,1],'True')
</span><span class="ansi38-255165000">  (= 
    (edge b e 1) True)
</span><span class="ansi38-000082136">
  edge(b, e, 1, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(e,b,1,_138684):-_138684='True'))]
%~ [convert(_140074),head_preconds_into_body((edge(e,b,1,_138684):-_138684='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,e,b,1],'True')
</span><span class="ansi38-255165000">  (= 
    (edge e b 1) True)
</span><span class="ansi38-000082136">
  edge(e, b, 1, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(e,f,5,_189490):-_189490='True'))]
%~ [convert(_190880),head_preconds_into_body((edge(e,f,5,_189490):-_189490='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,e,f,5],'True')
</span><span class="ansi38-255165000">  (= 
    (edge e f 5) True)
</span><span class="ansi38-000082136">
  edge(e, f, 5, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(f,e,5,_240762):-_240762='True'))]
%~ [convert(_242152),head_preconds_into_body((edge(f,e,5,_240762):-_240762='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,f,e,5],'True')
</span><span class="ansi38-255165000">  (= 
    (edge f e 5) True)
</span><span class="ansi38-000082136">
  edge(f, e, 5, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(f,g,6,_291866):-_291866='True'))]
%~ [convert(_293256),head_preconds_into_body((edge(f,g,6,_291866):-_291866='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,f,g,6],'True')
</span><span class="ansi38-255165000">  (= 
    (edge f g 6) True)
</span><span class="ansi38-000082136">
  edge(f, g, 6, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((edge(g,f,6,_343482):-_343482='True'))]
%~ [convert(_344872),head_preconds_into_body((edge(g,f,6,_343482):-_343482='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[edge,g,f,6],'True')
</span><span class="ansi38-255165000">  (= 
    (edge g f 6) True)
</span><span class="ansi38-000082136">
  edge(g, f, 6, A) :-
    A='True'.

</span>

%~ [ convert(Convert),
%~   head_preconds_into_body((path(X,X,0,_398016):-_398016='True'))]
%~ [convert(_399502),head_preconds_into_body((path(X,X,0,_398016):-_398016='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[path,X,X,0],'True')
</span><span class="ansi38-255165000">  (= 
    (path $X $X 0) True)
</span><span class="ansi38-000082136">  :- dynamic path/4.

  path(X, X, 0, A) :-
    A='True'.

</span>

; base case, node to itself with distance 0
%~ [ convert(Convert),
%~   head_preconds_into_body( path(X,Y,W,Path_Is_W) :-
%~                              u_assign(edge(X,Z,D),Assign_True_Edge) ,
%~                              u_assign('True',Assign_True_Edge) ,
%~                              u_assign(path(Z,Y,Dw),Assign_True_Path) ,
%~                              u_assign('True',Assign_True_Path) ,
%~                              u_assign([+,D,Dw],Is_Assign_W5) ,
%~                              u_assign(W is Is_Assign_W5,Path_Is_W))]
%~ [convert(_2482),head_preconds_into_body((path(X,Y,W,_2456):-u_assign(edge(X,Z,D),_2496),u_assign('True',_2496),u_assign(path(Z,Y,Dw),_2512),u_assign('True',_2512),u_assign([+,D,Dw],_2528),u_assign(W is _2528,_2456)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[path,X,Y,W],[and,[edge,X,Z,D],[path,Z,Y,Dw],[is,W,[+,D,Dw]]])
</span><span class="ansi38-255165000">  (= 
    (path $X $Y $W) 
    (and 
      (edge $X $Z $D) 
      (path $Z $Y $Dw) 
      (is $W 
        (+ $D $Dw))))
</span><span class="ansi38-000082136">
  path(X, Y, W, A) :-
    u_assign(edge(X, Z, D), B),
    u_assign('True', B),
    u_assign(path(Z, Y, Dw), C),
    u_assign('True', C),
    u_assign([+, D, Dw], D),
    u_assign(W is D, A).

</span>

; recursive case with weights
; Finding all nodes reachable from a given node.
%~ [ convert(Convert),
%~   head_preconds_into_body((reachable(X,X,_39012):-_39012='True'))]
%~ [convert(_40484),head_preconds_into_body((reachable(X,X,_39012):-_39012='True'))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[reachable,X,X],'True')
</span><span class="ansi38-255165000">  (= 
    (reachable $X $X) True)
</span><span class="ansi38-000082136">
  reachable(X, X, A) :-
    A='True'.

</span>

; base case, a node is always reachable from itself
%~ [ convert(Convert),
%~   head_preconds_into_body( reachable(X,Y,Reachable_Or_Y) :-
%~                              u_assign([edge,X,Z,'_'],Assign_True) ,
%~                              u_assign('True',Assign_True) ,
%~                              u_assign([reachable,Z,Y],Or_Assign) ,
%~                              u_assign(or(Or_Assign),Reachable_Or_Y))]
%~ [convert(_91556),head_preconds_into_body((reachable(X,Y,_90092):-(u_assign([edge,X,Z,'_'],_92516),u_assign('True',_92516),u_assign([reachable,Z,Y],_92452)),u_assign(or(_92452),_90092)))]
<span class="ansi38-255165000"></span><span class="ansi38-015015015">  ; Action: load=metta_defn('&self',[reachable,X,Y],[or,[and,[edge,X,Z,'_'],[reachable,Z,Y]]])
</span><span class="ansi38-255165000">  (= 
    (reachable $X $Y) 
    (or 
      (and 
        (edge $X $Z _) 
        (reachable $Z $Y))))
</span><span class="ansi38-000082136">
  reachable(X, Y, A) :-
    u_assign([edge, X, Z, '_'], B),
    u_assign('True', B),
    u_assign([reachable, Z, Y], C),
    u_assign(or(C), A).

</span>

; recursive case
; Pathfinding tests

[assertEqual,[path,a,f,11],'True']
<span class="ansi38-000068000">!(assertEqual 
  (path a f 11) True)

</span>
[assertEqual,[reachable,a,f],'True']
<span class="ansi38-000068000">!(assertEqual 
  (reachable a f) True)

</span>
[assertEqual,[path,a,c,_],'True']
<span class="ansi38-000068000">!(assertEqual 
  (path a c $_) True)

</span><span class="ansi32">% 2,488,976 inferences, 0.616 CPU in 0.616 seconds (100% CPU, 4039113 Lips)
</span> (@ = "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.metta" 0)
doing(ansi2html -u < "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/TEE.ansi" > "/opt/logicmoo_workspace/packs_sys/logicmoo_opencog/MeTTa/vspace-metta/examples/performance/pathfinding-hard.html" )

</pre>
</body>

</html>
